

INTERNATIONAL STANDARD

INTERNATIONAL ORGANIZATION FOR STANDARDIZATIONORGANISATION INTERNATIONALE DE NORMALISATION

Reference number ISO/IEC 10589: 1992 (E)

ISO/IEC10589

First Edition  1992-04-30

Information technology --Telecommunications and information exchange between systems --Intermediate system to Intermediate system intra-domain routeinginformation exchange protocol for use in conjunction with the protocol forproviding the connectionless-mode Network Service (ISO 8473) Technologies de l'information -- Communication de donne'es et e'changed'information entre syste`mes -- Protocole intra-domain de routage d'un syste`me in- termediare a` un syste`me intermediare a` utiliser conjointement avec le protocolefournissant le service de re'seau en mode sans connexion (ISO 8473)

(C) ISO/IEC 1992All rights reserved. No part of this publication may be reproduced or utilized in any form or by any means, electronic of mechanical, including photocopying and microfilm, without permission in writingfrom the publisher.

ISO/IEC Copyright Office a Case Postale 56 a CH-1211 Gene`ve 20  a Switzerland Printed in Switzerland

ISO/IEC 10589:1992 (E)

ii Contents

1  Scope ................................................................................... 1 2  Normative references .......................................................... 1 3  Definitions ............................................................................ 2 4  Symbols and abbreviations  ................................................. 3 5  Typographical conventions .................................................. 4 6  Overview of the protocol ...................................................... 4 7  Subnetwork independent functions .................................... 10 8  Subnetwork dependent functions ...................................... 35 9  Structure and encoding of PDUs ....................................... 48 10  System environment .......................................................... 66 11  System management  ........................................................ 67 12  Conformance ................................................................... 100 Annex A  PICS pro forma ............................................................. 105 Annex B  Supporting technical material ....................................... 117 Annex C  Implementation guidelines and examples .................... 121 Annex D  Congestion control and avoidance ............................... 127 Annex E  Syntax imported from ISO 10165-5 (SC6 GMI) ............ 129 Annex F  Bibliography .................................................................. 141 Index ......................................................................................... 143

ISO/IEC 10589:1992 (E)

iii Foreword ISO  (the  International  Organisation  for  Standardisation)  and  IEC  (the  InternationalElectrotechnical  Commission)  form  the  the  specialized  system  for  worldwide  stan- dardization. National bodies that are members of ISO or IEC participate in the devel-opment  of  International  Standards  through  technical  committees  established  by  the respective organization to deal with particular fields of mutual interest. Other interna-tional  organisations,  governmental  and  non-governmental,  in  liaison  with  ISO  and IEC, also take part in the work. In the field of information technology, ISO and IEC have established a joint technicalcommittee ISO/IEC JTC 1. Draft International Standards adopted by the joint techni- cal committee are circulated to national bodies for voting. Publication as an Interna-tional  Standard  requires  approval  by  at  least  75%  approval  by  the  national  bodies casting a vote. International  Standard  ISO/IEC  10589  was  prepared  by  Joint  Technical  CommitteeISO/IEC JTC 1, Information technology.

Annexes A and E form an integral part of this International Standard. Annexes B, C, Dand F are for information only.

ISO/IEC 10589:1992 (E)

iv

Introduction This International Standard is one of a set of International Standards produced to facilitate theinterconnection of open systems. The set of standards covers the services and protocols required to achieve such interconnection. The  protocol  defined  in  this  International  Standard  is  positioned  with  respect  to  other  relatedstandards by the layers defined in ISO 7498 and by the structure defined in ISO 8648. In par- ticular, it is a protocol of the Network Layer. This protocol permits Intermediate Systems withina routeing domain to exchange configuration and routeing information to facilitate the operation of the routeing and relaying functions of the Network Layer.  The protocol is designed to operate in close conjunction with ISO 9542 and ISO 8473. ISO 9542is  used  to  establish  connectivity  and  reachability  between  End  Systems  and  Intermediate  sys- tems on individual subnetworks. Data is carried using the protocol specified in ISO 8473. Therelated algorithms for route calculation and maintenance are also described. 

The intra-domain IS-IS routeing protocol is intended to support large routeing domains consist-ing  of  combinations  of  many  types  of  subnetworks.  This  includes  point-to-point  links, multipoint links, X.25 subnetworks, and broadcast subnetworks such as ISO 8802 LANs.  In order to support  large routeing domains, provision is made for Intra-domain routeing to beorganised hierarchically. A large domain may be administratively divided into areas. Each sys- tem  resides  in  exactly  one  area.  Routeing  within  an  area  is  referred  to  as  Level  1  routeing.Routeing  between  areas is referred to as  Level 2 routeing. Level  2  Intermediate systems  keep track of the paths to destination areas. Level 1 Intermediate systems keep track of the routeingwithin  their  own  area.  For  an  NPDU  destined  to  another  area,  a  Level  1  Intermediate  system sends the NPDU to the nearest level 2 IS in its own area, regardless of what the destination areais. Then the NPDU travels via level 2 routeing to the destination area, where it again travels via level 1 routeing to the destination End system. 

INTERNATIONAL STANDARD ISO/IEC 10589:1992 (E)

1 Information technology -- Telecommunications andinformation exchange between systems -- Intermediate system to Intermediate system Intra-domain routeinginformation exchange protocol for use in conjunction with the protocol for providing the connectionless-modeNetwork Service (ISO 8473)

1  Scope This International Standard specifies a protocol which is usedby  Network  Layer  entities  operating  the  protocol  specified  in ISO 8473 in Intermediate Systems to maintain routeing infor-mation for the purpose of routeing within a single routeing do- main. The protocol specified in this International Standard re-lies  upon  the  provision  of  a  connectionless-mode  underlying service.1) This International Standard specifies: 

a) procedures  for  the  transmission  of  configuration  androuteing information between network entities residing in

Intermediate Systems within a single routeing domain;  b) the encoding of the protocol data units used for the trans-mission of the configuration and routeing information; 

c) procedures for the correct interpretation of protocol con-trol information; and  d) the functional requirements for implementations claimingconformance to this International Standard. The procedures are defined in terms of

e) the  interactions  between  Intermediate  system  Networkentities through the exchange of protocol data units;

f) the interactions between a Network entity and an under-lying  service  provider  through  the  exchange  of  subnet-

work service primitives; and g) the constraints on route determination which must be ob-served  by  each  Intermediate  system  when  each  has  a

routeing  information  base  which  is  consistent  with  theothers.

2  Normative references The  following  International  Standards  contain  provisionswhich,  through  reference  in  this  text,  constitute  provisions  of this International Standard. At the time of publication, the edi-tions indicated were valid. All International Standards are sub- ject to revision, and parties to agreements based on this Inter-national Standard are encouraged to investigate the possibility

of applying the most recent editions of the International Stan-dards  listed  below.  Members  of  IEC  and  ISO  maintain  regis- ters of currently valid International Standards. ISO  7498:1984,  Information  processing  systems  --  OpenSystems Interconnection -- Basic Reference Model.

ISO  7498/Add.1:1987,  Information  processing  systems  --Open Systems Interconnection -- Basic Reference Model -- Addendum 1: Connectionless-mode Transmission. ISO  7498-3:1989,  Information  processing  systems  --  OpenSystems  Interconnection  --  Basic  Reference  Model  -- Part 3: Naming and addressing. ISO  7498-4:1989,  Information  processing  systems  --  OpenSystems  Interconnection  --  Basic  Reference  Model  -- Part 4: Management framework. ISO/IEC  8208:1990,  Information  technology  --  Data  com-munications -- X.25 packet Layer Protocol for Data Termi- nal Equipment. ISO  8348:1987,  Information  processing  systems  --  Datacommunications -- Network service definition.

ISO  8348/Add.1:1987,  Information  processing  systems  --Data communications -- Network Service Definition -- Ad- dendum 1: Connectionless-mode transmission. ISO  8348/Add.2:1988,  Information  processing  systems  --Data communications -- Network Service Definition -- Ad- dendum 2: Network layer addressing. ISO  8473:1988,  Information  processing  systems  --  Datacommunications  --  Protocol  for  providing  the connectionless-mode network service. ISO/IEC  8473/Add.3:1989,  Information  processing  systems--  Data  Communications  --  Protocol  for  providing  the connectionless-mode network service -- Addendum 3: Pro-vision of the underlying service assumed by ISO 8473 over subnetworks which provide the OSI data link service. ISO  8648:1990,  Information  processing  systems  --  OpenSystems  Interconnection  --  Internal  organisation  of  the Network Layer.

1) See ISO 8473 and its addendum 3 for the mechanisms necessary to realise this service on subnetworks based on ISO 8208, ISO 8802, and the OSIData Link Service.

ISO/IEC 10589:1992 (E)

2 ISO/IEC  8802-1:1),  Information  technology  --  Telecommu-nications and information exchange between systems -- Lo- cal area networks -- Part 1: General Introduction. ISO  8802-2:1989,  Information  processing  systems  --  Localarea networks -- Part 2: Logical Link Control.

ISO/IEC  8802-3:1990,  Information  processing  systems  --Local area networks -- Part 3: Carrier sense multiple access with collision detection (CSMA/CD) access method and physi-cal layer specifications.

ISO/IEC  8802-5:1),  Information  technology  --  Local  areanetworks  --  Part  5:  Token  ring  access  method  and  physical layer specifications. ISO/IEC  8802-6:1),  Information  technology  --  Local  areanetworks -- Part 6: Distributed Queue Dual Bus (DQDB) ac- cess method and physical layer specifications. ISO/IEC 9314:1989, Information processing systems -- FiberDistributed Data Interface (FDDI).

ISO 9542:1988, Information processing systems - Telecom-munications and information exchange between systems -- End system to Intermediate system Routeing exchange pro-tocol for use in conjunction with the protocol for providing the connectionless -mode network service (ISO 8473). ISO/IEC TR 9575:1990, Information technology -- Telecom-munications and information exchange between systems -- OSI Routeing Framework. ISO/IEC TR 9577:1990, Information technology -- Telecom-munications and information exchange between systems -- Protocol identification in the network layer. ISO/IEC  10039:1991,  Information  technology  --  Open  Sys-tems  Interconnection  --  Local  area  networks  --  Medium Access Control (MAC) service definition. ISO/IEC  10165-1:1),  Information  technology  --  Open  Sys-tems Interconnection -- Structure of Management Informa- tion - Part 1: Management Information Model. ISO/IEC 10165-4:1), Information technology -- Open SystemsInterconnection  --  Structure  of  management  information  -- Part 4: Guidelines for the definition of managed objects. ISO/IEC  10733:1),  Information  technology  --  Telecommuni-cations and information exchange between systems -- Ele- ments  of  management  information  relating  to  OSI  NetworkLayer standards.

3  Definitions 3.1 Reference model definitions This International Standard makes use of the following termsdefined in ISO 7498:

a) Network Layerb) Network Service access point c) Network Service access point addressd) Network entity e) Routeingf) Network protocol g) Network relayh) Network protocol data unit

3.2 Network layer architecturedefinitions

This International Standard makes use of the following termsdefined in ISO 8648:

a) Subnetworkb) End system c) Intermediate systemd) Subnetwork service e) Subnetwork Access Protocol f) Subnetwork Dependent Convergence Protocol  g) Subnetwork Independent Convergence Protocol

3.3 Network layer addressingdefinitions

This International Standard makes use of the following termsdefined in ISO 8348/Add.2:

a) Subnetwork addressb) Subnetwork point of attachment c) Network Entity Title

3.4 Local area network definitions This International Standard makes use of the following termsdefined in ISO 8802: 

a) Multi-destination address b) Media access control c) Broadcast medium

3.5 Routeing framework definitions  This International Standard makes use of the following termsdefined in ISO/IEC TR 9575: 

a) Administrative Domain b) Routeing Domain  c) Hop d) Black hole 

1) To be published

ISO/IEC 10589:1992 (E)

3 3.6 Additional definitions For  the purposes of this  International  Standard,  the followingdefinitions apply: 

3.6.1    area:  A  routeing  subdomain  which  maintains  de-tailed  routeing  information  about  its  own  internal

composition, and also maintains routeing informationwhich allows it to reach other routeing subdomains. It corresponds to the Level 1 subdomain. 

3.6.2    neighbour:  An  adjacent  system  reachable  by  tra-versal of a single subnetwork by a PDU. 

3.6.3    adjacency:  A  portion  of  the  local  routeing  informa-tion  which  pertains  to  the  reachability  of  a  single

neighbour ES or IS over a single circuit. Adjacencies are used as input to the Decision Processfor forming paths through the routeing domain.

A separate adjacency is created for each neighbour ona  circuit,  and  for  each  level  of  routeing  (i.e.  level  1 and level 2) on a broadcast circuit.

3.6.4    circuit:  A  subset  of  the  local  routeing  informationbase  pertinent  to  a  single  local  SNPA.  The  system

management view of a circuit is presented in a link-age managed object.

3.6.5    link:  The  communication  path  between  two  neigh-bours. 

A  link  is  "up"  when  communication  is  possible  be-tween the two SNPAs. 3.6.6    designated  IS:  The  Intermediate  system  on  a  LANwhich  is  designated  to  perform  additional  duties.  In

particular  it  generates Link State PDUs on behalf ofthe LAN, treating the LAN as a pseudonode. 

3.6.7    pseudonode:  Where  a  broadcast  subnetwork  has  nconnected  Intermediate  systems,  the  broadcast  sub-

network itself is considered to be a pseudonode.  The pseudonode has links to each of the n Intermedi-ate and End systems. Each of the ISs has a single link to  the  pseudonode  (rather  than  n-1  links  to  each  ofthe other Intermediate systems). Link State PDUs are generated on behalf of the pseudonode by the Desig-nated IS. This is depicted below in figure 1.

3.6.8    broadcast  subnetwork:  A  subnetwork  which  sup-ports  an  arbitrary  number  of  End  systems  and  Inter-

mediate systems and additionally is capable of trans-mitting a single SNPDU to a subset of these systems in response to a single SN_UNITDATA request.

3.6.9    general topology subnetwork: A subnetwork whichsupports an arbitrary number of End systems and In-

termediate systems, but does not support a convenientmulti-destination connectionless transmission facility, as does a broadcast subnetwork. 

3.6.10   routeing  subdomain:  a  set  of  Intermediate  systemsand  End  systems  located  within  the  same  Routeing

domain.

3.6.11   level 2 subdomain: the set of all Level 2 Intermedi-ate systems in a Routeing domain.

3.6.12  jitter:  a  small  random  variation  introduced  into  thevalue of a timer to prevent multiple timer expirations

in different systems from becoming synchronised.

4  Symbols and abbreviations  4.1 Data units PDU Protocol Data Unit SNSDU Subnetwork Service Data Unit NSDU Network Service Data UnitNPDU

Network Protocol Data Unit SNPDU Subnetwork Protocol Data Unit

4.2 Protocol data units ESH PDU ISO 9542 End System Hello Protocol Data Unit ISH PDU

ISO  9542  Intermediate  System  Hello  ProtocolData Unit

RD PDU ISO 9542 Redirect Protocol Data UnitIIH PDU

Intermediate  system  to  Intermediate  systemHello Protocol Data Unit

LSP Link State Protocol Data Unit  SNP Sequence Numbers Protocol Data UnitCSNP

Complete  Sequence  Numbers  Protocol  DataUnit

PSNP Partial Sequence Numbers Protocol Data Unit

pseudo-node IS IS IS IS IS IS

ES ES Figure 1 - Use of a pseudonode to collapse a LAN Topology

ISO/IEC 10589:1992 (E)

4 4.3 Addresses AFI Authority and Format IndicatorDSP

Domain Specific PartIDI Initial Domain IdentifierIDP Initial Domain PartNET Network Entity TitleNPAI Network Protocol Addressing InformationNSAP Network Service Access PointSNPA Subnetwork Point of Attachment

4.4 Miscellaneous DA Dynamically AssignedDED

Dynamically Established Data linkDTE Data Terminal EquipmentES End SystemIS Intermediate SystemHDLC High Level Data Link ControlISDN Integrated Services Digital NetworkFDDI Fiber Distributed Data InterfaceL1 Level 1L2 Level 2LAN Local Area NetworkMAC Media Access ControlMAN Metropolitan Area NetworkNLPID Network Layer Protocol IdentifierPSTN Public Switched Telephone NetworkOSIE Open Systems Interconnection EnvironmentPCI Protocol Control InformationQoS Quality of ServiceSN SubnetworkSNAcP Subnetwork Access ProtocolSNDCP Subnetwork Dependent Convergence ProtocolSNICP Subnetwork Independent Convergence ProtocolSRM Send Routeing Message

SSN Send Sequence Numbers SVC Switched Virtual Circuit

5  Typographical conventions This  International  Standard  makes  use  of  the  following  typo-graphical conventions:

a) important terms and concepts appear in italic type whenintroduced for the first time; b) protocol constants and management parameters appear insansSerif  type  with  multiple  words  run  together.  The

first word is lower case, with the first character of subse-quent words capitalised;

c) protocol field names appear in San Serif type with eachword capitalised; and d) values  of  constants,  parameters,  and  protocol  fields  ap-pear enclosed in "double quotes".

6  Overview of the protocol 6.1 System types For  the  purposes  of  this  International  Standard,  systems  areclassified according to the following types:

End  Systems:  These  systems  deliver  NPDUs  to  other  sys-tems and receive NPDUs from other systems, but do

not  relay  NPDUs.  This  International  Standard  doesnot specify any additional End system functions be- yond those supplied by ISO 8473 and ISO 9542. Level  1  Intermediate  Systems:  These  systems  deliver  andreceive  NPDUs  from  other  systems,  and  relay

NPDUs from other source systems to other destina-

Figure 2 - Topologies and Systems supported by Intradomain Routeing ES

ISES ES IS

IS ES

IS

Legend: ES End System IS Intermediate System

ES-IS Protocol Level 1 IS-IS Routeing IS-IS Area Routeing Domain Boundary

IS

Level 2 IS-IS Routeing IS

IS ES

IS

ISES ES ES

Subnetwork Path Interdomain Routeing

ISO/IEC 10589:1992 (E)

5 tion  systems.  They  route  directly  to  systems  withintheir own area, and route towards a level 2 Interme- diate system when the destination system is in a dif-ferent area.

Level 2 Intermediate Systems: These systems act as Level 1Intermediate  systems  in  addition  to  acting  as  a  sys-

tem in the subdomain consisting of level 2 ISs. Sys-tems in the level 2 subdomain route towards a desti- nation area, or another routeing domain. These systems and their topological relationship are illustratedin figure 2.

6.2 Subnetwork types For  the  purposes  of  this  International  Standard,  subnetworksare classified according to the following types:

a) broadcast  subnetworks:  These  are  multi-access  subnet-works that support the capability of addressing a group of

attached  systems  with  a  single  NPDU,  for  instanceISO 8802-3 LANs.

b) general  topology  subnetworks:  These  are  modelled  as  aset of point-to-point links each of which connects exactly

two systems. There are several generic types of general topology sub-networks:

1) multipoint  links:  These  are  links  between  more  thantwo systems, where one system is a primary  system,

and  the  remaining  systems  are  secondary  (or  slave)systems. The  primary  is  capable of  direct  communi- cation with any of the secondaries, but the secondar-ies cannot communicate directly among themselves. 

2) permanent  point-to-point  links:  These  are  links  thatstay connected at all times (unless broken, or turned

off by system management), for instance leased linesor private links.

3) dynamically established data links (DEDs): These arelinks over connection oriented facilities, for instance

X.25, X.21, ISDN, or PSTN networks. Dynamically established data links can be used in one oftwo ways:

i) static  point-to-point  (Static):  The  call  is  estab-lished  upon  system  management  action  and

cleared  only  on  system  management  action  (orfailure).

ii) dynamically  assigned  (DA):  The  call  is  estab-lished upon receipt of traffic, and brought down

on  timer  expiration  when  idle.  The  address  towhich the call is to be established is  determined dynamically  from  information  in  the  arrivingNPDU(s).  No  IS-IS  routeing  PDUs  are  ex- changed between ISs on a DA circuit. All subnetwork types are treated by the Subnetwork Independ-ent functions as though they were connectionless subnetworks, using  the  Subnetwork  Dependent  Convergence  functions  ofISO 8473 where necessary to provide a connectionless subnet-

work service. The Subnetwork Dependent functions do, how-ever,  operate  differently  on  connectionless  and  connection- oriented subnetworks.

6.3 Topologies A  single  organisation  may  wish  to  divide  its  AdministrativeDomain into a number of separate Routeing Domains. This has certain advantages, as described in ISO/IEC TR 9575. Further-more,  it  is  desirable  for  an  intra-domain  routeing  protocol  to aid  in  the  operation  of  an  inter-domain  routeing  protocol,where  such  a  protocol  exists  for  interconnecting  multiple routeing domains. In order to facilitate the construction of such multi-domain to-pologies,  provision  is  made  for  the  entering  of  inter-domain routeing information. This information is in the form of a setof Reachable Address Prefixes which may be entered either by System Management, or provided by an inter-domain routeingprotocol at the ISs which have links crossing routeing domain boundaries. The prefix indicates that any NSAPs whose NSAPaddress  matches  the  prefix  may  be  reachable  via  the  SNPA with which the prefix is associated. Where this SNPA is con-nected to a multi-destination subnetwork (e.g., dynamically as- signed DED, broadcast), the prefix also has associated with itthe required subnetwork addressing information, or an indica- tion that it may be derived from the destination NSAP address(for  example,  an  X.121  DTE  address  may  sometimes  be  ob- tained from the IDI of the NSAP address). The Address Prefixes are handled by the level 2 routeing algo-rithm  in  the  same  way  as  information  about  a  level  1  area within the domain. NPDUs with a destination address match-ing  any  of  the  prefixes  present  on  any  Level  2  Intermediate System  within  the  domain  can  therefore  be  relayed  (usinglevel 2 routeing) by that IS and delivered out of the domain. (It is assumed that the routeing functions of the other domain willthen be able to deliver the NPDU to its destination.) 

Where multiple routeing domains are interconnected using thisInternational  Standard,  the  model  used  is  one  in  which  the boundaries between routeing domains are on the subnetworkswhich  connect  the  Intermediate  systems.  A  boundary  for  a routeing  domain  is  constructed  by  marking  the  linkage  man-aged object associated with a circuit as being externalDomain rather than internal. 

NOTE 1  This model also permits the construction of route-ing domains whose scope is not limited by the hierarchical nature of network layer address assignment. For example, itis possible to construct a routeing domain, or even a single area, whose area addresses are taken from multiple address-ing authorities.

6.4 Addresses Within  a  routeing  domain  that  conforms  to  this  InternationalStandard,  the  Network  entity  titles  of  Intermediate  systems must  meet  the  requirements  stated  in  7.1.4.  It  is  the  routeingdomain administrative authority's responsibility to ensure that such is the case. All systems shall be able to generate and forward NPDUs con-taining  NSAP  addresses  in  any  of  the  formats  specified  by ISO 8348/Add.2. However, the routeing domain's administra-tive  authority  should  ascertain  that  NSAP  addresses  of  End

ISO/IEC 10589:1992 (E)

6 systems  meet  the  requirements  set  forth  in  7.1.4  in  order  totake full advantage the routes derived by this protocol. Within such a domain it is still possible for some End systems to haveaddresses assigned which do not conform to the rules set forth in 7.1.4 provided that they meet the more general requirementsof ISO 8348/Add.2, but these End systems may require addi- tional configuration information to be entered into the Interme-diate  systems  and  they  may  obtain  inferior  routeing  perform- ance.

NOTE 2  The  procedures  whereby  the  routeing  domain  ad-ministrative  authority  obtains  from  an  appropriate  address authority Intermediate system NETs as required by this In-ternational  Standard,  and  End  system  NSAP  addresses  as recommended  by  this International Standard  are outside  itsscope.

6.5 Functional organisation The intra-domain IS-IS routeing functions are divided into twogroups

- Subnetwork Independent Functions  - Subnetwork Dependent Functions 6.5.1  Subnetwork independent functions The  Subnetwork  Independent  Functions  supply  full-duplexNPDU  transmission  between  any  pair  of  neighbour  systems. They  are  independent  of  the  specific  subnetwork or  data linkservice operating below them, except for recognising two ge- neric types of subnetworks: 

- General Topology Subnetworks, which include HDLCpoint-to-point, HDLC multipoint, and dynamically estab-

lished data links (such as X.25, X.21, and PSTN links),and

- Broadcast  Subnetworks,  which  include  ISO  8802LANs.

NOTE 3  This protocol is intended to operate on any broad-cast subnetwork which meets the general requirements listed in  6.7.  However,  the  remainder  of  this  International  Stan-dard  specifically  addresses  ISO  8802  LANs.  Other  LANs, such as FDDI, are believed to be adequately covered by thespecification  for  ISO  8802  LANs.  Other  broadcast  subnet- works,  such  as  ISO  8802-6  MANs,  may  not  be  adequatelycovered at this time.

The  following  Subnetwork  Independent  Functions  are  identi-fied:

- Routeing.  The  routeing  function  determines  NPDUpaths. A path is the sequence of connected systems and

links between a source ES and a destination ES. The combined knowledge of all the Network Layer enti-ties of all the Intermediate systems within a routeing do- main  is  used  to  ascertain  the  existence  of  a  path,  androute the NPDU to its destination. The routeing compo- nent at an Intermediate system has the following specificfunctions:

* It  extracts  and  interprets  the  routeing  PCI  in  anNPDU. 

* It performs NPDU forwarding  based on the destina-tion address. 

* It manages the characteristics of the path. If a systemor link fails on a path, it finds an alternate route.

* It interfaces with the subnetwork dependent functionsto receive reports concerning an SNPA which has be-

come  unavailable,  a  system  that  has  failed,  or  thesubsequent recovery of an SNPA or system.

* It  informs  the  ISO  8473  error  reporting  functionwhen the forwarding function cannot relay an NPDU,

for  instance  when  the  destination  is  unreachable  orwhen the NPDU would have needed to be segmented and the NPDU requested "no segmentation". - Congestion control. Congestion control manages the re-sources used at each Intermediate system. 

6.5.2  Subnetwork dependent functions  The  subnetwork  dependent  functions  mask  the  characteristicsof the subnetwork or data link service from the subnetwork in- dependent functions. These include:

- Operation  of  the  Intermediate  system  functions  ofISO 9542 on the particular subnetwork, in order to

* determine  neighbour  Network  entity  title(s)  andSNPA address(es);

* determine the SNPA address(es) of operational Inter-mediate systems.  - Operation  of  the  requisite  Subnetwork  Dependent  Con-vergence Function as defined in ISO 8473 and its adden-

dum 3, in order to perform 

* data link initialisation;

* hop  by  hop  fragmentation  over  subnetworks  withsmall maximum SNSDU sizes; and

* call establishment and clearing on dynamically estab-lished data links.

6.6 Design goals and non-goals 6.6.1  Goals This  International  Standard  supports  the  following  design  re-quirements. The correspondence with the goals for OSI route- ing stated in ISO/IEC TR 9575 are noted.

- Network  Layer  Protocol  Compatibility:  It  is  compat-ible with ISO 8473 and ISO 9542. (See 7.5 of ISO/IEC

TR 9575), - Simple End systems: It requires no changes to End sys-tems,  nor  any  functions  beyond  those  supplied  by  ISO

8473 and ISO 9542. (See 7.2.1 of ISO/IEC TR 9575), - Multiple Organisations: It allows for multiple routeingand  administrative  domains  through  the  provision  of

static  routeing  information  at  domain  boundaries.  (See7.3 of ISO/IEC TR 9575),

ISO/IEC 10589:1992 (E)

7 - Deliverability: It accepts and delivers NPDUs addressedto reachable destinations and rejects NPDUs addressed to

destinations known to be unreachable,  - Adaptability: It adapts to topological changes within therouteing domain, but not to traffic changes, except poten-

tially as indicated by local queue lengths. It splits trafficload  on  multiple  equivalent  paths.  (See  7.7  of  ISO/IEC TR 9575), - Promptness:  The  period  of  adaptation  to  topologicalchanges in the domain is a reasonable function of the do-

main diameter (that is, the maximum logical distance be-tween  End  Systems  within  the  domain)  and  Data  link speeds. (See 7.4 of ISO/IEC TR 9575), - Efficiency: It is both processing and memory efficient. Itdoes not create excessive routeing traffic overhead. (See

7.4 of ISO/IEC TR 9575), - Robustness: It recovers from transient errors such as lostor  temporarily  incorrect  routeing  PDUs.  It  tolerates  im-

precise  parameter  settings.  (See  7.7  of  ISO/IEC  TR9575),

- Stability:  It  stabilises  in  finite  time  to  "good  routes",provided  no  continuous  topological  changes  or  continu-

ous data base corruptions occur,  - System Management control: System Management cancontrol  many  routeing  functions  via  parameter  changes,

and inspect parameters, counters, and routes. It will not,however, depend on system management action for cor- rect behaviour,  - Simplicity:  It  is  sufficiently  simple  to  permit  perform-ance tuning and failure isolation, 

- Maintainability: It provides  mechanisms  to detect,  iso-late, and repair most common errors that may affect the

routeing  computation  and  data  bases.  (See  7.8  ofISO/IEC TR 9575),

- Heterogeneity:  It  operates  over  a  mixture  of  networkand  system  types,  communication  technologies,  and  to-

pologies. It is capable of running over a wide variety ofsubnetworks,  including,  but  not  limited  to:  ISO  8802 LANs, ISO/IEC 8208 and X.25 subnetworks, PSTN net-works,  and  the  OSI  Data  Link  Service.  (See  7.1  of ISO/IEC TR 9575), - Extensibility: It accommodates increased routeing func-tions, leaving earlier functions as a subset, 

- Evolution: It allows orderly transition from algorithm toalgorithm without shutting down an entire domain, - Deadlock  Prevention:  The  congestion  control  compo-nent prevents buffer deadlock, - Very Large Domains: With hierarchical routeing, and avery  large  address  space,  domains  of  essentially  unlim-

ited  size  can  be  supported.  (See  7.2  of  ISO/IEC  TR9575),

- Area  Partition  Repair:  It  permits  the  utilisation  oflevel  2  paths  to  repair  areas  which  become  partitioned

due  to  failing  level  1  links  or  ISs.  (See  7.7  of  ISO/IECTR 9575),

- Determinism: Routes are a function only of the physicaltopology, and not of history. In other words, the same to-

pology will always converge to the same set of routes,  - Protection from Mis-delivery: The probability of  mis-delivering a NPDU, i.e. delivering it to a Transport entity

in the wrong End System, is extremely low,  - Availability: For domain topologies with cut set greaterthan one, no single point of failure will partition the do-

main. (See 7.7 of ISO/IEC TR 9575), - Service Classes: The service classes of transit delay, ex-pense1),  and  residual  error  probability  of  ISO  8473  are

supported  through  the  optional  inclusion  of  multiplerouteing metrics,

- Authentication: The protocol is capable of carrying in-formation to be used for the authentication of Intermedi-

ate systems in order to increase the security and robust-ness of a routeing domain. The specific mechanism sup- ported  in  this  International  Standard  however,  onlysupports a weak form of authentication using passwords, and  thus  is  useful  only  for  protection  against  accidentalmisconfiguration errors and does not protect against any serious security threat. In the future, the algorithms maybe enhanced to provide stronger forms of authentication than can be provided with passwords without needing tochange the PDU encoding or the protocol exchange ma- chinery.

6.6.2  Non-goals The  following  are  not  within  the  design  scope  of  the  intra-domain IS-IS routeing protocol described in this International Standard:

- Traffic  adaptation:  It  does  not  automatically  modifyroutes based on global traffic load,

- Source-destination  routeing:  It  does  not  determineroutes by source as well as destination, - Guaranteed delivery: It does not guarantee delivery ofall offered NPDUs,  - Level 2 Subdomain partition repair: It will not utiliseLevel 1 paths to repair a level 2 subdomain partition. For

full  logical  connectivity  to  be  available,  a  connectedlevel 2 subdomain is required,

- Equal treatment for all ES implementations: The Endsystem poll function defined in 8.4.5 presumes that End

systems have implemented the Suggested ES Configura-tion  Timer  option  of  ISO  9542.  An  End  system  which does not implement this option may experience a tempo-rary loss of connectivity following certain types of topol- ogy changes on its local subnetwork.

1) "Expense" is referred to as "cost" in ISO 8473. The latter term is not used here because of possible confusion with the more general usage of the term toindicate path cost according to any routeing metric.

ISO/IEC 10589:1992 (E)

8 6.7 Environmental requirements For correct operation of the protocol, certain guarantees are re-quired from the local environment and the Data Link Layer. 

6.7.1  The required local environmentguarantees are:

a) Resource  allocation  such  that  the  certain  minimum  re-source guarantees can be met, including

1) memory (for code, data, and buffers) 2) processing;

See  12.2.4  for  specific  performance  levels  required  forconformance

b) A  quota  of  buffers  sufficient  to  perform  routeing  func-tions; c) Access to a timer or notification of specific timer expira-tion; and d) A very low probability of corrupting data. 6.7.2  The required subnetwork guarantees forpoint-to-point links are: 

a) Provision that both source and destination systems com-plete start-up before PDU exchange can occur; b) Detection of remote start-up; c) Provision that no  old PDUs  be  received  after start-up  iscomplete;

d) Provision  that  no  PDUs  transmitted  after  a  particularstartup is complete are delivered out of sequence; e) Provision  that  failure  to  deliver  a  specific  subnetworkSDU will result in the timely disconnexion of the subnet-

work  connection  in  both  directions  and  that  this  failurewill be reported to both systems; and

f) Reporting of other subnetwork failures and degraded sub-network conditions. g) The  following  events  are  "very  low  probability",  whichmeans that performance will be impacted unless they are

extremely  rare,  on  the  order  of  less  that  one  event  perfour years

1) Delivery of NPDUs with undetected data corruption. 6.7.3  The required subnetwork guarantees forbroadcast links are:

a) Multicast capability, i.e., the ability to address a subset ofall connected systems with a single PDU; b) The following events are "low probability", which meansthat they occur sufficiently rarely so as not to impact per-

formance, on the order of once per thousand PDUs

1) Routeing PDU non-sequentiality,  2) Routeing PDU loss due to detected corruption; and 3) Receiver overrun;

c) The  following  events  are  "very  low  probability",  whichmeans performance will be impacted unless they are ex-

tremely rare, on the order of less than one event per fouryears

1) Delivery of NPDUs with undetected data corruption;and 2) Non-transitive  connectivity,  i.e.  where  system  A  canreceive transmissions from systems B and C, but sys-

tem B cannot receive transmissions from system C.  6.7.4  The following services are assumed to benot available from broadcast links:

a) Reporting  of  failures  and  degraded  subnetwork  condi-tions that result in NPDU loss, for instance receiver fail-

ure.  The  routeing  functions  are  designed  to  account  forthese failures.

6.8 Functional organisation ofsubnetwork independent

components The Subnetwork Independent Functions are broken down intomore  specific  functional  components.  These  are  described briefly in this sub-clause and in detail in clause 7. This Interna-tional Standard uses a functional decomposition adapted from the  model  of  routeing  presented  in  subclause  5.1  of  ISO/IECTR  9575.  The  decomposition  is  not  identical  to  that  in ISO/IEC  TR  9575,  since  that  model  is  more  general  and  notspecifically  oriented  toward  a  detailed  description  of  intra- domain routeing functions such as supplied by this protocol. The functional decomposition is shown below in figure 3. The routeing processes are: 

- Decision Process  - Update Process

- Forwarding Process  - Receive Process 6.8.1  Decision process This  process  calculates  routes  to  each  destination  in  the  do-main. It is executed separately for level 1 and level 2 routeing, and  separately  within  each  level  for  each  of  the  routeingmetrics supported by the Intermediate system. It uses the Link State Database, which consists of information from the latestLink State PDUs from every other Intermediate system in the area,  to  compute  shortest  paths  from  this  IS  to  all  other  sys-

NOTE 4  This comprises both the Information Collec-tion and Information Distribution components identi- fied in ISO/IEC TR 9575.

ISO/IEC 10589:1992 (E)

9 tems in the area - 9  in figure 3. The Link State Data Base is maintained by the Update Process.

Execution of the Decision Process results in the determinationof  [circuit,  neighbour]  pairs  (known  as  adjacencies),  which are  stored  in  the  appropriate  Forwarding  Information  base  -

10   -  and  used  by  the  Forwarding  process  as  paths  along which to forward NPDUs.

Several of the parameters in the routeing data base that the De-cision  Process  uses  are  determined  by  the  implementation. These include:

- maximum  number  of  Intermediate  and  End  systemswithin the IS's area;

- maximum  number  of  Intermediate  and  End  systemneighbours of the IS, etc.,  so that  databases can be sized appropriately.  Also parameterssuch as 

- routeing metrics for each circuit; and  - timers;

can  be  adjusted  for  enhanced  performance.  The  complete  listof  System  Management  set-able  parameters  is  contained  in clause 11. 

6.8.2  Update process  This  process  constructs,  receives  and  propagates  Link  StatePDUs.  Each  Link  State  PDU  contains  information  about  the identity and routeing metric values of the adjacencies of the ISthat originated the Link State PDU. 

The  Update  Process  receives  Link  State  and  Sequence  Num- bers  PDUs  from  the  Receive  Process  --  4 in  figure  3.  It places  new  routeing  information  in  the  routeing  informationbase --

6  and propagates routeing information to other In- termediate systems -  7 and  8  .

General characteristics of the Update Process are: 

- Link State PDUs are generated as a result of topologicalchanges, and also periodically. They may also be gener-

ated indirectly as a result of System Management actions(such as changing  one  of  the routeing  metrics  for a  cir- cuit). 

- Level 1 Link State PDUs are propagated to all Intermedi-ate systems within an area, but are not propagated out of

an area. 

- Level  2  Link  State  PDUs  are  propagated  to  all  Level  2Intermediate systems in the domain.

- Link State PDUs are not propagated outside of a domain. 

Routeing Information Base

Link State Database

Forwarding Database

Forward

Update

Subnetwork

Dependent

Functions

Subnetwork

Dependent

Functions

ISO 9542

Protocol Machine

Decision ISO 8473

Protocol Machine

ISO 9542

Protocol Machine

SubnetworkDependent

Functions

SubnetworkDependent

Functions

R

E C

E

I V

E

1 2 3

4

6

5

7

8

11

10

9

12 1314 Figure 3 - Decomposition of Subnetwork Independent Functions

ISO/IEC 10589:1992 (E)

10

- The  update  process,  through  a  set  of  System  Manage-ment parameters, enforces an upper bound on the amount

of routeing traffic overhead it generates. 6.8.3  Forwarding process This  process  supplies  and  manages  the  buffers  necessary  tosupport NPDU relaying to all destinations. 

It receives, via the Receive Process, ISO 8473 PDUs to be for- warded -  5  in figure 3.

It performs a lookup in the appropriate1) Forwarding Database -  11   -  to  determine  the  possible  output  adjacencies  to  use for forwarding to a given destination, chooses one adjacency -

12 --,  generates  error  indications  to  ISO  8473  -  14   ,  andsignals ISO 9542 to issue Redirect PDUs - 

13 .

6.8.4  Receive process The  Receive  Process  obtains  its  inputs  from  the  followingsources

- received  PDUs  with  the  NLPID  of  Intra-Domain  route-ing - 

2  in figure 3, 

- routeing information derived by the ES-IS protocol from

the receipt of ISO 9542 PDUs -  1 ; and

- ISO 8473 data PDUs handed to the routeing function bythe ISO 8473 protocol machine - 

3 . 

It  then  performs  the  appropriate  actions,  which  may  involvepassing the PDU to some other function (e.g. to the Forward- ing Process for forwarding -  5 ).

7  Subnetwork independentfunctions This clause describes the algorithms and associated databasesused  by  the  routeing  functions.  The  managed  objects  and  at- tributes  defined  for  System  Management  purposes  are  de-scribed in clause 11.

The following processes and data bases are used internally bythe subnetwork independent functions. Following each process or data base title, in parentheses, is the type of systems whichmust keep the database. The system types are "L2" (level 2 In- termediate  system),  and  "L1"  (level  1  Intermediate  system).Note that a level 2 Intermediate system is also a level 1 Inter- mediate system in its home area, so it must keep level 1 data-bases as well as level 2 databases. 

Processes:

- Decision Process (L2, L1)  - Update Process (L2, L1)  - Forwarding Process (L2, L1)  - Receive Process (L2, L1)

Databases:

- Level 1 Link State data base (L2, L1)  - Level 2 Link State data base (L2)  - Adjacency Database (L2, L1)  - Circuit Database (L2, L1)  - Level 1 Shortest Paths Database (L2, L1)  - Level 2 Shortest Paths Database (L2)  - Level 1 Forwarding Databases -- one per routeing met-ric (L2, L1) 

- Level 2 Forwarding Database -- one per routeing metric(L2)

7.1 Addresses The NSAP addresses and NETs of systems are variable lengthquantities  that  conform  to  the  requirements  of  ISO 8348/Add.2. The corresponding NPAI contained in ISO 8473PDUs and  in this  protocol's  PDUs shall use the  preferred bi- nary encoding. Any of the AFIs and their corresponding DSPsyntax may be used with this protocol.

7.1.1  Address structure for intradomain IS-ISrouteing In  order  to  understand the  requirements  set under  the presentclause 7.1, it is necessary to view the encoded NSAPs or NETs as structured according to figure 4, where three fields are dis-tinguished:

a) Area Addressb) ID c) SEL

1) The appropriate forwarding database is selected by choosing a routeing metric based on fields in the QoS Maintenance option field of ISO 8473.

ISO/IEC 10589:1992 (E)

11 7.1.2  NPAI -- area address field An area address is a variable length quantity consisting of theentire high-order part of the NPAI, excluding the ID and SEL fields.

7.1.3  NPAI of systems within a routeingdomain

The structure of the ID and SEL fields of the NPAI are inter-preted in the following way by the protocol defined in this In- ternational Standard:

ID System identifier -- a variable length field from 1 to8  octets  (inclusive).  Each  routeing  domain  employ-

ing this protocol shall select a single size for the IDfield and all Intermediate systems in the routeing do- main  shall  use  this  length  for  the  system  IDs  of  allsystems in the routeing domain. 

The set of ID lengths supported by an implementationis an implementation choice, provided that at least one

value  in  the  permitted  range  can  be  accepted.  Therouteing domain administrator must ensure that all ISs included  in  a  routeing  domain  are  able  to  use  the  IDlength chosen for that domain. 

SEL NSAP Selector -- a 1-octet field which acts as a se-lector for the entity which is to receive the PDU (this

may be a Transport entity or the Intermediate systemNetwork entity itself). It is the least significant (last) octet of the NPAI.

7.1.4  Administration and deployment ofsystems in a routeing domain

It  is  the  responsibility  of  the  routeing  domain  administrativeauthority  to  enforce  the  requirements  stated  below  in  this clause.  These  requirements  place  specific  constraints  on  theNSAP addresses and NETs of systems deployed in a routeing domain,  when  these  systems  operate  the  protocol  defined  inthis International Standard. The protocol defined in this Inter- national Standard assumes that these requirements are met, buthas no means to verify compliance with them.

NOTE 5  To  correctly  interpret  the  requirements  given  be-low, it is necessary to refer both to the structure of the NPAI presented  in  7.1.1,  and  to  the  concept  of  manual  area  ad-dresses defined in 7.1.5.

For  correct  operation  of  the  routeing  protocol  defined  in  thisInternational  Standard,  the  following  requirements  must  be met in a routeing domain:

a) For all systems in the routeing domain:

1) By  definition,  all  systems  in  a  routeing  domain  thathave a given value of area address belong to the same

area.

2) Each  system  in  an  area  must  have  an  unambiguousID; that is, no two systems (IS or ES) in an area may

use the same ID value.  3) All  systems  belonging  to  a  given  routeing  domainmust have NETs or NSAP addresses whose ID fields

are of equal length. b) Additional  requirements  for  Intermediate  system  ad-dresses:

1) Each  Level  2  Intermediate  system  within  a  routeingdomain  must  have  an  unambiguous  value  for  its  ID

field; that is, no two level 2 ISs in a routeing domaincan have the same value in their ID fields. 

c) Additional requirements for area administration:

1) No  two  End  systems in  an area may  have  addressesthat match in all but the SEL field.

d) Requirements placed on End systems to be neighbours ofa level 1 IS:

An End system may be a neighbour of a level 1 IS if andonly if:

NOTE 6  A consequence of this requirement is thata reachable address prefix may not match any area address of an area in the routeing domain. However,an IS is not required to perform any dynamic check to  detect  if  this  property  is  violated  due  to  systemmanagement misconfiguration.

(Contents assigned by the addressing authority identified in the IDI Field, and its

associated sub-authorities ) AFI

DSPIDP IDI

Area Address (variable length)

ID (1<=ID<=8 octets)

SEL (1 octet)

NOTE -  The diagram shows how this International Standard will parse the NPAI (that is, an address or NETencoded by the preferred binary encoding of ISO 8348/Add.2). This protocol uses the fields "Area Address", "ID", and "SEL". To  emphasize  that  address  information  is  constructed  according  to  ISO  8348/Add.2,  the  quantities  "IDP","DSP", "AFI", and "IDI" are also shown; however, they are not explicitly used by this protocol.

Figure 4 - Address Structure for Intra-domain IS-IS Routeing

ISO/IEC 10589:1992 (E)

12

1) its area address matches the level 1 IS's area addressas contained in its own NET, which is always an en-

try in  the adjacent IS's  manualAreaAddresses  pa-rameter, or

2) its area address matches one of the other entries in theadjacent IS's manualAreaAddresses parameter.

e) Additional requirements for Interdomain routeing:

When  Interdomain  routeing  between  two  routeing  do-mains  is  assisted  through  the  use  of  reachable  address prefixes, then 1) no address of any area in one of the routeing domainsshould  match  the  address  of  an  area  in  the  other

routeing domain.

7.1.5  Manual area addresses Within  a  routeing  domain,  it  is  often  convenient  to  associatemore than one area address with an area. There are a number of reasons why assigning more than one area address may beuseful, including the following.

a) There  may  be  more  than  one  addressing  authority  in-volved in the assignment of addresses in the routeing do-

main, yet it is not efficient to require a separate area foreach addressing domain.

b) At  times  it  may  be  necessary  to  reconfigure  a  routeingdomain  by  dividing  an  area  into  two  of  more  areas,  or

combining a number of areas into a single area. These re-configurations could not be done during normal routeing domain  operation  if  only  a  single  area  address  per  areawere permitted.

Therefore, this International Standard permits an area to have anumber of synonymous area addresses. The use of several synonymous area addresses by an IS is ac-commodated  through  the  use  of  the  management  parameter manualAreaAddresses.  This  parameter  is  set  locally  foreach IS by system management; it contains a list of all synony- mous  area  addresses  associated  with  the  IS.  All  of  the  IS'smanualAreaAddresses,  when  combined  with  the  IS's systemID, are valid network entity titles for the IS.  Each  level  1  IS  distributes  its  manualAreaAddresses  in  itsLevel  1  LSP's  Area  Addresses  field,  thus  allowing  level  2 ISs to create a composite list of all area addresses in use withina  given  area.  Level  2  ISs  in  turn  advertise  the  composite  list throughout the level 2 subdomain by including it in their Level2 LSP's Area Addresses field, thus distributing information on all the area addresses associated with the entire routeing do-main.  The  procedures  for  establishing  an  adjacency  between two level 1 ISs require that there be at least one area address incommon between their two manualAreaAddresses lists, and the procedures for establishing an adjacency between a level 1IS  and  an  End  system  require  that  the  End  system's  area  ad-

NOTE 7  The definitions of several entries in the ad-jacent  IS's  manualAreaAddresses  parameter  allow for systems with differing area addresses to be mergedunder  one  level  1  IS  for  the  purpose  of  fabricating  a single  area.  This  concept  is  described  in  detail  under7.1.5 below.

dress match an entry in the IS's manualAreaAddresses list.Therefore,  it  is  the  responsibility  of  System  Management  to ensure that each area address associated with an IS is included.In particular, system management must ensure that the area ad- dresses of all ESs and Level 1 ISs adjacent to a given level 1IS are included in that IS's manualAreaAddresses list.

The union of all area addresses of the ISs in an area may ex-ceed the configured capacity of one or more ISs in the area. In order that all ISs agree on the area addresses of an area, eachIS has a parameter maximumAreaAddresses, established by System  Management.  The  value  of  maximumAreaAddress-es is communicated among the ISs in the protocol's PDUs and is checked to ensure that all ISs in an area have the same valueof this parameter. All ISs shall support a value of at least 3 for maximumAreaAddresses,  although  the  value  may  be  setlower by System Management if desired. Failure to set maxi- mumAreaAddresses  consistently  among  the  ISs  in  an  areamay cause adjacencies to fail to initialise and/or an area to be- come partitioned. If the area address field for the destination address of an ISO8473 PDU -- or for the next entry in its source routeing field, when present -- is not listed in the parameter areaAddressesof a level 1 IS receiving the PDU, then the destination system does not reside in the IS's area. Such PDUs will be routed bylevel 2 routeing.

7.1.6  Encoding of addressing information This International Standard makes use of four types of addressinformation:  NETs,  NSAP  addresses,  area  addresses,  and  ad- dress prefixes. The encoding rules for each of them are givenbelow.

a) NETs shall be encoded according to the preferred binaryencoding specified in ISO 8348/Add.2. b) NSAP  addresses  shall  be  encoded  according  to  the  pre-ferred binary encoding specified in ISO 8348/Add.2. c) The encoded form of an area address shall be obtained bydropping the last IDLength + 1 octets of the preferred bi-

nary  encoding  of  the  corresponding  NSAP,  whereIDLength  is  equal  to  the  length  of  the  ID  field  used  by the routeing domain. d) The encoded form of an address prefix shall be obtainedby encoding the prefix (expressed in its abstract syntax),

according  to  the  preferred  binary  encoding,  unless  theend of the prefix falls within the IDP. In this case, each decimal digit in the prefix shall be encoded as the corre-sponding semi-octet in the range 0000-1001 and no pad- ding characters shall be inserted.

7.1.7  Matching an NSAP address with an areaaddress or an address prefix

A destination NSAP address can be matched against either anarea  address  or  an  address  prefix.  An  area  address  or  an  ad- dress prefix which extends into the DSP, shall be compared di-rectly against  the encoded  NSAP  address, including  any pad- ding  characters  that  may  be  present;  an  address  prefix  whichdoes  not  extend  into  the  DSP  shall  be  compared  against NSAP0, which is obtained from the encoded NSAP address by

ISO/IEC 10589:1992 (E)

13 removing  all  padding  characters  that  were inserted  by  the  bi-nary encoding. The existence of a match shall be determined as follows:

a) If  the  encoded  NSAP  (or  NSAP0)  contains  fewer  semi-octets than the encoded area address (or address prefix),

then there is no match.

b) If the NSAP (or NSAP0) contains at least as many octetsas the area  address  (or  address prefix), and  all  octets  of

the encoded area address (or address prefix) are identicalto the corresponding leading octets of the encoded NSAP address (or NSAP0), there is a match. Otherwise, there isno match.

NOTE 8  Any  implementation  of  a  matching  process  thatsatisfies the requirements listed above may be used. The key point is that matching process must be aware of whether ornot the encoded area address or address prefix extends into the  DSP,  and  must  then  either  include  or  exclude  paddingcharacters from the encoded NSAP, as defined above. 

7.1.8  Comparison of addresses Unless otherwise stated, comparison of addresses shall be per-formed on the addresses encoded as sequences of octets in the form specified in 9.2 or 9.3 as appropriate.  If  the  encoded  addresses  are  of  different  lengths  and  theshorter  encoded  address  is  a  prefix  of  the  longer,  the  shorter address is considered to be less than the longer.  Otherwise,  the  result  of  the  comparison  is  that  obtained  bypadding the shorter encoded address (if any) with trailing zero octets  to  the  length  of  the  longer,  and  comparing  the  two  re-sulting octet sequences as unsigned integers, with the first oc- tet of each sequence considered the most significant.  The  addresses  to  which  this  procedure  applies  are  NSAP  ad-dresses, Network Entity Titles, and SNPA addresses.

7.2 Decision process This  process  uses  the  database  of  Link  State  information  tocalculate the forwarding database(s), from which the forward- ing process can know the proper next hop for each NPDU. TheLevel 1 Link State Database is used for calculating the Level 1 Forwarding Database(s), and the Level 2 Link State Databaseis used for calculating the Level 2 Forwarding Database(s).

7.2.1  Input and output INPUT

- Link State Database - This database is a set of informa-tion from the latest Link State PDUs from all known In-

termediate  systems  (within  this  area,  for  Level  1,  orwithin the level 2 subdomain, for Level 2). This database is received from the Update Process.

- Notification of an Event - This is a signal from the Up-date Process that a change to a link has occurred some-

where in the domain.

 OUTPUT

- Level 1 Forwarding Databases -- one per routeing met-ric

- (Level 2 Intermediate systems only) Level 2 ForwardingDatabases -- one per routeing metric - (Level  2  Intermediate  systems  only)  The  Level  1  Deci-sion  Process informs the  Level 2 Update  Process of  the

ID  of  the  Level  2  Intermediate  system  within  the  areawith  lowest ID  reachable  with  real  level 1 links  (as op- posed  to  a  virtual  link  consisting  of  a  path  through  thelevel 2 subdomain) 

- (Level 2 Intermediate systems only) If this Intermediatesystem is the "Partition Designated Level 2 Intermediate

system" in this partition, the Level 2 Decision Process in-forms the Level 1 Update Process of the values of the de- fault  routeing  metric  to  and  ID  of  the  "partition  desig-nated level 2 Intermediate system" in each other partition of this area. 

7.2.2  Routeing metrics There are  four routeing metrics defined, corresponding  to  thefour  possible  orthogonal  qualities  of  service  defined  by  the QoS  Maintenance  field  of  ISO  8473.  Each  circuit  emanatingfrom an Intermediate system shall be assigned a value for one or  more  of  these  metrics  by  System  management.  The  fourmetrics are as follows:

a) Default metric: This is a metric understood by every In-termediate system in the domain. Each circuit shall have

a  positive  integral  value  assigned  for  this  metric.  Thevalue  may  be  associated  with  any  objective  function  of the circuit, but by convention is intended to measure thecapacity  of  the  circuit  for  handling  traffic,  for  example, its throughput in bits-per-second. Higher values indicatea lower capacity.

b) Delay  metric:  This  metric  measures  the  transit  delay  ofthe  associated  circuit.  It  is  an  optional  metric,  which  if

assigned to a circuit shall have a positive integral value.Higher values indicate a longer transit delay.

c) Expense metric: This metric measures the monetary costof utilising the associated circuit. It is an optional metric,

which  if assigned  to a circuit shall have a positive  inte-gral value1). Higher values indicate a larger monetary ex- pense.

d) Error  metric:  This  metric  measures  the  residual  errorprobability of the associated circuit. It is an optional met-

ric,  which  if  assigned  to  a  circuit  shall  have  a  non-zerovalue. Higher values indicate a larger probability of un- detected errors on the circuit.

1) The path computation algorithm utilised in this International Standard requires that all circuits be assigned a positive value for a metric. Therefore, it isnot possible to represent a "free" circuit by a zero value of the expense metric. By convention, the value 1 is used to indicate a "free" circuit.

ISO/IEC 10589:1992 (E)

14

NOTE 9  The  decision  process  combines  metric  values  bysimple addition. It is important, therefore, that the values of the metrics be chosen accordingly. Every  Intermediate  system  shall  be  capable  of  calculatingroutes based on the default metric. Support of any or all of the other  metrics  is  optional.  If  an  Intermediate  system  supportsthe calculation of routes based on a metric, its update process may report the metric value in the LSPs for the associated cir-cuit; otherwise, the IS shall not report the metric.

When  calculating  paths  for  one  of  the  optional  routeingmetrics,  the  decision  process  only  utilises  LSPs  with  a  value reported  for  the  corresponding  metric.  If  none  of  an  IS's  cir-cuits has  a  value associated  with  one  of the optional  metrics, then IS shall not calculate routes based on that metric.

NOTE 10  A  consequence  of  the  above  is  that  a  systemreachable via the default metric may not be reachable by an- other metric. See 7.4.2 for a description of how the forwarding process se-lects  one  of  these  metrics  based  on  the  contents  of  the  ISO 8473 QoS Maintenance option. Each of the four metrics described above may be of two types:an  Internal  metric  or  an  External  metric.  Internal  metrics  are used  to  describe  links/routes  to  destinations  internal  to  therouteing  domain.  External  metrics  are  used  to  describe links/routes  to  destinations  outside  of  the  routeing  domain.These two types of metrics are not directly comparable, except the internal routes are always preferred over external routes. Inother words an internal route will always be selected even if an external route with lower total cost exists.

7.2.3  Broadcast subnetworks Instead of treating a broadcast subnetwork as a fully connectedtopology, the broadcast subnetwork is treated as a pseudonode, with  links  to  each  attached  system.  Attached  systems  shallonly report their link to the pseudonode. The designated Inter- mediate  system,  on  behalf  of  the  pseudonode,  shall  constructLink State PDUs reporting the links to all the systems on the broadcast  subnetwork  with  a  zero  value  for  each  supportedrouteing metric1).

The  pseudonode  shall  be  identified  by  the  sourceID  of  theDesignated  Intermediate  system,  followed  by  a  non-zero pseudonodeID assigned by the Designated Intermediate sys-tem.  The pseudonodeID is locally unique to  the Designated Intermediate system. Designated Intermediate systems are determined separately forlevel 1 and level 2. They are known as the LAN Level 1 Desig- nated IS and the LAN Level 2 Designated IS respectively. See8.4.5.

An  Intermediate  system  may  resign  as  Designated  Intermedi-ate  System  on  a  broadcast  circuit  either  because  it  (or  its SNPA on the broadcast subnetwork) is being shut down or be-cause  some  other  Intermediate  system  of  higher  priority  has taken over that function. When an Intermediate system resignsas Designated Intermediate System, it shall initiate a network wide  purge  of  its  pseudonode  Link  State  PDU(s)  by  setting

their  Remaining  Lifetime  to  zero  and  performing  the  actionsdescribed in 7.3.16.4. A LAN Level 1 Designated Intermediate System  purges Level  1 Link State PDUs  and a LAN Level 2Designated  Intermediate  System  purges  Level  2  Link  State PDUs.  An  Intermediate  system  which  has  resigned  as  bothLevel  1  and  Level  2  Designated  Intermediate  System  shall purge both sets of LSPs. When an Intermediate system declares itself as designated In-termediate system and it is in possession of a Link State PDU of the same level issued by the previous Designated Intermedi-ate  System  for  that  circuit  (if  any),  it  shall  initiate  a  network wide purge of that (or those) Link State PDU(s) as above.

7.2.4  Links Two  Intermediate  systems  are  not  considered  neighbours  un-less  each  reports  the  other  as  directly  reachable  over  one  of their  SNPAs.  On  a  Connection-oriented  subnetwork  (eitherpoint-to-point or general topology), the two Intermediate sys- tems  in  question  shall  ascertain  their  neighbour  relationshipwhen  a connection is  established and hello  PDUs exchanged. A malfunctioning IS might, however, report another IS to be aneighbour when in fact it is not. To detect this class of failure the decision process checks that each link reported as "up" in aLSP  is  so reported  by both  Intermediate  systems. If an  Inter- mediate  system  considers  a  link  "down"  it  shall  not  mentionthe link in its Link State PDUs.

On  broadcast  subnetworks,  this  class  of  failure  shall  be  de-tected by the designated IS, which has the responsibility to as- certain the  set of Intermediate systems that can all communi-cate on the subnetwork. The designated IS shall include these Intermediate systems (and no others) in the Link State PDU itgenerates  for  the  pseudonode  representing  the  broadcast  sub- network.

7.2.5  Multiple LSPs for the same system The Update process is capable of dividing a single logical LSPinto a number of separate PDUs for the purpose of conserving link bandwidth and processing (see 7.3.4). The Decision Proc-ess, on the other hand, shall regard the LSP with LSP Number zero in a special way. If the LSP with LSP Number zero andremaining  lifetime  >  0  is  not  present  for  a  particular  system then  the  Decision  Process  shall  not  process  any  LSPs  withnon-zero LSP Number which may be stored for that system. 

The  following  information  shall  be  taken  only  from  the  LSPwith LSP Number zero. Any values which may be present in other  LSPs  for  that  system  shall  be  disregarded  by  the  Deci-sion Process.

a) The setting of the LSP Database Overload bit.  b) The value of the IS Type field.  c) The Area Addresses option field. 7.2.6  Routeing algorithm overview 7.2.6.1 The routeing algorithm used by the Decision Processis a shortest path first (SPF) algorithm. Instances of the algo-

1) They are set to zero metric values since they have already been assigned metrics by the link to the pseudonode. Assigning a non-zero value in thepseudonode LSP would have the effect of doubling the actual value.

ISO/IEC 10589:1992 (E)

15 rithm are run independently and concurrently by all Intermedi-ate systems in a routeing domain. Intra-Domain routeing of a PDU occurs on a hop-by-hop basis: that is, the algorithm de-termines only the next hop, not the complete path, that a data PDU  will  take  to  reach  its  destination.  To  guarantee  correctand consistent route computation by every Intermediate system in  a  routeing  domain,  this  International  Standard  depends  onthe following properties:

a) All  Intermediate  systems  in  the  routeing  domain  con-verge to using identical topology information; and b) Each Intermediate system in the routeing domain gener-ates the same set of routes from the same input topology

and set of metrics.

The first property is necessary in order to prevent inconsistent,potentially looping paths. The second property is necessary to meet the goal of determinism stated in 6.6.

7.2.6.2 A system executes the SPF algorithm to find a set oflegal paths to a destination system in the routeing domain. The set may consist of

a) a single  path of  minimum metric  sum:  these  are termedminimum cost paths;

b) a  set  of  paths  of  equal  minimum  metric  sum:  these  aretermed equal minimum cost paths; or c) a set of paths which will get a PDU closer to its destina-tion  than  the  local  system:  these  are  called  downstream

paths.

Paths which do not meet the above conditions are illegal andshall not be used. Paths whose metric sum exceeds the value of the  architectural  constant  MaxPathMetric  (see  table  2)  arealso illegal and shall not be used.

7.2.6.3  The  Decision  Process,  in  determining  its  paths,  alsoascertains the identity of the adjacency which lies on the first hop to the destination on each path. These adjacencies are usedto form the Forwarding Database, which the forwarding proc- ess uses for relaying PDUs.

7.2.6.4 Separate route calculations are made for each pairingof a level in the routeing hierarchy (i.e. L1 and L2) with a sup- ported  routeing  metric.  Since  there  are  four  routeing  metricsand  two  levels  some  systems  may  execute  multiple  instances of the SPF algorithm. For example,

- if  an  IS  is  a  L2  Intermediate  system  which  supports  allfour  metrics  and  computes  minimum  cost  paths  for  all

metrics, it would execute the SPF calculation eight times.

- if  an  IS  is  a  L1  Intermediate  system  which  supports  allfour  metrics,  and  additionally  computes  downstream

paths,  it  would  execute  the  algorithm  4  *  (number  ofneighbours + 1) times.

Any  implementation  of  an  SPF  algorithm  meeting  both  thestatic and dynamic conformance requirements of clause 12 of this International Standard may be used. Recommended imple-mentations are described in detail in annex C.

7.2.7  Removal of excess paths When there are more than maximumPathSplits legal paths toa  destination,  this  set  shall  be  pruned  until  only  maximum- PathSplits remain. The Intermediate system shall discriminatebased upon:

NOTE 11  The precise precedence among the paths is speci-fied in order to meet the goal of determinism defined in 6.6. - adjacency  type:  Paths  associated  with  End  system  orlevel 2 reachable address prefix adjacencies are retained

in preference to other adjacencies - metric  sum:  Paths  having  a  lesser  metric  sum  are  re-tained in preference to paths having a greater metric sum.

By  metric  sum  is  understood  the  sum  of  the  metricsalong the path to the destination.

- neighbour  ID:  where  two  or  more  paths  are  associatedwith  adjacencies  of  the  same  type,  an  adjacency  with  a

lower neighbour ID is retained in preference to an adja-cency with a higher neighbour id.

- circuit ID: where two or more paths are associated withadjacencies of the same type, and same neighbour ID, an

adjacency  with  a  lower  circuit  ID  is  retained  in  prefer-ence to an adjacency with a higher circuit ID, where cir- cuit ID is the value of

* ptPtCircuitID for non-broadcast circuits, 

* l1CircuitID  for  broadcast  circuits  when  running  theLevel 1 Decision Process, and 

* l2CircuitID  for  broadcast  circuits  when  running  theLevel 2 Decision Process.  - lANAddress: where two or more adjacencies are of thesame type, same neighbour ID, and same circuit ID (e.g.

where a neighbouring system has multiple LAN adapterson  the  same  LAN)  an  adjacency  with  a  lower lANAddress  is  retained  in  preference  to  an  adjacencywith a higher lANAddress.

7.2.8  Robustness checks 7.2.8.1  Computing routes through overloadedIntermediate systems

The Decision Process shall not utilise a link to an Intermediatesystem neighbour from an IS whose LSPs have the LSP Data- base Overload indication set. Such paths may introduce loopssince the overloaded IS does not have a complete routeing in- formation  base.  The  Decision  Process  shall,  however  utilisethe link to reach End system neighbours since these paths are guaranteed to be non-looping. 7.2.8.2  Two-way connectivity check The Decision Process shall not utilise a link between two Inter-mediate Systems unless both ISs report the link. 

NOTE 12  The  check  is  not  applicable  to  links  to  an  EndSystem.

ISO/IEC 10589:1992 (E)

16 Reporting  the  link  indicates  that  it  has  a  defined  value  for  atleast the default routeing metric. It is permissible for two end- points to report different defined values of the same metric forthe same link. In this case, routes may be asymmetric.

7.2.9  Construction of a forwarding database The information that is needed in the forwarding database forrouteing metric k is the set of adjacencies for each system N.

7.2.9.1  Identification of nearest level 2 IS by alevel 1 IS Level 1 Intermediate systems need one additional piece of in-formation per routeing metric: the next hop to the nearest level 2  Intermediate  system  according  to  that  routeing  metric.  Alevel 1 IS shall ascertain the set, R, of "attached" level 2 Inter- mediate system(s) for metric k such that the total cost to R formetric k is minimal. 

If there are more adjacencies in this set than maximumPath-Splits,  then  the  IS  shall  remove  excess  adjacencies  as  de- scribed in 7.2.7. 7.2.9.2  Setting the attached flag in level 2intermediate systems

If a level 2 Intermediate system discovers, after computing thelevel  2  routes  for  metric  k,  that  attachedFlag  is  True  and  it cannot reach any other areas using that metric, it shall:

- set AttachedFlag for metric k to False; - regenerate its Level 1 LSP with LSP number zero; and - compute  the  "nearest  level  2  Intermediate  system"  formetric k for insertion in the appropriate forwarding data-

base, according to the algorithm described in 7.2.9.1 forlevel 1 Intermediate systems. NOTE 13  attachedFlag for each metric k is examined bythe  Update  Process,  so  that  it  will  report  the  value  in  the ATT field of its Link State PDUs.  If a level 2 Intermediate system discovers, after computing thelevel 2 routes for metric k, that attachedFlag is False and it can reach at least one other area using that metric, it shall

- set attachedFlag for metric k to "True"; - regenerate its Level 1 LSP with LSP number zero; and  - set  the  level  1  forwarding  database  entry  for  metric  kwhich  corresponds  to  "nearest  level  2  Intermediate  sys-

tem" to "Self". 7.2.10 Information for repairing partitionedareas

An area may become partitioned as a result of failure of one ormore links in the area. However, if each of the partitions has a connection to the level 2 subdomain, it is possible to repair thepartition  via  the  level  2  subdomain,  provided  that  the  level  2 subdomain  itself  is  not  partitioned.  This  is  illustrated  in  fig-ure 5.

All the systems A-I, R and P are in the same area n. When thelink between D and E is broken, the area becomes partitioned. Within each of the partitions the Partition Designated Level 2Intermediate system is selected from among the level 2 Inter- mediate systems in that partition. In the case of partition 1 thisis P, and in the case of partition 2 this is R. The level 1 repair path is then established between between these two level 2 In-termediate systems. Note that the repaired link is now between P and R, not between D and E.

Level 2 Subdomain

A

B C

P

D E

F

I

R H

G

Level 1 repair path Broken Link Partition 1 Partition 2

Area Figure 5 - Repair of partitioned level 1 area

ISO/IEC 10589:1992 (E)

17 The Partition Designated Level 2 Intermediate Systems repairthe  partition  by  forwarding  NPDUs  destined  for  other  parti- tions of the area through the level 2 subdomain. They do thisby acting in their capacity as Level 1 Intermediate Systems and advertising in their Level 1 LSPs adjacencies to each PartitionDesignated Level 2 Intermediate System in the area. This adja- cency  is  known  as  a  "Virtual  Adjacency"  or  "Virtual  Link".Thus other Level 1 Intermediate Systems in a partition calcu- late  paths  to  the  other  partitions  through  the  Partition  Desig-nated  Level  2  Intermediate  System.  A  Partition  Designated Level  2  Intermediate  System  forwards  the  Level  1  NPDUsthrough the  level  2  subdomain  by encapsulating  them in  ISO 8473 Data NPDUs with its Virtual Network Entity Title as thesource NSAP and the "adjacent" Partition Designated Level 2 Intermediate System's Virtual Network Entity Title as the des-tination  NSAP.  The  following  sub-clauses  describe  this  in more detail.

7.2.10.1 Partition detection and virtual level 1 linkcreation

Partitions of a Level 1 area are detected by the Level 2 Inter-mediate  System(s)  operating  within  the  area.  Participation  in the partition repair process by a Level 2 Intermediate system ispredicated  on  the  fact  that  all  L2  ISs  also  function  as  L1  ISs within their own area. A partition of a given area exists when-ever two or more Level 2 ISs located in that area are reported in the L2 LSPs as being a "Partition Designated Level 2 IS".Conversely, when only one Level 2 IS in an area is reported as being the  "Partition Designated Level  2 IS", then  that area isnot  partitioned.  Partition  repair  is  accomplished  by  the  Parti- tion Designated Level 2 IS.  The election of the Partition Des-ignated Level 2 IS as described in the next subsection must be done before the detection and repair process can begin. In  order  to  repair  a  partition  of  a  Level  1  area,  the  Partitiondesignated  Level  2  IS  creates  a  "Virtual  Network  Entity"  to represent  the  partition.  The  Network  Entity  Title  for  this  vir-tual  network  entity  shall  be  constructed  from  the  first  listed area  address  from  its  Level 2 Link  State PDU, and the  ID ofthe  Partition  Designated  Level  2  IS,  with  a  selector  value  of IntradomainRouteingSelector. The IS shall also construct avirtual link (represented by a new Virtual Adjacency managed object)  to  each  Partition  Designated  Level  2  IS  in  the  area,with the NET of the partition recorded in the Identifier attrib- ute. The virtual links are the repair paths for the partition. Theyare reported by the Partition Designated Level 2 IS into the en- tire Level 1 area by adding the ID of each "adjacent" PartitionDesignated  Level  2  IS  to  the  Intermediate  System  Neigh- bours field of  its  Level 1 Link State  PDU. The Virtual Flagshall be set "True" for these Intermediate System neighbours. The metric value for this virtual link shall be the default metricvalue d(N) obtained from this system's Level 2 PATHS data- base,  where  N  is  the  "adjacent"  Partition  Designated  Level  2IS via the Level 2 subdomain. If the computed metric value ex- ceeds  the  value  of  MaxLinkMetric,  the  IS  shall  report  thevalue of MaxLinkMetric for the virtual link.

An Intermediate System which operates as the Partition Desig-nated Level 2 Intermediate System shall perform the following steps after completing the Level 2 shortest path computation inorder to detect partitions in the Level 1 area and create repair paths: 

a) Examine  Level 2  Link  State  PDUs  of  all  Level  2  Inter-mediate  systems.  Search  Area  Addresses  for  any  ad-

dress that matches any of the addresses in partitionArea-Addresses. If a match is found, and the Partition Desig- nated  Level  2  Intermediate  system's  ID  does  not  equalthis system's ID, then inform the level 1 update process at this system of the identity of the Partition DesignatedLevel 2 Intermediate system, together with the path cost for  the  default  routeing  metric  to  that  Intermediate  sys-tem.

b) Continue examining Level 2 LSPs until all Partition Des-ignated  Level  2  Intermediate  systems in  other  partitions

of  this  area  are  found,  and  inform  the  Level  1  UpdateProcess  of  all  of  the  other  Partition  Designated  Level  2 Intermediate  systems  in  other  partitions  of  this  area,  sothat

1) Level  1  Link  State  PDUs  can  be  propagated  to  allother  Partition  designated  level  2  Intermediate  sys-

tems for this area (via the level 2 subdomain).  2) All  the  Partition  Designated  Level  2  Intermediatesystems  for  other  partitions  of  this  area  can  be  re-

ported  as  adjacencies  in  this  system's  Level  1  LinkState PDUs.

If a partition has healed, the IS shall destroy the associated vir-tual network entity and virtual link by deleting the Virtual Ad- jacency. The Partition Designated Level 2 IS detects a healedpartition  when  another  Partition  Designated  Level  2  IS  listed as a virtual link in its Level 1 Link State PDU was not foundafter  running  the  partition  detection  and  virtual  link  creation algorithm described above. If such a Virtual Adjacency is created or destroyed, the IS shallgenerate a partitionVirtualLinkChange event.

7.2.10.2 Election of partition designated level 2intermediate system  The Partition Designated Level 2 IS is a Level 2 IS which:

- reports  itself  as  "attached"  by  the  default  metric  in  itsLSPs;

- reports itself as implementing the partition repair option; - operates as a Level 1 IS in the area; - is  reachable  from  the  IS  performing  the  calculation  viaLevel 1 routeing without traversing any virtual links; and

- has the lowest ID  The  election  of  the  Partition  Designated  Level  2  IS  is  per-formed  by  running  the  decision  process  algorithm  after  the Level 1 decision process has finished, and before the Level 2decision process to determine Level 2 paths is executed.

In  order  to  guarantee  that  the  correct  Partition  DesignatedLevel 2 IS is elected, the decision process is run using only the Level 1 LSPs for the area, and by examining only the Interme-diate  System  Neighbours  whose  Virtual  Flag  is  FALSE. The results of this decision process is a set of all the Level 1Intermediate  Systems  in  the  area  that  can  be  reached  via Level 1, non-virtual link routeing. From this set, the PartitionDesignated Level 2 IS is selected by choosing the IS for which

ISO/IEC 10589:1992 (E)

18

- IS Type (as reported in the Level 1 LSP) is "Level 2 In-termediate System"; - ATT indicates "attached" by the default metric; - P indicates support for the partition repair option; and - ID is the lowest among the subset of attached Level 2 In-termediate Systems. 

7.2.10.3 Computation of partition area addresses A  Level  2  Intermediate  System  shall  compute  the  set  ofpartitionAreaAddresses,  which  is  the  union  of  all  manual- AreaAddresses as  reported in  the  Level  1  Link State  PDUsof  all  Level  2  Intermediate  systems  reachable  in the  partition by the traversal of non-virtual links. If more than maximum-AreaAddresses are present, the Intermediate system shall re- tain only those areas with numerically lowest area address (asdescribed in 7.1.8). If one of the local system's manualArea- Addresses  is  so  rejected  the  event  manual-AddressDroppedFromArea shall be generated.

7.2.10.4 Encapsulation of NPDUs across the virtuallink All NPDUs sent over virtual links shall be encapsulated as ISO8473  Data  NPDUs.  The  IS  shall  encapsulate  NPDUs  in  ISO 8473 Data PDUs as follows:

a) The  Source  Address  field  of  the  encapsulating  DataNPDU shall contain the Virtual Network Entity Title of

the Partition Designated Level 2 IS that is forwarding theNPDU over the virtual link 

b) The Destination Address field shall contain the VirtualNET of the "adjacent" Partition Designated Level 2 IS  c) The SEL field in both addresses shall contain the Intra-domainRouteingSelector value.  d) If the PDU to be encapsulated is an ISO 8473 Data or Er-ror PDU the IS shall,

1) copy  the  QoS  Maintenance  field  (if  present  in  theencapsulated PDU) to the encapsulating PDU. If the

ISO  8473  PDU  does  not  contain  a  QoS  Mainte-nance  field,  the  IS  shall  include  the  QoS  Mainte- nance  field  in  the  encapsulating  PDU  and  indicaterouteing by the default routeing metric.

2) copy  the  Segmentation  Permitted,  and  Error  Re-port flags from the inner PDU. 3) copy the Lifetime field from the inner NPDU.  Whenthe  inner  NPDU  is  decapsulated,  its  Lifetime  field

shall  be  set  to  the  value  of  the  Lifetime  field  in  theouter NPDU.

e) If the PDU to be encapsulated is an ISO 8473 Data PDU,the  IS  shall  not  segment  it  before  encapsulation,  unless

the total length of the Data NPDU (including header) ex-ceeds 65512 octets. In that case, the original Data NPDU shall first be segmented, then encapsulated. In all cases,the encapsulated Data NPDU may need to be segmented by  ISO  8473  before  transmission  in  which  case  it  must

be reassembled and decapsulated by the destination Parti-tion Designated Level 2 IS. f) If the PDU to be encapsulated is an LSP or SNP, the ISshall:

1) set the Segmentation Permitted flag to "True"; 2) set the Error Report flag to "False";  3) set the Lifetime  field  to  255. When  an  inner LSP isdecapsulated,  its  remaining  lifetime  shall  be

decremented by half the difference between 255 andthe value of the Lifetime field in the outer NPDU.

The encapsulation is further described as part of the forward-ing process in 7.4.3.2. The decapsulation is described as part of the Receive process in 7.4.4.

7.2.11 Computation of area addresses A  Level  1  or  Level  2  Intermediate  System  shall  compute  thevalues  of  areaAddresses  (the  set  of  area  addresses  for  this Level  1  area),  by  forming  the  union  of  the  sets  of  manual-AreaAddresses reported in the Area Addresses field of all Level 1 LSPs with LSP number zero in the local Intermediatesystem's link state database.

NOTES 14  This  includes  all  source  systems,  whether  currentlyreachable or not. It also includes the local Intermediate

system's own Level 1 LSP with LSP number zero. 15  There is no requirement for this set to be updated imme-diately on each change to the database contents. It is per-

mitted to defer the computation until the next running ofthe Decision Process.

If more than maximumAreaAddresses are present, the Inter-mediate system shall retain only those areas with numerically lowest area address (as described in 7.1.8). If one of the localsystem's  manualAreaAddresses  is  rejected  the  event manualAddressDroppedFromArea shall be generated. 7.2.12 Order of preference of routes 7.2.12.1 If an Intermediate system takes part in level 1 route-ing,  and  determines  (by  looking  at  the  area  address)  that  a given destination is reachable within its area, then that destina-tion will be reached exclusively by use of level 1 routeing. In particular:

a) Level 1 routeing is always based on internal metrics. b) Amongst  routes  in  the  area,  routes  on  which  the  re-quested QoS (if any) is supported are always preferred to

routes on which the requested QoS is not supported. c) Amongst routes in the area of the same QoS, the shortestroutes  are  preferred.  For  determination  of  the  shortest

path,  if  a  route  with  specific  QoS  support  is  available,then the specified QoS metric is used, otherwise the de- fault metric is used. 7.2.12.2 If an Intermediate system takes part in level 1 route-ing, does not take part in level 2 routeing, and determines (by

ISO/IEC 10589:1992 (E)

19 looking  at  the  area  address)  that  a  given  destination  is  notreachable within its area, and at least one attached level 2 IS is reachable in the area, then that destination will be reached byrouteing to a level 2 Intermediate system as follows:

a) Level 1 routeing is always based on internal metrics. b) Amongst routes in the area to attached level 2 ISs, routeson which the requested QoS (if any) is supported are al-

ways preferred to routes on which the requested QoS isnot supported.

c) Amongst routes in the area of the same QoS to attachedlevel 2 ISs, the shortest route is preferred. For determina-

tion of the shortest path, if a route on which the specifiedQoS is available, then the specified QoS metric is used, otherwise the default metric is used.

7.2.12.3 If an Intermediate system takes part in level 2 route-ing  and  is  attached,  and  the  IS  determines  (by  looking  at  the area address) that a given destination is not reachable within itsarea,  forwarding  for  that  destination  will  select  routes  as  fol- lows:

a) Routes on which the requested QoS (if any) is supportedare  always  preferred  to  routes  on  which  the  requested

QoS is not supported.

b) Amongst  routes  of  the  same  QoS,  routes  are  prioritisedas follows:

1) Highest precedence: routes for which the next hop'sarea  address  matches  the  area  address  of  an  area

within the routeing domain (i.e. the route does not gooutside the routeing domain).

2) Medium precedence: Routes whose next hop networkentity title matches a reachable address prefix with an

internal  metric.  In  case  of  multiple  matching  reach-able  address  prefixes  all  with  internal  metrics,  the longest prefix shall be preferred. 3) Lowest precedence: Routes whose next hop networkentity title matches a reachable address prefix with an

external  metric.  In  case  of  multiple  matching  reach-able  address  prefixes  all  with  external  metrics,  the longest prefix shall be preferred.

c) For routes with equal precedence as specified above, theshortest path shall be preferred. For determination of the

shortest  path,  a  route  supporting  the  specified  QoS  isused if available; otherwise a route using the default met- ric  shall  be  used.  Amongst  routes  of  equal  cost,  loadsplitting may be performed.

7.3 Update process The Update process is responsible for generating and propagat-ing Link State information reliably throughout the routeing do- main.

The Link State information is used by the Decision process tocalculate routes.

7.3.1  Input and output INPUT

- Adjacency  Database  -  maintained  by  the  SubnetworkDependent Functions 

- Reachable  Address  managed  objects  -  maintained  bySystem Management - Notification  of  Adjacency  Database  Change  -  notifica-tion by the Subnetwork Dependent Functions that an ad-

jacency has come up, gone down, or changed cost. (Cir-cuit up, Circuit down, Adjacency Up, Adjacency Down, and Cost change events)  - AttachedFlag  -  (level  2  Intermediate  systems  only),  aflag computed  by the Level  2 Decision  Process  indicat-

ing whether this system can reach (via level 2 routeing)other areas 

- Link  State  PDUs  -  The  Receive  Process  passes  LinkState PDUs to the Update Process, along with an indica-

tion of which adjacency it was received on.  - Sequence Numbers PDUs - The Receive Process passesSequence  Numbers  PDUs  to  the  Update  Process,  along

with an indication of which adjacency it was received on.  - Other  Partitions  -  The  Level  2  Decision  Process  makesavailable (to the Level 1 Update Process on a Level 2 In-

termediate system) a list of a'Partition Designated Level 2Intermediate system, Level 2 default metric valuen~ pairs, for other partitions of this area.  OUTPUT

- Link State Database - Signal  to  the  Decision  Process  of  an  event,  which  iseither the receipt of a Link State PDU with different in-

formation from the stored one, or the purging of a LinkState  PDU  from  the  database.  The  reception  of  a  Link State PDU which has a different sequence number or Re-maining  Lifetime  from  one  already  stored  in  the  data- base,  but  has  an  identical  variable  length  portion,  shallnot cause such an event. 

NOTE 16  An  implementation  may  compare  the  checksumof  the  stored  Link  State  PDU,  modified  according  to  the change  in  sequence  number,  with  the  checksum  of  the  re-ceived  Link  State  PDU.  If  they  differ,  the  implementation may  assume  that  the  variable  length  portions  are  differentand  it  shall  signal  an  event  to  the  Decision  Process.  How- ever, if the checksums are the same, an octet for octet com-parison  is  needed  determine  whether  or  not  to  signal  the event.

7.3.2  Generation of local link state information The  Update  Process  is  responsible  for  constructing  a  set  ofLink State PDUs. The purpose of these Link State PDUs is to inform  all  the  other  Intermediate  systems  (in  the  area,  in  thecase  of  Level  1,  or  in  the  Level  2  subdomain,  in  the  case  of Level 2), of the state of the links between the Intermediate sys-tem that generated the PDUs and its neighbours. 

ISO/IEC 10589:1992 (E)

20 The  Update  Process  in  an  Intermediate  system  shall  generateone or more new Link State PDUs under the following circum- stances:

a) upon timer expiration; b) when  notified  by  the  Subnetwork  Dependent  Functionsof an Adjacency Database Change;

c) when  a  change  to  some  System  Management  parameterwould  cause  the  information  in  the  LSP  to  change  (for

example, a change in manualAreaAddresses).

7.3.3  Use of manual routeing information Manual  routeing  information  is  routeing  information  enteredby System Management. It may be specified in two forms.

a) Manual Adjacencies  b) Reachable Addresses  These are described in the following sub-clauses. 7.3.3.1  Manual adjacencies An End system adjacency may be created by System Manage-ment. Such an adjacency is termed a manual End system adja- cency. In order to create a manual End system adjacency, sys-tem management shall specify

a) the  (set  of)  system  IDs  reachable  over  that  adjacency;and  b) the corresponding SNPA Address. A manual adjacency is considered to be "active" when all thefollowing conditions are true:

a) The operationalState of the linkage managed object as-sociated with the parent circuit is "Enabled" b) the  adjacencyState  of  the  managed  object  associatedwith the adjacency is "On" and c) the  parent  circuit  is  of  type  broadcast  or  its  underlying data link is operational. Whenever a manual adjacency changes from being "inactive"to "active" a signal shall be generated to the Update process to cause  it  to  include  the  IDs  of  the  manual  adjacency  in  theLevel 1 LSPs generated by that system as described in 7.3.7.

Whenever a manual adjacency changes from being "active" to"inactive", a signal shall be generated to the Update process to cause it to cease including the IDs of the manual adjacency inthe Level 1 LSPs.

NOTE 17  Manual End system adjacencies are not includedin a Level 1 LSPs issued on behalf of a pseudonode, since that  would  presuppose  that  all  Intermediate  systems  on  abroadcast subnetwork had the same set  of manual adjacen- cies as defined for this circuit.

Metrics  assigned  to  Manual  adjacencies  shall  be  internalmetrics.

7.3.3.2  Reachable addresses A  Level  2  Intermediate  system  may  have  a  number  ofreachableAddress managed objects created by System man- agement.  When  a  reachableAddress  managed  object  is  inoperationalState "Enabled" and the linkage managed object associated  with  its parent Circuit is also  in operationalState"Enabled", the name and each of its defined routeing metrics shall be included in Level 2 LSPs generated by this system.  Metrics assigned to reachableAddress managed objects maybe either Internal or External.

A reachable address is considered to be "active" when all thefollowing conditions are true:

a) The  operationalState  of  the  the  linkage  managed  ob-ject associated with the parent circuit is "Enabled"; b) the operationalState of the reachableAddress is "En-abled"; and c) the  parent  circuit  is  of  type  broadcast  or  its  underlying data link is operational. Whenever a  reachable address changes from being  "inactive"to "active" a signal shall be generated to the Update process to cause it to include the Address Prefix of the reachable addressand  each  of  its  defined  routeing  metrics  in  the  Level  2  LSPs generated by that system as described in 7.3.9. Whenever a reachable address changes from being "active" to"inactive", a signal shall be generated to the Update process to cause it to cease including the Address Prefix of the reachableaddress in the Level 2 LSPs.

7.3.4  Multiple LSPs 7.3.4.1  Because  a  Link  State  PDU  is  limited  in  size  toReceiveLSPBufferSize, it may not be possible to include in- formation about all of a system's neighbours in a single LSP.In such cases, a system may use multiple LSPs to convey this information.  Each  LSP  in  the  set  carries  the  same  sourceIDfield (see clause 9), but sets its own LSP Number field indi- vidually. Each of the several LSPs is handled independently bythe Update Process, thus allowing distribution of topology up- dates  to  be  pipelined.  However,  the  Decision  Process  recog-nises that they all pertain to a common originating system be- cause they all use the same sourceID.

NOTES 18  Even if the amount of information is small enough to fitin a single LSP, a system may optionally choose to use

several  LSPs  to  convey  it;  use  of  a  single  LSP  in  thissituation is not mandatory.

19  In  order  to  minimise  the  transmission  of  redundant  in-formation,  it  is  advisable  for  an  IS  to  group  Reachable

Address Prefix information by the circuit with which itis  associated.  Doing  so  will  ensure  that  the  minimum number of LSP fragments need be transmitted if a circuitto another routeing domain changes state.

7.3.4.2  The  maximum  sized  Level  1  or  Level  2  LSP  whichmay be generated by a system is controlled by the values of the management parameters originatingL1LSPBufferSize or ori-ginatingL2LSPBufferSize respectively. 

ISO/IEC 10589:1992 (E)

21 NOTE 20  These  parameters  should  be  set  consistently  bysystem  management.  If  this  is  not  done,  some  adjacencies will fail to initialise.

7.3.4.3 The IS shall treat the LSP with LSP Number zero in aspecial way, as follows:

a) The following fields are meaningful to the decision proc-ess  only  when  they  are  present  in  the  LSP  with  LSP

Number zero: 1) The setting of the LSP Database Overload bit.  2) The value of the IS Type field.  3) The  Area  Addresses  option  field.  The  Area  Ad-dresses option shall be present only in an LSP with

LSP  number  zero.  If  there  are  more  area  addressesthan  will  fit  in  a  single  instance  of  the  Area  Ad- dresses option field, then the IS shall place 12 areaaddresses in each instance of the field except the last.

b) When the values of any of the above items are changed,an  Intermediate  System  shall  reissue  the  LSP  with  LSP

Number  zero,  to  inform  other  Intermediate  Systems  ofthe change. Other LSPs need not be reissued.

7.3.4.4  Once  a  particular  adjacency  has  been  assigned  to  aparticular LSP Number, it is desirable that it not be moved to another  LSP  Number.  This  is  because  moving  an  adjacencyfrom  one  LSP  to  another  can  cause  temporary  loss  of connectivity to that system. This can occur if the new versionof  the  LSP  which  originally  contained  information  about  the adjacency  (which  now  does  not  contain  that  information)  ispropagated  before  the  new  version  of  the  other  LSP  (which now contains the information about the adjacency).

NOTE 21  An  implementation  is  recommended  to  ensurethat the number of LSPs generated for a particular system is within  approximately  10  %  of  the  optimal  number  whichwould  be  required  if  all  LSPs  were  densely  packed  with neighbour  options.  Where  possible  this  should  be  accom-plished by re-using space in LSPs with a lower LSP Number for new adjacencies. 

If  it  is  necessary  to  move  an  adjacency  from  one  LSP  to  an-other, the SRMflags (see 7.3.15) for the two new LSPs shall be set as an atomic action.1) 7.3.4.5 When some event requires changing the LSP informa-tion for a system, the system shall reissue that (or those) LSPs which would have different contents. It is not required to reis-sue the unchanged LSPs. Thus a single End system adjacency change  only  requires  the  reissuing  of  the  LSP  containing  theEnd System Neighbours option referring to that adjacency.

7.3.5  Periodic LSP generation The  Update  Process  shall  periodically  re-generate  and  propa-gate  on  every  circuit  with  an  IS  adjacency  of  the  appropriate level  (by  setting  SRMflag  on  each  circuit),  all  the  LSPs(Level  1  and/or  Level  2)  for  the  local  system  and  any pseudonodes for which it is responsible. The Intermediate sys-

tem  shall  re-generate  each  LSP  at  intervals  of  at  most  maxi-mumLSPGenerationInterval, with jitter applied as described in 10.1.  It  is  not  required  to  synchronise  the  regeneration  of  the  indi-vidual LSPs.

7.3.6  Event driven LSP Generation In addition to the periodic generation of LSPs, an Intermediatesystem  shall  generate  an  LSP  when  an  event  occurs  which would cause the information content to change. The followingevents may cause such a change.

- an Adjacency or Circuit Up/Down event -  a change in Circuit metric - a change in Reachable Address metric - a change in manualAreaAddresses - a change in systemID - a change in Designated Intermediate System status - a change in the waiting status When  such  an  event  occurs  the  IS  shall  re-generate  changedLSP(s) with a new sequence number. If the event necessitated the generation of an LSP which had not previously been gener-ated (for example, an adjacency "Up" event for an adjacency which could not be accommodated in an existing LSP), the se-quence number shall be set to one. The IS shall then propagate the  LSP(s)  on  every  circuit  by  setting  SRMflag  for  each  cir-cuit.  The  timer  maximumLSPGenerationInterval  shall  not be reset. There  is  a  hold-down  timer  (minimumLSPGeneration-Interval) on the generation of each individual LSP.

7.3.7  Generation of level 1 LSPs(non-pseudonode) The  Level  1  Link  State  PDU  not  generated  on  behalf  of  apseudonode contains the following information in its variable length fields.

- In  the  Area  Addresses  option  --  the  set  of  manual-AreaAddresses for this Intermediate System.

- In the Intermediate System Neighbours option -- theset of Intermediate system IDs of neighbouring Interme-

diate systems formed from

* The  set  of  neighbourSystemIDs  with  an  appendedzero octet (indicating non-pseudonode) from adjacen-

cies in the state "Up", on circuits of type "Point-to-Point", "In" or "Out", with

x neighbourSystemType  "L1  Intermediate  Sys-tem" 

1) If the two SRMflags are not set atomically, a race condition will exist in which one of the two LSPs may be propagated quickly, while the other waitsfor an entire propagation cycle. If this occurs, adjacencies will be falsely eliminated from the topology and routes may become unstable for periods of time potentially as large as maximumLSPGenerationInterval.

ISO/IEC 10589:1992 (E)

22

x neighbourSystemType  "L2  Intermediate  Sys-tem" and adjacencyUsage "Level 1" or "Level

1 and 2". The metrics shall be set to the values of Level 1 met-ric

k of the circuit for each supported routeing metric.

* The  set  of  l1CircuitIDs  for  all  circuits  of  type"Broadcast" (i.e. the neighbouring pseudonode IDs) .

The metrics shall be set to the values of Level 1 met-ric

k of the circuit for each supported routeing metric,where k = one of (default, delay, error, expense).

* The  set  of  IDs  with  an  appended  zero  octet  derivedfrom  the  Network  Entity  Titles  of  all  Virtual  Adja-

cencies of this IS.  (Note that the  Virtual  Flag is  setwhen  encoding  these  entries  in  the  LSP  --  see 7.2.10.) The default metric shall be set to the total cost to thevirtual  NET  for  the  default  routeing  metric.  The  re-

maining  metrics  shall  be  set  to  the  value  indicatingunsupported.

- In the End System Neighbours option -- the set of IDsof neighbouring End systems formed from

* The systemID of the Intermediate System itself, witha value of zero for all supported metrics.

* The  set  of  neighbourSystemIDs  from  allautomatically-created adjacencies , in state "Up", on

circuits of type "Point-to-Point", "In" or "Out", withneighbourSystemType "End system". 

The metrics shall be set to the values of Level 1 met-ric

k of the circuit for each supported routeing metric,where k = one of (default, delay, error, expense).

* The  set  of  neighbourSystemIDs  from  all  systemmanagement-created adjacencies in state "Up", on all

circuits, with neighbourSystemType "End system" The metrics shall be set to the values of Level 1 met-ric

k of the circuit for each supported routeing metric,where k = one of (default, delay, error, expense).

- In  the  Authentication  Information  field  --  if  the  sys-tem's  areaTransmitPassword  is  non-null,  include  the

Authentication  Information  field  containing  anAuthentication  Type  of  "Password",  and  the  value  of the areaTransmitPassword. 7.3.8  Generation of level 1 pseudonode LSPs An IS shall generate a Level 1 pseudonode Link State PDU foreach circuit for which this Intermediate System is the Level 1 LAN Designated Intermediate System. The LSP shall specifythe  following  information  in  its  variable  length  fields.  In  all cases a value of  zero shall be used for all  supported  routeingmetrics

- The Area Addresses option is not present.

NOTE 22  This information is not required since the setof  area  addresses  for  the  node  issuing  the  pseudonode

LSP will already have been made available via its ownnon-pseudonode LSP.

- In the Intermediate System Neighbours option -- theset of Intermediate System IDs of neighbouring Interme-

diate  Systems  on  the  circuit  for  which  this  pseudonodeLSP is being generated formed from

* The  Designated  Intermediate  System's  ownsystemID  with  an  appended  zero  octet  (indicating

non-pseudonode). 

* The set of neighbourSystemIDs with an appendedzero octet (indicating non-pseudonode) from adjacen-

cies on this circuit in the state "Up", with x neighbourSystemType  "L1  Intermediate  Sys-tem"

x "L2 Intermediate System" and adjacencyUsage"Level 1".

- In the End System Neighbours option -- the set of IDsof neighbouring End systems formed from:

* The  set  of  neighbourSystemIDs  from  allautomatically-created  adjacencies,  in  state  "Up",  on

the circuit for which this pseudonode is being gener-ated, with neighbourSystemType "End system". 

- In  the  Authentication  Information  field  --  if  the  sys-tem's  areaTransmitPassword  is  non-null,  include  the

Authentication  Information  field  containing  anAuthentication  Type  of  "Password",  and  the  value  of the areaTransmitPassword. 7.3.9  Generation of level 2 LSPs(non-pseudonode)

The  Level  2  Link  State  PDU  not  generated  on  behalf  of  apseudonode contains the following information in its variable length fields:

- In  the  Area  Addresses  option  --  the  set  of  area-Addresses for this Intermediate system computed as de-

scribed in 7.2.11. - In the Partition Designated Level 2 IS  option -- the IDof the Partition Designated Level 2 Intermediate System

for the partition. - In the Intermediate System Neighbours option -- theset of Intermediate system IDs of neighbouring Interme-

diate systems formed from:

* The set of neighbourSystemIDs with an appendedzero octet (indicating non-pseudonode) from adjacen-

cies in the state "Up", on circuits of type "Point-to-Point", "In" or "Out", with  neighbourSystemType "L2 Intermediate System".

* The set of l2CircuitIDs for all circuits whose linkagemanaged  object  is  of  type  "Broadcast".  (i.e.  the

neighbouring pseudonode IDs) The metric and metric type shall be set to the valuesof  Level  2  metric

k  of  the  circuit  for  each  supportedrouteing metric.

- In  the  Prefix  Neighbours  option  --  the  set  of  variablelength prefixes formed from: 

ISO/IEC 10589:1992 (E)

23

* The  set  of  prefixAddresses  from  all  reachable-Address  managed  objects  in  operationalState

"Enabled", on all circuits in state "Up". The metrics shall be set to the values of Level 2  met-ric

k for the reachable address.

- In  the  Authentication  Information  field  --  if  the  sys-tem's  domainTransmitPassword  is  non-null,  include

the  Authentication  Information  field  containing  anAuthentication  Type  of  "Password",  and  the  value  of the domainTransmitPassword. 7.3.10 Generation of level 2 pseudonode LSPs A Level  2 pseudonode Link State  PDU is generated  for eachcircuit for which this Intermediate System is the Level 2 LAN Designated Intermediate System and contains the following in-formation  in  its  variable  length  fields.  In  all  cases  a  value  of zero shall be used for all supported routeing metrics.

- The Area Addresses option is not present.

- In the Intermediate System Neighbours option -- theset of Intermediate System IDs of neighbouring Interme-

diate  Systems  on  the  circuit  for  which  this  pseudonodeLSP is being generated formed from: 

* The  Designated  Intermediate  System's  ownsystemID  with  an  appended  zero  octet  (indicating

non-pseudonode). 

* The set of neighbourSystemIDs with an appendedzero octet (indicating non-pseudonode) from adjacen-

cies  on  this  circuit  in  the  state  "Up"  withneighbourSystemType "L2 Intermediate System".

- The Prefix Neighbours option is not present. - In  the  Authentication  Information  field  --  if  the  sys-tem's  domainTransmitPassword  is  non-null,  include

the  Authentication  Information  field  containing  anAuthentication  Type  of  "Password",  and  the  value  of the domainTransmitPassword. 7.3.11 Generation of the checksum This International Standard makes use of the checksum func-tion defined in ISO 8473.

The source IS shall compute the LSP Checksum when the LSPis  generated.  The  checksum  shall  never  be  modified  by  any other  system.  The  checksum  allows  the  detection  of  memorycorruptions and thus prevents both the use of incorrect route- ing  information  and  its  further  propagation  by  the  UpdateProcess. 

The  checksum  shall  be  computed  over  all  fields  in  the  LSPwhich  appear  after  the  Remaining  Lifetime  field.  This  field (and  those  appearing  before  it)  are  excluded  so  that  the  LSPmay be aged by systems without requiring re-computation. 

NOTE 23  This information is not required since the setof  area  addresses  for  the  node  issuing  the  pseudonode LSP will already have been made available via its ownnon-pseudonode LSP.

As an additional precaution against hardware failure, when thesource  computes  the  Checksum,  it  shall  start  with  the  two checksum variables (C0 and C1) initialised to what they wouldbe after computing for the systemID portion  of its Source ID. (This value is computed and stored when the Network entity isenabled and whenever systemID changes.) The IS  shall then resume Checksum computation on the contents of the PDU af-ter the first ID Length octets of the Source ID field.

NOTE 24  All  Checksum  calculations  on  the  LSP  are  per-formed treating the Source ID field as the first octet. This procedure prevents the source from accidentally sending outLink State PDUs with some other system's ID as source. 

7.3.12 Initiating transmission The  IS  shall  store  the  generated  Link  State  PDU  in  the  LinkState Database, overwriting any previous Link State PDU with the same LSP Number generated by this system. The IS shallthen set all SRMflags for that Link State PDU, indicating it is to be propagated on all circuits with Intermediate System adja-cencies. 

An  Intermediate  system  shall  ensure  (by  reserving  resources,or otherwise) that it will always be able to store and internalise its own non-pseudonode zeroth LSP. In the event that it is notcapable  of  storing  and  internalising  one  of  its  own  LSPs  it shall enter the overloaded state as described in 7.3.19.1.

NOTE 25  It  is  recommended  that  an  Intermediate  systemensures (by reserving resources, or otherwise) that it will al- ways  be  able  to  store  and  internalise  all  its  own  (zero  andnon-zero, pseudonode and non-pseudonode) LSPs.

7.3.13 Preservation of order When  an  existing  Link  State  PDU  is  re-transmitted  (with  thesame or a different sequence number), but with the same infor- mation content (i.e. the variable length part) as a result of therehaving been no changes in the local topology databases, the or- der of  the information in the variable length part shall be  thesame as that in the previously transmitted LSP.

NOTE 26  If a sequence of changes results in the state of thedatabase  returning  to  some  previous  value,  there  is  no  re- quirement to preserve the ordering. It is only required whenthere  have  been  no  changes  whatever.  This  allows  the  re- ceiver to detect that there has been no change in the infor-mation content by performing an octet for octet comparison of the variable length part, and hence not re-run the decisionprocess. 

7.3.14 Propagation of LSPs 7.3.14.1  The  update  process  is  responsible  for  propagatingLink  State  PDUs  throughout  the  domain  (or  in  the  case  of Level 1, throughout the area). The basic mechanism is flooding, in which each Intermediatesystem  propagates  to  all  its  neighbour  Intermediate  systems except that neighbour from which it received the PDU. Dupli-cates are detected and dropped.

7.3.14.2 Link state PDUs are received from the Receive Proc-ess. The maximum size control PDU (Link State PDU or Se- quence Numbers PDU) which a system expects to receive shall

ISO/IEC 10589:1992 (E)

24 be  ReceiveLSPBufferSize  octets.  (i.e.  the  Update  processmust provide buffers of at least this size for the reception, stor- age and forwarding of received Link State PDUs and SequenceNumbers PDUs.) If a control PDU larger than this size is re- ceived, it shall be treated as if it had an invalid checksum (i.e.ignored by the Update Process and a corruptedLSPReceived event generated). Upon  receipt  of  a  Link  State  PDU  the  Update  Process  shallperform the following functions:

a) Level 2 Link State PDUs shall be propagated on circuitswhich have at least one Level 2 adjacency.  b) Level 1 Link State PDUs shall be propagated on circuitswhich have at least one Level 1 adjacency or at least one

Level 2 adjacency not marked "Level 2 only, and virtuallinks". 

c) When propagating a Level 1 Link State PDU on a broad-cast  subnetwork,  the  IS  shall  transmit  to  the  multi-

destination subnetwork address AllL1IS.  d) When propagating a Level 2 Link State PDU on a broad-cast  subnetwork,  the  IS  shall  transmit  to  the  multi-

destination subnetwork address AllL2IS.

e) An Intermediate system receiving a Link State PDU withan incorrect LSP Checksum or with an invalid PDU syn-

tax shall  1) generate a  corruptedLSPReceived circuit event,  2) overwrite  the  Checksum  and  Remaining  Lifetimewith zero, and 

3) treat  the  Link  State  PDU  as  though  its  RemainingLifetime had expired (see 7.3.16.4.) f) A Intermediate system receiving a Link State PDU whichis new (as identified in 7.3.16) shall

1) store  the  Link  State  PDU  into  Link  State  database,and  2) mark it as needing to be propagated upon all circuitsexcept that upon which it was received.  g) When a Intermediate system receives a Link State PDUfrom  source  S,  which  it  considers  older  than  the  one

stored in the database for S, it shall set the SRMflag forS's  Link  State  PDU  associated  with  the  circuit  from which the older Link State PDU was received. This indi-cates that the stored Link State PDU needs to be sent on the link from which the older one was received. h) When a system receives a Link State PDU which is thesame (not newer or older) as the one stored, the Interme-

diate system shall 1) acknowledge  it  if  necessary,  as  described  in  7.3.17,and 

NOTE 27  When propagating a Link State PDU on a gen-eral topology subnetwork the Data Link Address is unambi- guous (because Link State PDUs are not propagated acrossDynamically Assigned circuits). 

2) clear the SRMflag for that circuit for that Link StatePDU.  i) A  Link  State PDU  received with  a  zero  checksum shallbe  treated  as  if  the  Remaining  Lifetime  were  zero.  The

age, if not zero, shall be overwritten with zero. 7.3.14.3  The  Update  Process  scans  the  Link  State  Databasefor Link State PDUs with SRMflags set. When one is found, provided  the  timestamp  lastSent  indicates  that  it  was  propa-gated  no  more  recently  than  minimumLSPTransmissionInt- erval, the IS shall 

a) transmit it on all circuits with SRMflags set, and  b) update lastSent. 7.3.15 Manipulation of SRM and SSN flags For  each  Link  State  PDU,  and  for  each  circuit  over  whichrouteing  messages  are  to  be  exchanged  (i.e.  not  on  DA  cir- cuits), there are two flags: Send  Routeing  Message  (SRMflag)  -  if  set,  indicates  thatLink  State  PDU  should  be  transmitted  on  that  cir-

cuit.  On  broadcast  circuits  SRMflag  is  cleared  assoon  as  the  LSP  has  been  transmitted,  but  on  non- broadcast circuits SRMflag is only cleared on recep-tion  of  a  Link  State  PDU  or  Sequence  Numbers PDU as described below. SRMflag shall never be set for an LSP with sequencenumber zero, nor on a circuit whose externalDomain

attribute is "True" (See 7.3.15.2). Send  Sequence  Numbers  (SSNflag)  -  if  set, indicates  thatinformation about that Link State PDU should be in-

cluded  in  a  Partial  Sequence  Numbers  PDU  trans-mitted  on  that  circuit  with  an  associated  linkage.  When  the  Sequence  Numbers  PDU  has  been  trans-mitted SSNflag is cleared. Note that the Partial Se- quence  Numbers  PDU  serves  as  an  acknowledge-ment that a Link State PDU was received.

SSNflag  shall  never  be  set  on  a  circuit  whoseexternalDomain attribute is "True". 7.3.15.1 Action on receipt of a link state PDU  When a Link State PDU is received on a circuit C, the IS shallperform the following functions

a) Perform the following PDU acceptance tests:

1) If  the  LSP  was  received  over  a  circuit  whoseexternalDomain attribute is "True", the IS shall dis-

card the PDU. 2) If the ID Length field of the PDU is not equal to thevalue  of  the  IS's  routeingDomainIDLength,  the

PDU  shall  be  discarded  and  an  iDFieldLengthMis-match event generated.

3) If this is a level 1 LSP, and the Maximum Area Ad-dresses field of the PDU is not equal to the value of

the  IS's  maximumAreaAddresses  then  the  PDU

ISO/IEC 10589:1992 (E)

25 shall be discarded and a maximumAreaAddresses-Mismatch event generated, unless the IS only imple- ments  a value  of three  for  maximumAreaAddress-es, in which case this check may be omitted.

4) If the LSP is received on a broadcast circuit and thesource subnetwork address of the LSP does not match

the neighbourSNPAAddress of an adjacency of thesame  level  (e.g.  a  level  1  LSP  with  a  level  1  adja- cency)  on  the  circuit  over  which  the  LSP  was  re-ceived, then the IS shall discard the LSP without gen- erating a event. If the LSP is received on a non-broadcast circuit andthere is no adjacency of the same level (e.g. a  level 1

LSP with a level 1 or level 1 & 2 adjacency) on thecircuit over which the LSP was received, then the IS shall discard the LSP without generating a event. 5) If  this  is  a  level  1  LSP,  and  the  value  ofareaTransmitPassword or the set of areaReceive-

Passwords  is  non-null,  then  perform  the  followingtests:

i) If the PDU does not contain the AuthenticationInformation  field  then  the  PDU  shall  be  dis-

carded and an authenticationFailure event gen-erated.

ii) If  the  PDU  contains  the  Authentication  Infor-mation  field,  but  the  Authentication  Type  is

not equal to "Password", then: (a)If the IS implements the authentication proce-dure  indicated  by  the  Authentication  Type

whether the IS accepts or ignores the PDU isoutside  the  scope  of  this  International  Stan- dard. (b)If  the  IS  does  not  implement  the  authentica-tion  procedure  indicated  by  the  Authentica-

tion  Type  then  the  IS  shall  ignore  the  PDUand  generate  an  authenticationFailure event." iii) Otherwise, the IS shall compare the password inthe  received  PDU  with  the  passwords  in  the  set

of  areaReceivePasswords,  augmented  by  thevalue  of  the  areaTransmitPassword.  If  the value  in  the  PDU  matches  any  of  these  pass-words,  the  IS  shall  accept  the  PDU  for  further processing.  If  the  value  in  the  PDU  does  notmatch any of the above values, then the IS shall ignore the PDU and generate an authentication-Failure event.

6) If  this  is  a  level  2  LSP,  and  the  value  ofdomainTransmitPassword  or  the  set  of  domain-

ReceivePasswords  is  non-null,  then  perform  thefollowing tests:

i) If the PDU does not contain the AuthenticationInformation  field  then  the  PDU  shall  be  dis-

carded and an authenticationFailure event gen-erated.

ii) If  the  PDU  contains  the  Authentication  Infor-mation  field,  but  the  Authentication  Type  is

not equal to "Password", then: (a)If the IS implements the authentication proce-dure  indicated  by  the  Authentication  Type

whether the IS accepts or ignores the PDU isoutside  the  scope  of  this  International  Stan- dard. (b)If  the  IS  does  not  implement  the  authentica-tion  procedure  indicated  by  the  Authentica-

tion  Type  then  the  IS  shall  ignore  the  PDUand  generate  an  authenticationFailure event." iii) Otherwise, the IS shall compare the password inthe  received  PDU  with  the  passwords  in  the  set

of  domainReceivePasswords,  augmented  bythe  value  of  the  domainTransmitPassword.  If the value in the PDU matches any of these pass-words,  the  IS  shall  accept  the  PDU  for  further processing.  If  the  value  in  the  PDU  does  notmatch any of the above values, then the IS shall ignore the PDU and generate an authentication-Failure event.

b) If the LSP has zero Remaining Lifetime, perform the ac-tions described in 7.3.16.4. c) If  the  source  S  of  the  LSP  is  an  IS  or  pseudonode  forwhich all but the last octet are equal to the systemID of

the receiving Intermediate System, and the receiving In-termediate System does not have that LSP in its database, or has that LSP, but no longer considers it to be in the setof  LSPs  generated  by  this  system  (e.g.  it  was  generated by  a  previous  incarnation  of  the  system),  then  initiate  anetwork wide purge of that LSP as described in 7.3.16.4.

d) If  the  source  S  of  the  LSP  is  a  system  (pseudonode  orotherwise) for which the first ID Length octets are equal

to  the  systemID  of  the  receiving  Intermediate  system,and the receiving Intermediate system has an LSP in the set of currently generated LSPs from that source in its da-tabase  (i.e.  it  is  an  LSP  generated  by  this  Intermediate system), perform the actions described in 7.3.16.1.  e) Otherwise, (the source S is some other system),

1) If the LSP is newer than the one in the database, or ifan LSP from that source does not yet exist in the da-

tabase:  i) Store  the  new  LSP  in  the  database,  overwritingthe existing database LSP for that source (if any)

with the received LSP.  ii) Set  SRMflag  for  that  LSP  for  all  circuits  otherthan C. 

iii) Clear SRMflag for C.  iv) If  C  is  a  non-broadcast  circuit,  set  SSNflag  forthat LSP for C. 

v) Clear SSNflag for that LSP for the circuits asso-ciated with a linkage other than C. 2) If the LSP is equal to the one in the database (sameSequence Number, Remaining Lifetimes both zero or

both non-zero, same checksums): i) Clear SRMflag for C.  ii) If  C  is  a  non-broadcast  circuit,  set  SSNflag  forthat LSP for C.

ISO/IEC 10589:1992 (E)

26

3) If the LSP is older than the one in the database:

i) Set SRMflag for C.  ii) Clear SSNflag for C.

When  storing  a  new  LSP,  the  Intermediate  system  shall  firstensure that it has sufficient memory resources to both store the LSP and generate whatever internal data structures will be re-quired to process the LSP by the Update Process. If these re- sources are not available the LSP shall be ignored. It shall nei-ther be stored nor acknowledged. When an LSP is ignored for this reason the IS shall enter the "Waiting State" (See 7.3.19). When  attempting  to  store  a  new  version  of  an  existing  LSP(with the same LSPID), which has a length less than or equal to that of the existing LSP, the existing LSP shall be removedfrom the routeing information base and the new LSP stored as a single atomic action. This ensures that such an LSP (whichmay  be  carrying  the  LSP  Database  Overload  indication  from an overloaded IS) will never be ignored as a result of a lack ofmemory resources.

7.3.15.2 Action on receipt of a sequence numbersPDU When  a  Sequence  Numbers  PDU  (Complete  or  Partial,  see7.3.17) is received on circuit C the IS shall perform the follow- ing functions:

a) Perform the following PDU acceptance tests:

1) If  the  SNP  was  received  over  a  circuit  whoseexternalDomain  attribute  is  "True",  the  IS  shall

discard the PDU. 2) If the ID Length field of the PDU is not equal to thevalue  of  the  IS's  routeingDomainIDLength,  the

PDU  shall  be  discarded  and  an  iDFieldLengthMis-match event generated.

3) If this is a level 1 SNP, and the Maximum Area Ad-dresses field of the PDU is not equal to the value of

the  IS's  maximumAreaAddresses  then  the  PDUshall be discarded and a maximumAreaAddresses- Mismatch event generated, unless the IS only imple-ments  a  value  of  three  for  maximumAreaAddres- ses, in which case this check may be omitted. 4) If the SNP is received on a broadcast circuit and thesource  subnetwork  address  of  the  SNP  does  not

match  the  neighborSNPAAddress  of  an  adjacencyof the  same  level  (e.g. a level  1 SNP with  a  level  1 adjacency) on the circuit over which the SNP was re-ceived, then the IS shall discard the SNP without gen- erating a event. If the SNP is received on a non-broadcast circuit andthere is no adjacency of the same level (e.g. a  level 1 SNP with a level 1 or level 1 & 2 adjacency) on thecircuit over which the SNP was received, then the IS shall discard the SNP without generating a event. 5) If  this  is  a  level  1  SNP  and  the  value  ofareaTransmitPassword or the set of areaReceive-

Passwords  is  non-null,  then  perform  the  followingtests:

i) If the PDU does not contain the AuthenticationInformation  field  then  the  PDU  shall  be  dis-

carded and an authenticationFailure event gen-erated.

ii) If  the  PDU  contains  the  Authentication  Infor-mation  field,  but  the  Authentication  Type  is

not equal to "Password", then: (a)If the IS implements the authentication proce-dure  indicated  by  the  Authentication  Type

whether the IS accepts or ignores the PDU isoutside  the  scope  of  this  International  Stan- dard. (b)If  the  IS  does  not  implement  the  authentica-tion  procedure  indicated  by  the  Authentica-

tion  Type  then  the  IS  shall  ignore  the  PDUand generate an authenticationFailure event.

iii) Otherwise, the IS shall compare the password inthe  received  PDU  with  the  passwords  in  the  set

of  areaReceivePasswords,  augmented  by  thevalue  of  the  areaTransmitPassword.  If  the value  in  the  PDU  matches  any  of  these  pass-words,  the  IS  shall  accept  the  PDU  for  further processing.  If  the  value  in  the  PDU  does  notmatch any of the above values, then the IS shall ignore the PDU and generate an authentication-Failure event.

6) If  this  is  a  level  2  SNP,  and  the  value  ofdomainTransmitPassword  or  the  set  of  domain-

ReceivePasswords  is  non-null,  then  perform  thefollowing tests:

i) If the PDU does not contain the AuthenticationInformation  field  then  the  PDU  shall  be  dis-

carded and an authenticationFailure event gen-erated.

ii) If  the  PDU  contains  the  Authentication  Infor-mation  field,  but  the  Authentication  Type  is

not equal to "Password", then: (a)If the IS implements the authentication proce-dure  indicated  by  the  Authentication  Type

whether the IS accepts or ignores the PDU isoutside  the  scope  of  this  International  Stan- dard. (b)If  the  IS  does  not  implement  the  authentica-tion  procedure  indicated  by  the  Authentica-

tion  Type  then  the  IS  shall  ignore  the  PDUand generate an authenticationFailure event.

iii) Otherwise, the IS shall compare the password inthe  received  PDU  with  the  passwords  in  the  set

of  domainReceivePasswords,  augmented  bythe  value  of  the  domainTransmitPassword.  If the value in the PDU matches any of these pass-words,  the  IS  shall  accept  the  PDU  for  further processing.  If  the  value  in  the  PDU  does  notmatch any of the above values, then the IS shall ignore the PDU and generate an authentication-Failure event.

b) For each LSP reported in the Sequence Numbers PDU:

1) If the reported value equals the database value and Cis  a  non-broadcast  circuit,  Clear  SRMflag  for  C  for

that LSP. 

ISO/IEC 10589:1992 (E)

27 2) If the reported value is older than the database value,Clear SSNflag, and Set SRMflag. 3) If the reported value is newer than the database value,Set  SSNflag,  and  if  C  is  a  non-broadcast  circuit

Clear SRMflag.  4) If  no  database  entry  exists  for  the  LSP,  and  the  re-ported  Remaining  Lifetime,  Checksum  and  Se-

quence Number fields of the LSP are all non-zero,create  an  entry  with  sequence  number  0  (see 7.3.16.1), and set SSNflag for that entry and circuitC. Under no circumstances shall SRMflag be set for such an LSP with zero sequence number.

c) If the  Sequence Numbers  PDU is  a Complete SequenceNumbers PDU, Set SRMflags for C for all LSPs in the

database  (except  those  with  zero  sequence  number  orzero Remaining Lifetime) with LSPIDs within the range specified  for  the  CSNP  by  the  Start  LSPID  and  EndLSPID  fields,  which  were  not  mentioned  in  the  Com- plete Sequence Numbers PDU (i.e. LSPs this system has,which the neighbour does not claim to have).

7.3.15.3 Action on expiration of complete SNPinterval The  IS  shall  perform  the  following  actions  every  Complete-SNPInterval for circuit C:

a) If C is a broadcast circuit, then

1) If  this  Intermediate  system  is  a  Level  1  DesignatedIntermediate  System  on  circuit  C,  transmit  a  com-

plete  set  of  Level  1  Complete  Sequence  NumbersPDUs on circuit C. Ignore the setting of SSNflag on Level 1 Link State PDUs. If  the  value  of  the  IS's  areaTransmitPassword  isnon-null, then the IS shall include the Authentication

Information field in the transmitted CSNP, indicatingan Authentication Type of "Password" and contain- ing  the  areaTransmitPassword  as  the  authentica-tion value.

2) If  this  Intermediate  system  is  a  Level  2  DesignatedIntermediate  System  on  circuit  C,  transmit  a  com-

plete  set  of  Level  2  Complete  Sequence  NumbersPDUs on circuit C. Ignore the setting of SSNflag on Level 2 Link State PDUs. If  the  value  of  the  IS's  domainTransmitPasswordis non-null, then the IS shall include the Authentica-

tion Information field in the transmitted CSNP, indi-cating  an  Authentication  Type  of  "Password"  and containing  the  domainTransmitPassword  as  theauthentication value.

A  complete  set  of  CSNPs  is  a  set  whose  Start  LSPIDand  End  LSPID  ranges  cover  the  complete  possible

NOTE 28  This  is  because  possessing  a  zero  se-quence  number  LSP  is  semantically  equivalent  to having no information about that LSP. If such LSPswere propagated by setting SRMflag it would result in  an  unnecessary  consumption  of  both  bandwidthand memory resources.

range of LSPIDs. (i.e. there is no possible LSPID valuewhich  does  not  appear  within  the  range  of  one  of  the CSNPs in the set). Where more than one CSNP is trans-mitted on a broadcast circuit, they shall be separated by an  interval  of  at  least  minimumBroadcastLSPTrans-missionInterval.

b) Otherwise  (C  is  a  point-to-point  circuit,  including  non-DA  DED circuits and  virtual links),  do nothing. CSNPs

are only transmitted on point-to-point circuits at initiali-sation.

7.3.15.4 Action on expiration of partial SNPinterval The maximum sized Level 1 or Level 2 PSNP which may begenerated by a system is controlled by the values of originat- ingL1LSPBufferSize  or  originatingL2LSPBufferSize  re-spectively. An Intermediate system shall perform the following actions every  partialSNPInterval  for circuit C with  jitter  ap-plied as described in 10.1:

a) If C is a broadcast circuit, then

1) If this Intermediate system is a Level 1 IntermediateSystem  or  a  Level  2  Intermediate  System  with

manualL2OnlyMode  "False",  but  is  not  a  Level  1Designated  Intermediate  System  on  circuit  C,  trans- mit a Level 1 Partial Sequence Numbers PDU on cir-cuit  C,  containing  entries  for  as  many  Level  1  Link State PDUs with SSNflag set as will fit in the PDU,and  then  clear  SSNflag  for  these  entries.  To  avoid the possibility of starvation, the scan of the LSP data-base for those with SSNflag set shall commence with the next LSP which was not included in the previousscan. If there were no Level 1 Link State PDUs with SSNflag  set,  do  not  transmit  a  Level  1  Partial  Se-quence Numbers PDU. 

If  the  value  of  the  IS's  areaTransmitPassword  isnon-null, then the IS shall include the Authentication Information field in the transmitted PSNP, indicatingan Authentication Type of "Password" and contain- ing  the  areaTransmitPassword  as  the  authentica-tion value.

2) If this Intermediate system is a Level 2 IntermediateSystem, but is not a Level 2 Designated Intermediate

System  on  circuit  C,  transmit  a  Level  2  Partial  Se-quence  Numbers  PDU  on  circuit  C,  containing  en- tries  for  as  many  Level  2  Link  State  PDUs  withSSNflag  set  as  will  fit  in  the  PDU,  and  then  clear SSNflag for these entries. To avoid the possibility ofstarvation,  the  scan  of  the  LSP  database  for  those with SSNflag set shall commence with the next LSPwhich was not included in the previous scan. If there were no Level 2 Link State PDUs with SSNflag set,do not transmit a Level 2 Partial Sequence Numbers PDU. 

NOTE 29  An IS is permitted to transmit a small number ofCSNPs (no more than 10) with a shorter separation inter- val, (or even "back to back"), provided that no more than1  000  /  minimumBroadcastLSPTransmissionInterval CSNPs are transmitted in any one second period. 

ISO/IEC 10589:1992 (E)

28

If  the  value  of  the  IS's  domainTransmitPasswordis non-null, then the IS shall include the Authentica- tion Information field in the transmitted PSNP, indi-cating  an  Authentication  Type  of  "Password"  and containing  the  domainTransmitPassword  as  theauthentication value.

b) Otherwise  (C  is  a  point-to-point  circuit,  including  non-DA DED circuits and virtual links)

1) If this system is a Level 1 Intermediate system, trans-mit a Level 1 Partial Sequence Numbers PDU on cir-

cuit  C,  containing  entries  for  as  many  Level  1  LinkState PDUs with SSNflag set as will fit in the PDU, and  then  clear  SSNflag  for  these  entries.  To  avoidthe possibility of starvation, the scan of the LSP data- base for those with SSNflag set shall commence withthe next LSP which was not included in the previous scan. If there were no Level 1 Link State PDUs withSSNflag  set,  do  not  transmit  a  Partial  Sequence Numbers PDU. If  the  value  of  the  IS's  areaTransmitPassword  isnon-null, then the IS shall include the Authentication Information field in the transmitted PSNP, indicatingan Authentication Type of "Password" and contain- ing  the  areaTransmitPassword  as  the  authentica-tion value.

2) If this system is a Level 2 Intermediate system, trans-mit a Level 2 Partial Sequence Numbers PDU on cir-

cuit  C,  containing  entries  for  as  many  Level  2  LinkState PDUs with SSNflag set as will fit in the PDU, and  then  clear  SSNflag  for  these  entries.  To  avoidthe possibility of starvation, the scan of the LSP data- base for those with SSNflag set shall commence withthe next LSP which was not included in the previous scan. If there were no Level 2 Link State PDUs withSSNflag  set,  do  not  transmit  a  Partial  Sequence Numbers PDU. If  the  value  of  the  IS's  domainTransmitPasswordis non-null, then the IS shall include the Authentica- tion Information field in the transmitted PSNP, indi-cating  an  Authentication  Type  of  "Password"  and containing  the  domainTransmitPassword  as  theauthentication value.

7.3.15.5 Action on expiration of theminimumLSPTransmissionInterval An IS shall perform the following action every minimumLSP-TransmissionInterval with jitter applied as described in 10.1:

- For all point-to-point circuits C (including non-DA DEDcircuits  and  virtual  links)  transmit  all  LSPs  that  have

SRMflag  set  on  circuit  C,  but  do  not  clear  theSRMflag. The SRMflag will subsequently be cleared by receipt  of  a  Complete  or  Partial  Sequence  NumbersPDU. 

The  interval  between  two  consecutive  transmissions  of  thesame LSP shall be at least minimumLSPTransmissionInter-

val. Clearly, this can only be achieved precisely by keeping aseparate  timer  for  each  LSP.  This  would  be  an  unwarranted overhead. Any technique which ensures the interval will be be-tween  minimumLSPTransmissionInterval  and  2  *  mini- mumLSPTransmissionInterval is acceptable.

7.3.15.6 Controlling the rate of transmission onbroadcast circuits

The  attribute  minimumBroadcastLSPTransmissionIntervalindicates  the  minimum  interval  between  PDU  arrivals  which can  be  processed  by  the  slowest  Intermediate  System  on  theLAN.

Setting SRMflags on an LSP for a broadcast circuit does notcause the LSP to be transmitted immediately. Instead the Inter- mediate system shall scan the LSP database every minimum-BroadcastLSPTransmissionInterval  (with  jitter  applied  as described  in  10.1),  and  from  the  set  of  LSPs  which  haveSRMflags set for this circuit, one LSP shall be chosen at ran- dom. This LSP shall be multicast on the circuit, and SRMflagscleared.

NOTES 30  In practice it would be very inefficient to scan the wholedatabase at this rate, particularly when only a few LSPs

had  SRMflags  set.  Implementations  may  require  addi-tional data structures in order to reduce this overhead.

31  An IS is permitted to transmit a small number of LSPs(no more than 10) with a shorter separation interval, (or

even  "back  to  back"),  provided  that  no  more  than1000/minimumBroadcastLSPTransmissionInterval LSPs are transmitted in any one second period. 

In  addition,  the  presence  of  any  LSPs  which  have  been  re-ceived on a particular circuit and are queued awaiting process- ing shall inhibit transmission of LSPs on that circuit. However,LSPs may be transmitted at a minimum rate of one per second even in the presence of such a queue.

7.3.16 Determining the latest information The Update Process is responsible for determining, given a re-ceived  link  state  PDU,  whether  that  received  PDU  represents new,  old,  or  duplicate  information  with  respect  to  what  isstored in the database.

It  is  also  responsible  for  generating  the  information  uponwhich  this  determination  is  based,  for  assigning  a  sequence number to its own Link State PDUs upon generation, and forcorrectly adjusting the Remaining Lifetime field upon broad- cast of a link state PDU generated originally by any system inthe domain.

7.3.16.1 Sequence numbers The  sequence  number  is  a  4  octet  unsigned  value.  Sequencenumbers  shall  increase  from  zero  to  (SequenceModulus  - 1). When a system initialises, it shall start with sequence num-ber one for its own Link State PDUs.1)

1) The IS starts with 1 rather than 0 so that the value 0 can be reserved to be guaranteed to be less than the sequence number of any actually generated LinkState PDU. This is a useful property for Sequence Numbers PDUs.

ISO/IEC 10589:1992 (E)

29 The  sequence  numbers  the  Intermediate  system  generates  forits Link State PDUs with different values for LSP number are independent.  The  algorithm  for  choosing  the  numbers  is  thesame, but operationally the numbers will not be synchronised. 

If an Intermediate system R somewhere in the domain has in-formation  that  the  current  sequence  number  for  source  S  is greater than that held by S, R will return to S a Link State PDUfor S with R's value for the sequence number. When S receives this  LSP  it  shall  change  its  sequence  number  to  be  the  nextnumber greater than the new one received, and shall generate a link state PDU. If  an  Intermediate  system  needs  to  increment  its  sequencenumber,  but  the  sequence  number  is  already  equal  to SequenceModulus  -  1,  the  event  attemptToExceed-MaximumSequenceNumber  shall  be  generated  and  the  IS Network  entity  shall  be  disabled  for  a  period  of  at  leastMaxAge + ZeroAgeLifetime, in order to be sure that any ver- sions of this LSP with the high sequence number have expired.When  it  is  re-enabled  the  IS  shall  start  again  with  sequence number 1. 7.3.16.2 LSP confusion It is possible for an LSP generated by a system in a previousincarnation  to  be  alive  in  the  domain  and  have  the  same  se- quence number as the current LSP. To  ensure  database  consistency  among  the  Intermediate  Sys-tems, it is essential to distinguish two such PDUs. This is done efficiently by comparing the checksum on a received LSP withthe one stored in memory.

If the sequence numbers match, but the checksums do not andthe LSP is not in the current set of LSPs generated by the local system,  then  the  system  that  notices  the  mismatch  shall  treatthe LSP as if its Remaining Lifetime had expired. It shall store one of the copies of the LSP, with zero written as the Remain-ing Lifetime, and flood the LSP.

If the LSP is in the current set of LSPs generated by the localsystem then the IS shall change the LSP's sequence number to be the next number greater than that of the received LSP andregenerate the LSP.

7.3.16.3 Remaining lifetime field When the source generates a link state PDU, it shall set the Re-maining Lifetime to MaxAge. 

When  a  system  holds  the  information  for  some  time  beforesuccessfully  transmitting  it  to  a  neighbour,  that  system  shall decrement  the  Remaining  Lifetime  field  according  to  theholding time. Before transmitting a link state PDU to a neigh- bour, a system shall decrement the Remaining Lifetime in thePDU being transmitted by at least one, or more than one if the transit  time  to  that  neighbour  is  estimated  to  be  greater  thanone second. When the Remaining Lifetime field reaches zero, the system shall purge that Link State PDU from its database.In order to keep the Intermediate Systems' databases synchro- nised, the purging of an LSP due to Remaining Lifetime expi-ration  is  synchronised  by  flooding  an  expired  LSP.  See 7.3.16.4. If  the RemainingLifetime of  the received LSP  is zero it  shallbe processed as described in  7.3.16.4. If the Remaining Life-

time of the received LSP is non-zero, but there is an LSP in thedatabase with the same sequence number and zero Remaining Lifetime, the LSP in the database shall be considered most re-cent.  Otherwise,  the  PDU  with  the  larger  sequence  number shall be considered the most recent. If the value of Remaining Lifetime is greater than  MaxAge,the LSP shall be processed as if there were a checksum error.

7.3.16.4 LSP expiration synchronisation When the Remaining Lifetime on an LSP in memory becomeszero, the IS shall

a) set all SRMflags for that LSP, and  b) retain only the LSP header. c) record the time at which the Remaining Lifetime for thisLSP  became  zero.  When  ZeroAgeLifetime  has  elapsed

since the LSP Remaining Lifetime became zero, the LSPheader shall be purged from the database. 

NOTE 32  A  check  of  the  checksum  of  a  zero  RemainingLifetime  LSP succeeds  even  though the  data portion  is not present

When a purge of an LSP with non-zero Remaining Lifetime isinitiated, the header shall be retained for MaxAge.

If an LSP from source S with zero Remaining Lifetime is re-ceived on circuit C :

a) If no LSP from S is in memory, then the IS shall

1) send  an  acknowledgement  of  the  LSP  on  circuit  C,but 

2) shall  not  retain  the  LSP  after  the  acknowledgementhas been sent.  b) If an LSP from S is in the database, then

1) If the received LSP is newer than the one in the data-base (i.e. received LSP has higher sequence number,

or same sequence number and database LSP has non-zero Remaining Lifetime) the IS shall:

i) overwrite  the  database  LSP  with  the  receivedLSP,  and  note  the  time  at  which  the  zero  Re-

maining Lifetime LSP was received, so that afterZeroAgeLifetime  has  elapsed,  that  LSP  can  be purged from the database, ii) set SRMflag for that LSP for all circuits, iii) clear SSNflag for that LSP for all circuits.

2) If the received LSP is equal to the one in the database(i.e.  same  Sequence  Number,  Remaining  Lifetimes

both zero) the IS shall i) clear SRMflag for C, and ii) if  C  is  a  non-broadcast  circuit,  set  SSNflag  forthat LSP for C.

ISO/IEC 10589:1992 (E)

30

3) If the received LSP is older than the one in the data-base (i.e. received LSP has lower sequence number)

the IS shall i) set SRMflag for C, and ii) clear SSNflag for C.

c) If  this  system  (or  pseudonode)  is  S  and  there  is  an  un-expired LSP from S (i.e. its own LSP) in memory, then

the IS 1) shall not overwrite with the received LSP, but  2) shall  change  the  sequence  number  of  the  un-expiredLSP from S as described in 7.3.16.1, 

3) generate a new LSP; and  4) set SRMflag on all circuits.

7.3.17 Making the update reliable The  update  process  is  responsible  for  making  sure  the  latestlink state PDUs reach every reachable Intermediate System in the domain. On  point-to-point  links the  Intermediate system  shall  send anexplicit  acknowledgement  encoded  as  a  Partial  Sequence Numbers PDU (PSNP) containing the following information: 

a) source's ID b) PDU type (Level 1 or 2)  c) sequence number d) Remaining Lifetime  e) checksum This shall be done for all received link state PDUs which arenewer than the one in the database, or duplicates of the one in the database. Link state PDUs which are older than that storedin  the  database  are  answered  instead  by  a  newer  link  state PDU, as specified in 7.3.14 above.  On  broadcast  links,  instead  of  explicit  acknowledgements  foreach  link  state  PDU  by  each  Intermediate  system,  a  special PDU known as a Complete Sequence Numbers PDU (CSNP),shall be multicast periodically by the Designated Intermediate System. The PDU shall contain a list of all LSPs in the data-base,  together  with  enough  information  so  that  Intermediate systems receiving the CSNP can compare with their LSP data-base to determine whether they and the CSNP transmitter have synchronised  LSP  databases.  The  maximum  sized  Level  1  orLevel 2 Sequence Numbers PDU which may be generated by a system  is  controlled  by  the  values  of  originatingL1LSPBuf-ferSize  or  originatingL2LSPBufferSize  respectively.  In practice, the information required to be transmitted in a singleCSNP may be greater than will fit in a single PDU. Therefore each  CSNP  carries  an  inclusive  range  of  LSPIDs  to  which  itrefers.  The  complete  set  of information shall be  conveyed by transmitting a series of individual CSNPs, each referring to asubset of the complete range. The ranges of the complete set of CSNPs shall be contiguous (though not necessarily transmittedin order) and shall cover the entire range of possible LSPIDs.

The LAN Level 1 Designated Intermediate System shall peri-odically  multicast  complete  sets  of  Level  1  CSNPs  to  the multi-destination address AllL1ISs. The LAN Level 2 Desig-nated  Intermediate  System  shall  periodically  multicast  com-

plete  sets  of  Level  2  CSNPs  to  the  multi-destination  addressAllL2ISs. Absence  of  an  LSPID  from  a  Complete  Sequence  NumbersPDU whose range includes that LSPID indicates total lack of information about that LSPID. If  an  Intermediate  system,  upon  receipt  of  a  Complete  Se-quence Numbers PDU, detects that the transmitter was out of date, the receiver shall multicast the missing information.

NOTE 33  Receipt of a link state PDU on a link is the sameas successfully transmitting the Link State PDU on that link, so  once  the  first  Intermediate  system  responds,  no  otherswill, unless they have already transmitted replies.

If an Intermediate system detects that the transmitter had moreup to date information, the receiving Intermediate system shall multicast  a Partial  Sequence  Numbers PDU  (PSNP),  contain-ing information about LSPs for which it has older information. This serves as an implicit request for the missing information.Although the PSNP is multicast, only the Designated Interme- diate  System  of  the  appropriate  level  shall  respond  to  thePSNP. 

NOTE 34  This is equivalent to the PSNP being transmitteddirectly  to  the  Designated  Intermediate  System,  in  that  it avoids each Intermediate System unnecessarily sending thesame LSP(s) in response. However, it has the advantage of preserving the property that all routeing messages can be re-ceived  on  the  multi-destination  addresses,  and  hence  by  a LAN adapter dedicated to the multi-destination address. When a point-to-point circuit (including non-DA DED circuitsand virtual links) starts (or restarts), the IS shall

a) set SRMflag for that circuit on all LSPs, and  b) send  a  Complete  set  of  Complete  Sequence  NumbersPDUs on that circuit.

7.3.18 Validation of databases An  Intermediate  System  shall  not  continue  to  operate  for  anextended  period  with  corrupted  routeing  information.  The  IS shall therefore operate in a fail-stop manner. If a failure is de-tected,  the  Intermediate  system  Network  entity  shall  be  dis- abled  until  the  failure  is  corrected.  In  the  absence  of  animplementation-specific method for ensuring this, the IS shall perform  the  following  at  least  every  maximumLSPGenera-tionInterval:

a) On  expiration  of  this  timer  the  IS  shall  re-check  thechecksum  of  every  LSP  in  the  LSP  database  (except

those with a Remaining Lifetime of zero) in order to de-tect corruption of the LSP while in memory. If the check- sum  of  any  LSP  is  incorrect,  the  event  corruptedLSP-Detected  shall be logged, and as a minimum the entire Link State Database shall be deleted and action taken tocause it to be re-acquired. One way to achieve this is to disable and re-enable the IS Network entity.

b) On completion of these checks the decision process shallbe  notified  of  an  event  (even  if  any  newly  generated

NOTE 35  On point-to-point links, this requires at leastthat a CSNP be transmitted.

ISO/IEC 10589:1992 (E)

31 LSPs have identical contents to the previous ones). Thiscauses the decision process to be run and the forwarding databases  re-computed,  thus  protecting  against  possiblecorruption of the forwarding databases in memory, which would not otherwise be detected in a stable topology.  c) The  IS  shall  reset  the  timer  for  a  period  of  maximum-LSPGenerationInterval with jitter applied as described

in 10.1.

7.3.19 LSP database overload As a result of network mis-configuration, or certain transitoryconditions, it is possible that there may be insufficient memory resources available to store a received Link State PDU. Whenthis occurs, an IS needs to take certain steps to ensure that if its LSP  database  becomes  inconsistent  with  the  other  ISs',  thatthese  ISs  do  not  rely  on  forwarding  paths  through  the  over- loaded IS. 7.3.19.1 Entering the waiting state When an LSP cannot be stored, the LSP shall be ignored andWaiting  State  shall  be  entered.  A  timer  shall  be  started  for waitingTime, and the Intermediate System shall generate andflood its own LSP with zero LSP number with the LSP Data- base Overload Bit set. This prevents this Intermediate systemfrom being considered as a forwarding path by other Interme- diate Systems.  It  is  possible  that  although  there  are  sufficient  resources  tostore  an  LSP  and  permit  the  operation  of  the  Update  Process on  that  LSP,  the  Decision  Process  may  subsequently  requirefurther  resources  in  order  to  complete.  If  these  resources  are not  available,  the  Intermediate  system  shall  then  (i.e.  duringthe  attempt  to  run  the  Decision  Process)  enter  Waiting  State until  such  time  as  they  are  available  and  waitingTime  haveelapsed since the last LSP was ignored by the Update Process. 

An  implementation  shall  partition  the  available  memory  re-sources between the Level 1 and Level 2 databases. An over- load condition can therefore exist independently for Level 1 orLevel 2 (or both). The status attributes l1State and l2State in- dicate the condition for the Level 1 and Level 2 databases re-spectively.  On  entering  Level  1  "Waiting  State"  the  IS  shall generate the lSPL1DatabaseOverload event, and on enteringLevel 2 "Waiting State" the IS shall generate the lSPL2Data- baseOverload event.  7.3.19.2 Actions in level 1 waiting state While in Level 1 "waiting" state

a) If a Link State PDU cannot be stored, the IS shall ignoreit and restart the timer for waitingTime.

b) The IS shall continue to run the Decision and Forwardingprocesses as normal. c) When the waitingTime timer expires, the IS shall:

1) Generate  an  lSPL1DatabaseOverload  (recovered)event. 

2) Clear  the  LSP  Database  Overload  bit  in  its  ownLevel 1 LSP with zero LSP number and re-issue it.

3) Set the l1State to "On". 4) Resume normal operation.

7.3.19.3 Actions in level 2 waiting state While in Level 2 "waiting" state

a) If a Link State PDU cannot be stored, the IS shall ignoreit and restart the timer for waitingTime seconds. 

b) The IS shall continue to run the Decision and Forwardingprocesses as normal.  c) When the waitingTime timer expires, the IS shall:

1) Generate  an  lSPL2DatabaseOverload  (recovered)event. 

2) Clear  the  LSP  Database  Overload  bit  in  its  ownLevel 2 LSP with zero LSP number and re-issue it. 3) Set the l2State to "On". 4) Resume normal operation.

7.3.20 Use of the link state database The only portion of the database relevant to the Decision Proc-ess is the data portion of the Link State PDUs.

The  Update  Process  additionally  uses  the  fields  SequenceNumber,  Remaining  Lifetime,  and  variable  SRMflag.  The Remaining Lifetimes in the  stored link state PDUs can  eitherbe periodically decremented, or converted upon receipt into an internal timestamp, and converted back into a Remaining Life-time upon transmission.

7.3.20.1 Synchronisation with the decision process Since  the  Update  process  and  the  Decision  process  share  thelink state database, care must be taken that the Update process does  not  modify  the  link  state  database  while  the  Decisionprocess is running.

There  are  two  approaches  to  this.  In  one  approach,  the  Deci-sion  process  signals when it  is  running. During  this  time,  the Update  process  queues  incoming  Link  State  PDUs,  and  doesnot write them into the link state database. If more Link State PDUs arrive than can fit into the queue allotted while the Deci-sion  process  is  running,  the  Update  process  drops  them  and does not acknowledge them. Another approach is to have two copies of the link state data-base -- one in which the Decision process is computing, and the other in which the Update process initially copies over thefirst database, and in which all new Link State PDUs are writ- ten. Additionally, depending on the hashing scheme, it is likelythat a second copy of the address hash table will be required, so that the Update process can do a rehash occasionally for ef-ficiency.

When the Decision process is ready to run again, it locks thenew copy of the link state database, leaving the Update process to copy over the information into the first area, and write newupdates while the Decision process runs again.

ISO/IEC 10589:1992 (E)

32 The advantage of the first approach is that it takes less mem-ory.  The  advantage of the  second approach is that Link State PDUs will never need to be dropped.

NOTE 36  If the decision process is implemented accordingto the specification in C.2, a finer level of parallelism is pos- sible, as described below. Arrival of a Link State PDU for a system before that systemhas  been  put  into  TENT  is  permitted.  The  new  Link  State PDU is used when that system is eventually put into TENT.Similarly, arrival of a new Link State PDU for a system af- ter that system has been put into PATHS is permitted. Thatsystem has  already  been completely  processed.  The  arrival of the new Link State PDU is noted and the decision processre-executed when  the  current  execution  has completed.  An in-progress  execution  of  the  decision  process  shall  not  beabandoned,  since  this  could  prevent  the  decision  process from ever completing. Arrival of a Link State PDU for a system between that sys-tem  being  put  on  TENT  and  being  transferred  to  PATHS can be treated as equivalent to one of the previous two cases(for  example,  by  buffering,  or  taking  some  corrective  ac- tion).

7.3.20.2 Use of buffers and link bandwidth Implementations shall have a buffer management strategy thatdoes not prevent other clients of the buffering service from ac- quiring  buffers  due  to  excessive  use  by  the  Update  Process.They  shall  also ensure  that  the Update Process  does not con- sume all the available bandwidth of links. In particular no typeof  traffic  should  experience  starvation  for  longer  than  its  ac- ceptable  latency.  Acceptable  latencies  are  approximately  asfollows:

- Hello traffic - Hello timer * 0,5  - Data Traffic - 10 s.

NOTE 37  The first of these requirements can be met by re-stricting the Update process to the use of a single buffer on each  circuit  for  transmission.  This  may  also  cause  the  sec-ond  requirement  to  be  met,  depending  on  the  processor speed.

7.3.21 Parameters  MaxAge  -  This  is  the  amount  of  time  that  may  elapse  sincethe estimated origination of the stored Link State PDU

by  the  source  before  the  LSP  is  considered  expired.The expired LSP can be deleted from the database after a  further  ZeroAgeLifetime  has  expired.    MaxAgeshall  be  larger  than  maximumLSPGenerationInter- val,  so  that  a  system  is  not  purged  merely  because  oflack of events for reporting Link State PDUs.

MaxAge is an architectural constant equal to 20 min. ZeroAgeLifetime -- This is the minimum amount of time forwhich  the  header  of  an  expired  LSP  shall  be  retained

after it has been flooded with zero Remaining Lifetime.A  very  safe  value  for  this  would  be  2  *  MaxAge. However  all  that  is  required  is  that  the  header  be  re-tained until the zero Remaining Lifetime LSP has been safely propagated to all the neighbours.

ZeroAgeLifetime  is  an  architectural  constant  with  avalue of 1 min. maximumLSPGenerationInterval  -  This  is  the  maximumamount  of  time  allowed  to  elapse  between  generation

of  Link  State  PDUs  by  a  source.  It  shall  be  less  thanMaxAge.

Setting this parameter too fast adds overhead to the al-gorithms  (a  lot  of  Link  State  PDUs).  Setting  this  pa-

rameter too slow (and not violating constraints) causesthe algorithm to wait a long time to recover in the un- likely event that incorrect Link State information existssomewhere in the domain about the system.

A reasonable setting is 15 min.  minimumLSPGenerationInterval  -  This  is  the  minimumtime  interval  between  generation  of  Link  State  PDUs.

A  source  Intermediate  system  shall  wait  at  least  thislong  before  re-generating  one  of  its  own  Link  State PDUs.

Setting  this  too  large  causes  a  delay  in  reporting  newinformation.  Setting  this  too  small  allows  too  much

overhead.

A reasonable setting is 30 s. minimumLSPTransmissionInterval - This is the amount oftime  an  Intermediate  system  shall  wait  before  further

propagating  another  Link  State  PDU  from  the  samesource system.

Setting this too large causes a delay in propagation ofrouteing  information  and  stabilisation  of  the  routeing

algorithm. Setting this too small allows the possibilitythat  the  routeing  algorithm,  under  low  probability  cir- cumstances,  will  use  too  many  resources  (CPU  andbandwidth).

Setting  minimumLSPTransmissionInterval  greaterthan  minimumLSPGenerationInterval  makes  no

sense, because the source would be allowed to generateLSPs  more  quickly  than  they  would  be  allowed  to  be broadcast.  Setting  minimumLSPTransmissionInt-erval  smaller  than  minimumLSPGenerationInter- val is desirable to recover from lost LSPs.

A reasonable value is 5 s. CompleteSNPInterval - This is the amount of time betweenperiodic  transmissions  of  a  complete  set  of  Sequence

Number PDUs by the Designated Intermediate systemon  a  broadcast  link.  Setting  this  too  low  slows  down the  convergence  of  the  routeing  algorithm  when  LinkState PDUs are lost due to the datagram environment of the Data Link layer on the broadcast link.

Setting this too high results in extra control traffic over-head.

A reasonable value is 10 s. 

ISO/IEC 10589:1992 (E)

33 7.4 Forwarding process The  Forwarding  process  is  responsible  both  for  transmittingNPDUs originated by this system, and for forwarding NPDUs originated by other systems

7.4.1  Input and output INPUT

- NPDUs from the ISO 8473 protocol machine  - PDUs from Update Process  - PDUs from Receive Process  - Forwarding  Databases  (Level  1  and  2)  --  one  for  eachrouteing metric

OUTPUT

- PDUs to Data Link Layer 7.4.2  Routeing metric selection The Forwarding process selects a forwarding database for eachNPDU to be relayed based on:

- the level at which the forwarding is to occur: level 1 orlevel 2; and - a mapping of the ISO 8473 QoS Maintenance field ontoone  of  the  Intermediate  system's  supported  routeing

metrics.  The  former  selection  is  made  by  examining  the  DestinationAddress field of the NPDU.

The latter selection is made as follows:

a) If the QoS Maintenance field is not present in the NPDU,then  the  IS  shall  select  the  forwarding  database  calcu-

lated for the default metric. b) If the QoS Maintenance field is present, the IS shall ex-amine bits 7 and 8 of the parameter value octet. If these

two bits specify any combination other than "1 1" (mean-ing globally unique QoS), then the IS shall select the for- warding database calculated for the default metric, other-wise

c) The IS shall select a forwarding database by mapping thevalues of bits 3, 2 and 1 of the parameter value as shown

below in table 1 and shall proceed as follows: 1) If the IS does not support the selected routeing met-ric, the IS shall forward based upon the default met-

ric; 2) If  the  forwarding  database  for  one  of  the  optionalrouteing  metrics  is  selected  and  the  database  either

does not contain an entry for the Destination Addressin the NPDU being relayed, or contains an entry indi- cating  that  the  destination  is  unreachable  using  thatmetric,  then  the  IS  shall  attempt  to  forward  based upon the default metric;

3) Otherwise,  forward  based  on  the  selected  optionalmetric. Table 1 - QoS Maintenance bits to routeingmetric mappings

7.4.3  Forwarding decision 7.4.3.1  Basic operation Let  DEST  =  the  Network  Layer  destination  address  of  thePDU to be forwarded, or the next entry in the source routeing field,  if  present.  It  consists  of  sub-fields  Area  Address,  ID,and SEL. 

NOTE 38  The  SEL  field  in  the  destination  address  is  notexamined  by Intermediate Systems. It  is used by  End Sys- tems to select the proper Transport entity to which to deliverNSDUs. 

This  system's  (the  one  examining  this  PDU  for  proper  for-warding  decision)  address  consists  of  sub-fields  area  address and ID.

a) If the local system type is a level 1 Intermediate system,or the local system type is a level 2 Intermediate system

and AttachedFlagk = False, then: 1) If  the  Area  Address  in  the  PDU  to  be  forwardedmatches any one of the area addresses of this IS, then

consult the level 1 forwarding database to determinethe adjacency which is the next hop on the path to the NPDU's destination. Forward the NPDU on this adja-cency.

2) Otherwise, consult the level 1 forwarding database todetermine the adjacency which is the next hop on the

path to the nearest level 2 IS in the area, and forwardthe NPDU on this adjacency.

b) If the local system type is Level 2, and AttachedFlagk ="True" then:

1) If  the  Area  Address  in  the  PDU  to  be  forwardedmatches any one of the area addresses of this IS, then

consult the level 1 forwarding database to determinethe adjacency which is the next hop on the path to the NPDU's destination. Forward the NPDU on this adja-cency.

Selected Routeing Metricbit 3bit 2bit 1

expense metric000

default metric001

expense metric010

delay metric100

error metric011 delay metric101

error metric111

default metric110

ISO/IEC 10589:1992 (E)

34

2) Otherwise, consult the level 2 forwarding database todetermine the adjacency which is the next hop on the

path  to  the  destination  area,  and  forward  the  NPDUon this adjacency.

7.4.3.2  Encapsulation for partition repair If this Intermediate system is the Partition Designated Level 2IS for this partition, and the PDU is being forwarded onto the special adjacency to a Partition Designated Level 2 Intermedi-ate system in a different partition of this area, encapsulate the complete PDU as the data field of a data NPDU (i.e., with anadditional layer of header), making this system the Source ad- dress and the other Partition Designated Level 2 Intermediatesystem  (obtained  from  the  identifier  attribute  of  the  Virtual Adjacency managed object) the Destination Address field inthe outer PDU header. Set the QoS Maintenance field of the outer PDU to indicate forwarding via the default routeing met-ric (see table 1). Then forward the encapsulated PDU onto an adjacency  ADJ,  obtained  by  calling  the  Forward  procedure,described below. 

7.4.3.3  The procedure forward This procedure chooses, from a Level 1 forwarding database -if level is level1, or from a Level 2 forwarding database - if level is level2, an adjacency on which to forward NPDUs fordestination dest. A pointer to the adjacency is returned in adj, and  the  procedure  returns  the  value  "True".  A  destination  of"0"  at level  1  selects  the  adjacency  for  the nearest  level  2  IS computed as described in 7.2.9.1. If there are multiple possible adjacencies, as a result of multi-ple minimum cost paths, then one of those adjacencies shall be chosen. An implementation may choose the adjacency at ran-dom,  or  may  use  the  possible  adjacencies  in  "round  robin" fashion. If there is no entry in the selected forwarding database for theaddress dest, and the NPDU originated from the a local Trans- port entity and the system has one or more Intermediate Sys-tem adjacencies, then one of those is chosen at random (or in "round  robin"  fashion)  and  the  procedure  returns  the  value"True". Otherwise the procedure returns the value "False".1)

NOTES  39  Since the local adjacency database is pre-loaded into thedecision  process,  there  will  always  be  an  entry  in  the

forwarding  database  for  destinations  to  which  an  adja-cency exists.

40  The  PDU  to  be  forwarded  may  require  fragmentation,depending on which circuit it is to be forwarded over.  7.4.3.4  Generating redirect PDUs In addition to forwarding an NPDU, the IS shall inform the lo-cal ISO 9542 protocol machine to generate a Redirect PDU if the PDU is being forwarded onto the same circuit from whichit  came,  and  if  the  source  SNPA  address  of  the  NPDU  indi- cates that the NPDU was received from an End System. 

7.4.4  Receive process The Receive process is passed information from any of the fol-lowing sources.

- received  PDUs  with  the  NLPID  of  IntraDomain-RouteingPD,  - configuration  information  from  the  ISO  9542  protocolmachine,  - ISO 8473 data PDUs handed to the routeing function bythe ISO 8473 protocol machine. When an area is partitioned, a level 2 path is used as a level 1link to repair the partitioned area. When this occurs, all PDUs (between  the  neighbours  which  must  utilise  a  multi-hop  pathfor communication) shall be encapsulated in a data NPDU, ad- dressed to the IntraDomainRouteingSelector. Control traffic(LSPs,  Sequence  Numbers  PDUs)  shall  also  be  encapsulated, as  well  as  data  NPDUs  that  are  to  be  passed  between  the"neighbours".

NOTE 41  It  is  not  necessary  to  transmit  encapsulated  IIHPDUs over a virtual link, since virtual adjacencies are estab- lished and monitored by the operation of the Decision Proc-ess and not the Subnetwork Dependent functions.

7.4.4.1  Basic operation The Receive Process shall perform the following functions oneach received PDU:

- If it is a Link State PDU, pass it to the Update Process  - If it is a Sequence Numbers PDU, pass it to the UpdateProcess 

- If it is an IIH PDU, pass it to the appropriate SubnetworkDependent Function  - If it is a data NPDU or Error Report for another destina-tion, pass it to the Forwarding Process - Otherwise, ignore the PDU 7.4.4.2  Decapsulation If  an  ISO  8473  data  NPDU,  addressed  to  this  system,  is  re-ceived,  and  the  SEL  field  of  the  address  is  equal  to IntraDomainRouteingSelector, then the IS shall

- decapsulate the NPDU (remove the outer NPDU header). - If the decapsulated PDU is a data NPDU, move the "con-gestion" indications to the decapsulated NPDU, and pass

it to the ISO 8473 protocol machine. - Otherwise, if the  decapsulated  PDU is  not  an  ISO 8473PDU,  perform  the  following  steps  on  the  decapsulated

PDU:

1) This is done so that a system in the overloaded state will still be able to originate or forward NPDUs. If a system with a partial routeing information basewere prohibited from attempting to forward to an unknown destination, system management would be unable to either communicate with this system, or route through it, for the purpose of diagnosing and/or correcting the underlying fault.

ISO/IEC 10589:1992 (E)

35

* If it is a link state PDU or Sequence Numbers PDU,pass it to the Update process;

* Otherwise, ignore the PDU. 7.5 Routeing constants and parameters The architectural constants are described in table 2. The  routeing  parameters  settable  by  System  Management  arelisted for each managed object in clause 11.

8  Subnetwork dependent functions The Subnetwork Dependent Functions mask the characteris-tics of the different kinds of Subnetworks from the Subnet- work Independent Routeing Functions. The only two typesof circuits the Subnetwork Independent Functions recognise are broadcast and general topology. The Subnetwork Dependent Functions include:

- The use of the ISO 8473 Subnetwork Dependent Con-vergence  Functions  (SNDCF)  so  that  this  protocol

may transmit and receive PDUs over the same subnet-work  types,  using  the  same  techniques,  as  does  ISO 8473. - Co-ordination  with  the  operation  of  the  ES-IS  protocol(ISO 9542) in order to determine the Network layer ad-

dresses  (and  on  Broadcast  subnetworks,  the  subnetworkpoint of attachment address) and identities (End System

or Intermediate System) of all adjacent neighbours. Thisinformation is held in the Adjacency data base. It is used to construct Link State PDUs. - The exchange of IIH PDUs. While it is possible for anIntermediate System to identify that it has an Interme-

diate System neighbour by the receipt of an ISO 9542ISH PDU, there is no provision within ISO 9542 to in- dicate whether the neighbour is a Level 1 or a Level 2Intermediate  System.  Specific  PDUs  (LAN  Level  1, LAN  Level  2  and  Point-to-point  IIH  PDUs)  are  de-fined to convey this information.

8.1 Multi-destination circuits on ISs at adomain boundary

Routeing information (e.g. Link State PDUs) is not exchangedacross  a  routeing  domain  boundary.  All  routeing  information relating  to  a  circuit  connected  to  another  routeing  domain  istherefore entered via the Reachable Address managed objects. This information is disseminated to the rest of the routeing do-main via Link State PDUs as described in 7.3.3.2. This has the effect  of  causing  NPDUs  destined  for  NSAPs  which  are  in-cluded in the addressPrefix of the Reachable Addresses to be relayed  to  that  Intermediate  System  at  the  domain  boundary.On receipt of such an NPDU the Intermediate system shall for- ward  it  onto  the  appropriate  circuit,  based  on  its  own  LinkState  information.  However  in  the  case  of  multi-destination subnetworks (such as an ISO 8208 subnetwork using DynamicAssignment, a broadcast subnetwork, or a connectionless sub- network) it is necessary to ascertain additional subnetwork de-pendent addressing information in order to forward the NPDU to a suitable SNPA. (This may be the target End system or anIntermediate system within the other domain.) 

Table 2 - Routeing architectural constants Name Value Description MaxLinkMetric 63 Maximum value of a routeing metric assignable to a circuit

MaxPathMetric 1023 Maximum total metric value for a complete path

ISO-SAP FE The SAP for ISO Network Layer on  ISO 8802-2 LANs.  This SAP value is used fortransmission and reception of all PDUs of this protocol.

IntradomainRouteingPD 10000011 The  Network  Layer  Protocol  Identifier  assigned  to  this  protocol,  as  recorded  inISO/TR 9577 IntradomainRouteingSelector 0 The NSAP selector for the Intermediate System Network entity

SequenceModulus 232 Size of the sequence number space used by the Update Process ReceiveLSPBufferSize 1492 The size of LSP which all Intermediate systems must be capable of receiving.

MaxAge 1200 Number of seconds before LSP considered expired. ZeroAgeLifetime 60 Number of seconds that an LSP with zero Remaining Lifetime shall be retained afterpropagating a purge.

ISISHoldingMultiplier 10 The  number  by  which  to  multiply  iSISHelloTimer  to  obtain  Holding  Timer  forLevel 1 and Level 2 IIH PDUs.

Jitter 25% The percentage of jitter which is applied to the generation of periodic PDUs. See 10.1for further information on generating jitter on timers.

ISO/IEC 10589:1992 (E)

36 In general the SNPA address to which an NPDU is to be for-warded  can  be  derived  from  the  destination  NSAP  of  the NPDU.  It  may  be  possible  to  perform  some  algorithmic  ma-nipulation  of  the  NSAP  address  in  order  to  derive  the  SNPA address. However there may be some NSAPs where this is notpossible. In these cases it is necessary to have pre-configured information relating an address prefix to a particular SNPA ad-dress.

This  is  achieved  by  additional  information  contained  in  thereachable  address managed  object. The  mappingType  attrib- ute  specifies  the  means  by  which  next  hop  subnetwork  ad-dressing  information  can  be  derived  for  NPDUs  forwarded based upon a given address prefix. The mappingType attrib-ute may be specified as:

explicit -- The SNPA address or set of SNPA addresses ismanually pre-configured as an attribute of the reach-

able address managed object.

extractIDI -- The SNPA is embedded in the IDI of the des-tination  NSAP  address  according  to  the  format  and

encoding  rules  of  ISO  8348/Add.2.  This  SNPA  ex-traction  algorithm  can  be  used  in  conjunction  with destination  addresses  from  the  X.121,  F.69,  E.163,and E.164 addressing subdomains.

extractDSP -- All or a suffix of the SNPA is embedded in the  DSP  of  the  destination  address.  This  SNPA  ex-

traction algorithm requires manual pre-configurationof  sNPAMask  and  sNPAPrefix  attributes  of  the reachable address managed object. The sNPAMaskattribute is a bit mask with 1s indicating the location of  the  SNPA  (suffix)  within  the  destination  NSAPDSP.  The  part  of  the  SNPA  extracted  from  the NSAP  is  appended  to  the  sNPAPrefix  to  form  thenext hop subnetwork addressing information.

An  example  of  a  set  of  Reachable  Addresses  is  shown  in  ta-ble 3. The table is interpreted as follows: 

a) For the ISO DCC prefix 39 123, use the SNPA addressX.

b) For the X.121 IDI address prefix 37 aaaaa, do not use

aaaaa, but use B instead.

c) For all IDPs based on SNPAs with DNIC D (i.e. with ad-dress  prefix  37  D),  use  the  address  Y  (which  would

probably be a gateway to a subnetwork with DNIC D). d) For any other X.121 IDI (i.e. address prefix 37) - use theSNPA whose address is used as the IDI.

e) For the ISO ICD prefix 47 0005 C0 use the SNPA ad-dress formed by concatenating Z with next 6 octets of the

DSP following the 47 0005 C0 prefix. f) Anything else ("*" in table 3) - use one of the SNPA ad-dresses R, S or T. These would typically be the SNPA ad-

dresses  of  Level  2  Intermediate  Systems  through  whichany other addresses could potentially be reached.

8.2 Point-to-point subnetworks This clause describes the identification of neighbours on bothpoint-to-point links and Static circuits.

The IS shall operate the ISO 9542 protocol, shall be able to re-ceive ISO 9542 ISH PDUs from other ISs, and shall store the information so obtained in the adjacency database.

8.2.1  Receipt of ESH PDUs -- database of endsystems

An  IS  shall  enter  an  End  system  into  the  adjacency  databasewhen an ESH PDU is received on a circuit. If an ESH PDU  is received  on  the  same  circuit,  but  with  a  different  NSAP  ad-dress, the new address shall be added to the adjacency, with a separate timer. A single ESH PDU may contain more than oneNSAP  address.  When  a  new  data  link  address  or  NSAP  ad- dress is added to the adjacency database, the IS shall generatean adjacencyStateChange (Up) event on that adjacency.

The IS shall set a timer for the value of Holding Time in thereceived ESH PDU. If another ESH PDU is not received from the ES before that timer expires, the ES shall be purged fromthe database, provided that the Subnetwork Independent Func- tions associated with initialising the adjacency have been com-pleted.  Otherwise  the  IS  shall  clear  the  adjacency  as  soon  as those functions are completed.

Table 3 - Example of reachable address information Address Prefix Mapping Type SNPA Address 39 123 explicit X 37 aaaaa explicit B 37 D explicit Y 37 extractIDI Extract X.121 SNPA address from NSAP IDI 47 0005 C0 extractDSP sNPAPrefix=Z sNPAMask=00000000FFFFFFFFFFFF * explicit R, S, T

ISO/IEC 10589:1992 (E)

37 When  the  adjacency  is  cleared,  the  Subnetwork  IndependentFunctions  shall  be  informed  of  an  adjacencyStateChange (Down) event, and the adjacency can be re-used after the Sub-network Independent Functions associated with bringing down the adjacency have been completed.

8.2.2  Receiving ISH PDUs by an intermediatesystem

On receipt of an ISH PDU by an Intermediate System, the ISshall create an adjacency (with adjacencyState "Initialising" and neighbourSystemType "Unknown"), if one does not al-ready exist, and then perform the following actions:

a) If the adjacencyState is "Up" and the ID portion of theNET  field  in  the  ISH  PDU  does  not  match  the  neigh-

bourID of the adjacency then the IS shall 1) generate an adjacencyStateChange (Down) event; 2) delete the adjacency; and 3) create a new adjacency with:

i) adjacencyState set to "Initialising", and ii) neighbourSystemType set to "Unknown".

4) perform the following actions. b) If  the  adjacencyState  is  "Initialising",  and  theneighbourSystemType status is "Intermediate System",

the ISH PDU shall be ignored. c) If  the  adjacencyState  is  "Initialising"  and  theneighbourSystemType status is not "Intermediate Sys-

tem",  a  point-to-point  IIH  PDU  shall  be  transmitted  asdescribed in 8.2.3.

d) The  neighbourSystemType shall be  set  to  "Intermedi-ate System" indicating that the neighbour is an Interme-

diate system, but the type (L1 or L2) is, as yet, unknown.

8.2.3  Sending point-to-point IIH PDUs An  IS  shall  send  Point-to-Point  IIH  PDUs  on  those  Point-to-Point circuits whose externalDomain attribute is set "False". The IIH PDU shall be sent when:

a) the circuit is first enabled; or b) whenever iSISHelloTimer expires

The IIH shall be constructed and transmitted as follows:

a) The Circuit Type field shall be set according to table 4. b) The  Local  Circuit  ID  field  shall  be  set  to  a  value  as-signed  by  this  Intermediate  system  when  the  circuit  is

created. This value shall be unique among all the circuitsof this Intermediate system.

c) The first Point-to-point IIH PDU (i.e. that transmitted asa result of receiving an ISH PDU, rather than as a result

of  timer  expiration)  shall  be  padded  (with  trailing  PADoption  fields  containing  arbitrary  valued  octets)  so  that the  SNSDU  containing  the  IIH  PDU  has  a  length  of  atleast maxsize - 1 octets1) where maxsize is the maximum of  1) dataLinkBlocksize 2) originatingL1LSPBufferSize  3) originatingL2LSPBufferSize 

This  is  done  to  ensure  that  an  adjacency  will  only  beformed between systems which  are capable  of exchang- ing PDUs of length up to maxsize octets. In the absenceof this check, it would be possible for an adjacency to ex- ist with a lower maximum block size, with the result thatsome  LSPs  and  SNPs  (i.e.  those  longer  than  this  maxi- mum, but less than maxsize) would not be exchanged.

d) If the value of the circuitTransmitPassword for the cir-cuit is non-null, then the IS shall include the Authentica-

tion Information field in the transmitted IIH PDU, indi-cating an Authentication Type of "Password" and con- taining  the  circuitTransmitPassword  as  theauthentication value.

NOTE 42  It is necessary for the manager to ensure thatthe value of dataLinkBlocksize on a circuit which will be used to form an Intermediate system to Intermediatesystem adjacency is set to a value greater than or equal to the maximum of the LSPBufferSize characteristicslisted above. If this is not done, the adjacency will fail to  initialise.  It  is  not  possible  to  enforce  this  require-ment,  since  it  is  not  known  until  initialisation  time whether or not the neighbour on the circuit will be anEnd system or an Intermediate system. An End system adjacency  may  operate  with  a  lower  value  fordataLinkBlocksize.

1) The minimum length of PAD which may be added is 2 octets, since that is the size of the option header. Where possible the PDU should be padded tomaxsize, but if the PDU length is maxsize - 1 octets no padding is possible (or required).

iSType Circuit manualL2OnlyMode Circuit Type Field

Level 1 -- Level 1 only (1) Level 2 "True" Level 2 only (2) Level 2 "False" Level 1 and 2 (3)

Table 4 - Setting the value of the circuit type field

ISO/IEC 10589:1992 (E)

38 8.2.4  Receiving point-to-point IIH PDUs 8.2.4.1  PDU acceptance tests On receipt of a Point-to-Point IIH PDU, perform the followingPDU acceptance tests:

a) If  the  IIH  PDU  was  received  over  a  circuit  whoseexternalDomain attribute is set "True", the IS shall dis-

card the PDU. b) If  the  ID  Length  field  of  the  PDU  is  not  equal  to  thevalue  of  the  IS's  routeingDomainIDLength,  the  PDU

shall  be  discarded  and  an  iDFieldLengthMismatchevent generated.

c) If  the  value  of  circuitTransmitPassword  or  the  set  ofcircuitReceivePasswords  for  this  circuit  is  non-null,

then perform the following tests: 1) If  the  PDU  does  not  contain  the  Authentication  In-formation field then the PDU shall be discarded and

an authenticationFailure event generated. 2) "If  the  PDU  contains  the  Authentication  Informa-tion field, but the Authentication Type is not equal

to "Password", then: i) If the IS implements the authentication procedureindicated  by  the  Authentication  Type  whether

the IS accepts or ignores the PDU is outside thescope of this International Standard.

ii) If  the  IS  does  not  implement  the  authenticationprocedure indicated by the Authentication Type

then the IS shall ignore the PDU and generate anauthenticationFailure event."

3) Otherwise, the IS shall compare the password in thereceived  PDU  with  the  passwords  in  the  set  of

circuitReceivePasswords  for  the  circuit  on  whichthe  PDU  was  received.  If  the  value  in  the  PDU matches  any  of  these  passwords,  the  IS  shall  acceptthe  PDU  for  further  processing.  If  the  value  in  the

PDU  does  not  match  any  of  the  circuit-ReceivePasswords,  then  the  IS  shall  ignore  the PDU and generate an authenticationFailure event.

8.2.4.2  IIH PDU Processing When a Point-to-point IIH PDU is received by an Intermediatesystem,  the  area  addresses  of  the  two  Intermediate  Systems shall be compared to ascertain the validity of the adjacency. Ifthe two Intermediate systems have an area address in common and matching values for maximumAreaAddresses, the adja-cency  is  valid  for  all  combinations  of  Intermediate  system types  (except  where  a  Level  1  Intermediate  system  is  con-nected  to  a  Level  2  Intermediate  system  with  manu- alL2OnlyMode set "True"). However, if they have no area ad-dress in common, the adjacency is only valid if both Intermedi- ate systems are Level 2, and the IS shall mark the adjacency asLevel 2 Only. This is described in more detail below.

On receipt of a Point-to-point IIH PDU, each of the Area Ad-dresses from the PDU shall be compared with the set of area addresses in the manualAreaAddresses attribute.

a) If a match is detected between any pair the following ac-tions are taken.

1) If the Maximum Area Addresses field of the PDUis not equal to the value of the IS's maximumArea-

Addresses  then  the  PDU  shall  be  discarded  and  amaximumAreaAddressesMismatch  event  gener- ated,  unless the IS only implements  a value of threefor  maximumAreaAddresses,  in  which  case  this check may be omitted.

2) If the local system is of iSType "L1IntermediateSys-tem" the IS shall perform the action indicated by ta-

ble 5.

3) If  the  local  system  is  of  iSType  "L2Intermediate-System"  and  the  Circuit  manualL2OnlyMode  has

Table 5 - Level 1 state table for matching areas

Adjacency UsageCircuit Type1 none2 Level 13 Level 1 only Up4   L15 Accept Level 2 only Reject7  (Wrong system) Down6 (Wrong system) Level 1 and 2 Up4   L15 Accept 1The value of the Circuit Type field in the received PDU. 2The adjacency is not in adjacencyState "Up". 3adjacencyUsage is "Level 1".

4The  adjacency  is  accepted  and  an  adjacencyStateChange  (Up)"  event  is  generated.  If  the  Adjacency  neighbourSystemType  was  "Unknown" (i.e. no ISH PDU has yet been received), a point-to-point IIH PDU is also transmitted.5

The adjacencyUsage status is set to "Level 1".6 An adjacencyStateChange (Down)" event is generated, with the specified reason, and the adjacency deleted.7 A wrongSystemType event is generated.

ISO/IEC 10589:1992 (E)

39 the value "False", the IS shall perform the action in-dicated by table 6. 4) If  the  local  system  is  of  iSType  "L2Intermediate-System"  and  the  Circuit  manualL2OnlyMode  has

the value "True", the IS shall perform the action indi-cated by table 7.

b) If a no match is detected between any pair, the followingactions shall be performed.

1) If the local system is of iSType "L1IntermediateSys-tem"  and  the  adjacency is  not  in  state  "Up",  the  IS

shall  delete  the  adjacency  (if  any)  and  generate  an areaMismatch event. 

2) If the local system is of iSType "L1IntermediateSys-tem" and the adjacency is in state "Up", the IS shall

delete  the  adjacency  and  generate  an  adjacency-StateChange (Down - Area Mismatch)" event .

Table 6 - Level 2 state table for matching areas

Adjacency UsageCircuit Type1 none2 Level 13 Level 1 and 24 Level 2 Level 1 only Up6 L17 Accept Down8 (Wrong system) Down8 (Wrong system)

Level 2 only Up6 L2O9 Down8 (Wrong system) Down8 (Wrong system) Accept Level 1 and 2 Up6 L210 Down8 (Wrong system) Accept Down8 (Wrong system) 1The value of the Circuit Type field in the received PDU. 2The adjacency is not in adjacencyState "Up". 3The adjacency is in state "Up" and the Adjacency adjacencyUsage is "Level 1". 4The adjacency is in adjacencyState "Up" and the adjacencyUsage is "Level 1 and 2". 5The adjacency is in adjacencyState "Up" and the adjacencyUsage is "Level 2". 6The adjacency is accepted and an adjacencyStateChange (Up)" event is generated. If the Adjacency neighbourSystemType was "Unknown" (i.e. no ISH PDU has yet been received), a point-to-point IIH PDU is also transmitted.7

The adjacencyUsage status is set to "Level 1".8 An adjacencyStateChange (Down)" event is generated, with the specified reason, and the adjacency deleted.9 The adjacencyUsageis set to "Level 2".10

The adjacencyUsage is set to "Level 1 and 2".

Table 7 - Level 2 only state table for matching areas

Adjacency UsageCircuit Type1 none2 Level 1 and 23 Level 24 Level 1 only Reject5 (Wrong system) Down6 (Wrong system) Down6 (Wrong system) Level 2 only Up7 L2O8 Down6 (Wrong system) Accept Level 1 and 2 Up7 L2O8 Down6 (Wrong system) Accept 1The value of the Circuit Type field in the received PDU. 2The adjacency is not in adjacencyState "Up". 3The adjacency is in state "Up" and the adjacencyUsage is "Level 1 and 2". 4The adjacency is in adjacencyState "Up" and the adjacencyUsage is "Level 2". 5A wrongSystemType event is generated. 6An adjacencyStateChange (Down) event is generated, with the specified reason, and the adjacency deleted. 7The adjacency is accepted and an adjacencyStateChange (Up) event is generated. If the Adjacency neighbourSystemType was "Unknown" (i.e. no ISH PDU has yet been received), a point-to-point IIH PDU is also transmitted.8

The adjacencyUsage is set to "Level 2".

ISO/IEC 10589:1992 (E)

40

3) If  the  local  system  is  of  iSType  "L2Intermediate-System" the IS shall perform the action indicated by

table  8  (irrespective  of  the  value  of  manu-alL2OnlyMode for this circuit).

c) If the action taken is "Up", as detailed in the tables refer-enced above, the IS shall compare the Source ID field of

the PDU with the local systemID.  1) If the local Intermediate system has the higher SourceID, the IS shall set the Circuit CircuitID status to the

concatenation  of  the  local  systemID  and  the  LocalCircuit  ID  (as  sent  in  the  Local  Circuit  ID  field  of point-to-point IIH PDUs from this Intermediate Sys-tem) of this circuit. 

2) If  the  remote  Intermediate  system  has  the  higherSource ID, the IS shall set the Circuit CircuitID status

to  the  concatenation  of  the  remote  system's  SourceID  (from  the  Source  ID  field  of  the  PDU),  and  the remote  system's  Local  Circuit  ID  (from  the  LocalCircuit ID field of the PDU). 

3) If the two source IDs are the same (i.e. the system isinitialising to itself), the local systemID is used.

d) If  the  action  taken  is  "Accept"  and  the  new  value  com-puted for the circuitID is different from that in the exist-

ing adjacency, the IS shall 1) generate an adjacencyStateChange  (Down) event,and 

2) delete the adjacency.

NOTE 43  The circuitID status is not used to gen-erate the Local Circuit ID to be sent in the Local Circuit  ID  field  of  IIH  PDUs  transmitted  by  thisIntermediate system. The Local Circuit ID value is assigned  once,  when  the  circuit  is  created  and  isnot subsequently changed.

e) If the action taken is "Up" or "Accept" the IS shall

1) copy  the  adjacency  areaAddressesOfNeighbourentries from the Area Addresses field of the PDU,

2) set  the  holdingTimer  to  the  value  of  the  HoldingTime field from the PDU, and 3) set  the  neighbourSystemID  to  the  value  of  theSource ID field from the PDU.

8.2.5  Monitoring point-to-point adjacencies The IS shall keep a holding time (adjacency holdingTimer) forthe  point-to-point  adjacency.  The  value  of  the  holdingTimer shall  be  set  to  the  holding  time  as  reported  in  the  HoldingTime field of  the Pt-Pt IIH PDU. If a neighbour is  not heard from in that time, the IS shall

a) purge it from the database; and  b) generate an adjacencyStateChange (Down) event.

8.3 ISO 8208 subnetworks

8.3.1  Network layer protocols The way in which the underlying service assumed by ISO 8473is provided for ISO 8208 subnetworks is described in clause 8 of  ISO  8473.  This  defines  a  set  of  Subnetwork  DependentConvergence Functions (SNDCFs) that relate the service pro- vided by specific individual ISO International Standard subnet-works  to  the  abstract  "underlying  service"  defined  in  5.5  of ISO  8473.  In  particular  8.4.3  describes  the  Subnetwork  De-pendent  Convergence  Functions  used  with  ISO  8208  Subnet- works.

Table 8 - Level 2 only state table for non-matching areas

Adjacency UsageCircuit Type1 none2 Level 13 Level 1 and 24 Level 25 Level 1 only Reject6 (Area Mismatch) Down7 (Area Mismatch) Down7 (Wrong system) Down7 (Wrong system) Level 2 only Up8 L2O9 Down7 (Wrong system) Down7 (Wrong system) Accept Level 1 and 2 Up8 L2O9 Down7 (Wrong system) Down7 (Area Mismatch) Accept 1The value of the Circuit Type field in the received PDU. 2The adjacency is not in adjacencyState "Up". 3The adjacency is in adjacencyState  "Up" and the Adjacency adjacencyUsage is "Level 1". 4The adjacency is in adjacencyState "Up" and the adjacencyUsage is "Level 1 and 2". 5The adjacency is in adjacencyState "Up" and the adjacencyUsage is "Level 2" 6An areaMismatch event is generated. 7An adjacencyStateChange (Down)" event is generated, with the specified reason, and the adjacency deleted. 8The adjacency is accepted and an adjacencyStateChange (Up)" event is generated. If the Adjacency neighbourSystemType was "Unknown" (i.e. no ISH PDU has yet been received), a point-to-point IIH PDU is also transmitted.9

The adjacencyUsage is set to "Level 2".

ISO/IEC 10589:1992 (E)

41 8.3.2  SVC establishment 8.3.2.1  Use of ISO 8473 subnetwork dependentconvergence functions

SVCs shall be established according to the procedures definedin  the  ISO  8208  Subnetwork  Dependent  Convergence  Func- tions of ISO 8473 (this may be on system management actionor on arrival of data depending on the type of circuit). The Call Request shall contain a Protocol Discriminator specifying ISO8473 in the first octet of Call Userdata.

In the case of a static circuit, an SVC shall be established onlyupon  system  management  action.  The  IS  shall  use  neigh- bourSNPAAddress as the called SNPA address.

In the case of a DA circuit, the call establishment proceduresare initiated by the arrival of traffic for the circuit.

8.3.2.2  Dynamically assigned circuits A  dynamically  assigned  circuit  has  multiple  adjacencies,  andcan  therefore  establish  SVCs  to  multiple  SNPAs.  There  are several methods that can be used by an Intermediate system toderive  the  SNPA  address  to  which  a  call  is  to  be  established when an NPDU is to be forwarded over an ISO 8208 subnet-work. These include the following: 

- In some instances, the SNPA address to which a call is tobe  established  can  be  derived  from  the  NSAP  to  which

an NPDU is to be forwarded.  In the case where all the NSAPs accessible over the ISO8208  subnetwork  have  IDIs  which  are  their  SNPA  ad- dresses,  the  correct  SNPA  can  be  derived  by  extractingthe IDI, using the "extractIDI" mapping type described in 8.1.

Other  scenarios  may  also  permit  the  extraction  of  theSNPA by examining other parts of the NSAP address. In these cases the "extractDSP" mapping type may be usedas described in 8.1.

Examples of the above methods are illustrated in table 3. - In other cases, such as when the IDI refers to some otherSNPA  address  which  is  suboptimally  connected  to  the

target NSAP (or even not connected at all), or when theIDP  does  not  contain  an  X.121  address  at  all  (e.g.  the ISO DCC address plan), a method not relying upon infor-mation in the destination NSAP address must be used. 

If it is feasible for the IS to maintain the correspondencebetween an address prefix and an SNPA (via the Reach- able  Address  managed  object)  then  the  "explicit"  map-ping type may be used as described in 8.1. This may not always  be  desirable  because  of  the  need  to  administerthis information individually in each affected Intermedi- ate system. If a SNARE is available on the subnetwork, then the ISmay  invoke  the  appropriate  SNARE  functions  to  obtain the desired SNPA address from the NSAP address in theNPDU to be forwarded.

This is achieved, as described in 8.1, by additional informationcontained in the reachableAddress managed object. The ad- dress extraction algorithm may be specified to extract the IDIor  DSP  portion  where  the  desired  portion  of  the  destination NSAP address is the required X.121 address. An example of aset of Reachable Addresses is shown in table 3.

NOTE 44  If  a  DA  circuit  is  defined  with  a  reachable  ad-dress  prefix  which  includes  the  addresses  reachable  over  a STATIC  circuit,  the  cost(s)  for  the  DA  circuit  must  begreater  than  those  of  the  STATIC  circuit.  If  this  is  not  the case, the DA circuit may be used to establish a call to the re-mote  SNPA  supporting  the  STATIC  circuit,  which  would then (wrongly) assume it was the STATIC circuit.

8.3.2.3  Initiating calls (level 2 Intermediatesystems) 

When an NPDU is to be forwarded on a dynamically assignedcircuit, for destination NSAP address D, the IS shall

a) Calculate  D's  subnetwork  address,  either  as  explicitlystated  in  the  reachable  address  prefix,  or  as  extracted

from the destination NSAP address. 1) If this system is an ES and there is an entry in the Re-directCache or ReversePathCache for D, use the sub-

network address in the cache entry.  2) If  this  system  is  an  ES  or  Level  2  Intermediate  sys-tem, and the address matches one of the listed reach-

able  address  prefixes  (including  "*",  if  present),  thesubnetwork address is that specified according to the mappingType  attribute  (either  "explicit",  indicatingthat the set of addresses in the sNPAAddresses at- tribute  of  that  Reachable  Address  are  to  be  used,  or"Algorithm", indicating that it is to be extracted from the destination NSAP address using the specified al-gorithm).  If  multiple  SNPA  addresses  are  specified, and there is already an adjacency up to one of thoseSNPA  addresses,  then  choose  that  subnetwork  ad- dress, otherwise choose the subnetwork address withthe oldest timestamp as described in 8.3.2.4.

3) If the address does not match one of the listed reach-able address prefixes (and there is no "*" entry), in-

voke the ISO 8473 Discard PDU function.

b) Scan the adjacencies for one already open to D's subnet-work address (i.e. reserveTimer has not yet expired). If

one is found, transmit the NPDU on that adjacency.

c) If no adjacency has a call established to the required sub-network address, but there is a free adjacency, attempt to

establish the call using that subnetwork address.

d) If there is no free adjacency invoke the ISO 8473 DiscardPDU functi on.

NOTE 45  Where  possible,  when  an  adjacency  is  reserved(when an SVC has been cleared as a result of the idleTimer expiring,  but  the  reserveTimer  has  not  yet  expired),  re-sources within the subnetwork service provider should be re- served,  in  order  to  minimise  the  probability  that  the  adja-cency will not be able to initiate a call when required. 

ISO/IEC 10589:1992 (E)

42 8.3.2.4  Call attempt failures The Reachable Address managed objects may contain a set ofSNPA addresses, each of which has an associated timestamp. The timestamps shall be initialised to "infinitely old". Some  of  the  SNPAs  in  this  set  may  be  unreachable.  If  a  callattempt fails to one of the SNPA addresses listed, the IS shall mark that entry in the list with the time of the latest failed at-tempt.  When  an  SNPA  address  is  to  be  chosen  from  the  list, the IS shall choose the one with the oldest timestamp , unlessthe  oldest  timestamp  is  more  recent  than  recallTimer.  If  the oldest timestamp is more recent than recallTimer, all SNPAsin the set shall be assumed temporarily unreachable and no call attempt is made. The IS shall instead invoke the ISO 8473 Dis-card PDU function.

When attempting to establish a connection to a single specificsubnetwork  address  (not  through  one  of  a  set  of  SNPA  ad- dresses), if a call attempt to a particular SNPA address, A, failsfor any reason, the IS shall invoke the ISO 8473 Discard PDU function. Additionally the adjacency on which the call attemptwas  placed  shall  be  placed  in  "Failed"  state,  and  the  recall timer  set.  Until it  expires,  the  IS  shall  not  attempt  call  estab-lishment  for  future  NPDUs  to  be  forwarded  over  subnetwork address  A,  but instead  the  IS  shall  invoke the  ISO  8473  Dis-card PDU function.

When the recall timer expires, the IS shall free the adjacencyfor calls to a different destination or retry attempts to subnet- work address A.

NOTE 46  If an implementation can store the knowledge ofSNPA  addresses  that have  failed  along  with  the  time  since the attempt was made in a location other than the adjacencyon which the call was attempted, then that adjacency can be used for other calls.

8.3.3  Reverse path forwarding on DA circuits Where a subdomain is attached to a Connection-oriented sub-network  by  two  or  more  SNPAs,  the  destination  NSAP    ad- dresses within the subdomain may be chosen to be constructedfrom  the  address  of  one  of  the  points  of  attachment.  (It  need not be. The whole subdomain could be multi-homed by usingboth SNPA addresses, or some other IDP could be chosen; e.g. ISO DCC.)  Traffic to  the  subdomain  from  some  other  SNPAwill cause a call to be established to the SNPA corresponding to  the  destination  NSAP  address  in  the  subdomain.  Trafficfrom  the  subdomain  may  use  either  of  the  SNPAs  depending on the routeing decisions made by the subdomain. This is illus-trated in figure 6. 

Figure 6 - Example of reverse path forwarding

B.x B.y

C.zISO 8208 SubnetworkB A

C

The subdomain is attached to the connection-oriented subnet-work via SNPAs A and B. The addresses on the subdomain are constructed using the SNPA address of B as the IDI. If trafficfor C.z is sent from B.x, a call will be established from A to C. The reverse traffic from C.z to B.x will cause another call tobe established from C to B. Thus two SVCs have been estab- lished where only one is required. This  problem  is  prevented  by  the  local  system  retaining  acache  (known  as  the  ReversePathCache)  of  NSAP  addresses from  which  traffic  has  been  received  over  each  adjacency.When  it  has  traffic  to  forward  over  the  connection-oriented subnetwork, the IS shall it first check to see if the destinationNSAP is in the cache of any of its adjacencies, and if so for- wards the traffic over that adjacency. An NSAP shall only beadded to the cache when the remote SNPA address of the adja- cency over which it is received differs from the SNPA addressto be called which would be generated by checking against the Circuit Reachable Addresses managed objects. If the cache isfull,  the  IS  shall  overwrite  the  least  recently  used  entry.  The ReversePathCache, if implemented, shall have a size of at leastone entry. The IS shall purge the cache when the adjacency is taken down (i.e. when the reserveTimer expires).

8.3.4  Use of ISO 9542 on ISO 8208subnetworks 

Static  and  DA  circuits  are  equivalent  to  point-to-point  links,and as such permit the operation of ISO 9542 as described for

point -t o-poi nt li nks in 8.2.

For  DA  circuits,  it  is  impractical  to  use  ISO  9542  to  obtainconfiguration information, such as the location of Intermediate systems, since this would require calls to be established to allpossible SNPA addresses.

The  IS  shall  not  send  ISO  9542  ISH  PDUs  on  a  DA  circuit.The IS shall take no action on receipt of an ESH PDU or ISH PDU, and the circuit shall complete initialisation without wait-ing for their arrival.

The IS shall not send Point-to-point IIH PDU on DA circuits.The IS shall ignore receipt of point-to-point IIH PDUs on DA circuits. 

8.3.5  Interactions with the update process A  dynamically  assigned  circuit  contains  a  list  of  <reachableaddress  prefix,  cost,  SNPA  address>  tuples.  Also,  each  dy- namically  assigned  circuit  has  a  specified  call  establishmentcost measured by callEstablishmentMetric

k (where k indexesthe four defined metrics). The call establishment cost is always

an  internal  metric,  and  is  therefore  directly  comparable  withthe reachable address metric only if the reachable address met-

ric is also internal.

When the circuit is enabled, the Subnetwork Dependent func-tions  in  an  Intermediate  system  shall  report  (to  the  Update Process)  "adjacency  cost  change"  events  for  all  address  pre-fixes in the circuit reachable address managed object, together with  the  reachable  address  metrick  +  Deltak  increment.  Ifreachable address metric

k is internal, then Deltak = callEstab-lishmentMetric k. If reachable address metrick is external, thenDelta k = 0.

ISO/IEC 10589:1992 (E)

43 This  causes  this  information  to  be  included  in  subsequentlygenerated LSPs as described in 7.3.3.2. Routeing PDUs (LSPs and Sequence number PDUs) shall notbe sent on dynamically assigned circuits.

NOTE 47  In  the  following  sub-clauses,  it  is  assumed  thatthe  Reachable  Addresses  referenced  are  only  those  which have  been  enabled  (i.e.  that  have  state  "On"),  and  whoseparent circuit is also in state "On".

8.3.5.1  Adjacency creation After an  SVC  to  SNPA address  D  is  successfully  establishedand a new adjacency created for it (whether it was initiated by the  local  or  the  remote  system),  if  callEstablishmentMet-ric

kIncrement  is  greater  than  0,  the  IS  shall  scan  the  circuitReachable Address managed objects for all addressPrefixes

listed with D as (one of) the sNPAAddress(es).

For  Reachable  Addresses  with  mappingType  "Algorithm",the IS shall construct an implied address prefix1) from the ac- tual remote SNPA address D and the address extraction algo-rithm.  The  IS  shall  generate  an  Adjacency  cost  change  event for each such address prefix (both actual and implied) with theReachable Address metric

k (without the added callEstablish-mentMetric kIncrement).  This  causes  information  that  thoseaddress  prefixes  are  reachable  with  the  lower  cost  to  be  in-

cluded in subsequently generated LSPs. The effect of this is toencourage the use of already established SVCs where possible.

8.3.5.2  Adjacency deletion When  the  adjacency  with  sNPAAddress  D  is  freed(reserveTimer  has  expired,  or  the  adjacency  is  deleted  by System  Management  action)  then  if  callEstablishmentMet-ric

kIncrement is greater than 0, the IS shall scan the CircuitReachable  Address  managed  objects  for  all  those  with

mappingType  explicit  and  (one  of)  their  sNPAAddressesequal  to  D.  The  IS  shall  generate  "Adjacency  cost  change"

events to the Update Process for all such address prefixes withthe Reachable Address metric

k + Deltak increment (where Del-ta k  is  the  same  as  defined  above).  For  Reachable  Addresseswith  an  algorithmic  extraction  mappingType  for  which  it  is

possible to construct an implied address prefix as above, the ISshall generate an adjacencyStateChange" event for that im-

plied prefix.  A cost change event shall only be generated when the count ofthe number of subnetwork addresses which have an established SVC changes between 1 and 0. 8.3.5.3  Circuit call establishment incrementchange

On a dynamically assigned circuit, when system managementchanges the Circuit callEstablishmentMetric

kIIncrement forthat  circuit,  the  IS  shall  generate  "adjacency  cost  change

events"  for  all  address  prefixes  affected  by  the  change(i.e. those for which calls are not currently "established").

The IS shall scan all the Reachable Address managed objectsof that Circuit. If the Reachable Address has an algorithmic ex-

traction  mappingType,  the  IS  shall  generate  an  "adjacencycost  change"  event  for  that  adjacencyId  with  the  Reachable Address  metrick  +  the  new  value  of  Deltak.  If    (based  on  thenew  value  of  callEstablishmentMetric

kIncrement)  theReachable Address has mappingType "explicit", the IS shall

scan  all  the  adjacencies  of  the  circuit  for  an  adjacency  withsNPAAddress equal to (one of) the sNPAAddresses of that

Reachable Address. If no such adjacency is found the IS shallgenerate  an  "adjacency  cost  change"  event  for  that adjacencyId  with  the  reachable  address  metrick  +  the  newvalue  of  Delta

k  (based  on  the  new  value  of  callEstablish-mentMetric kIncrement).

8.3.5.4  Reachable address cost change

When  the  metrick  attribute  of  a  reachableAddress  inoperationalState  "Enabled"  is  changed  by  system  manage- ment,  the  IS  shall  generate  cost  change  events  to  the  Updateprocess to reflect this change. 

If the reachableAddress has mappingType "explicit", the ISshall  scan  all  the  adjacencies  of  the  circuit  for  an  adjacency with sNPAAddress equal to (one of) the sNPAAddresses ofthat  reachable  address.  If  one  or  more  such  adjacencies  are found, the IS shall generate an adjacencyCostChange eventfor that reachableAddressId with the new reachable address metrick. If no such adjacency is found the IS shall generate an"adjacency cost change" event for that reachableAddressId with the new reachable address metrick. If  the  reachableAddress  has    an  algorithmic  extractionmappingType,  the  IS  shall  generate  an  adjacencyCost- Change event for that name with the new reachable addressmetric

k  +  Deltak  (based  on  the  new  value  of  callEstablish-mentMetric

kIncrement).  In  addition,  for  all  adjacencies  ofthe  circuit  with  an  sNPAAddress  for  which  an  implied  ad-

dress prefix can be generated for this reachable address, the ISshall  generate  an  adjacencyCostChange  event  for  that  im-

plied address prefix and the new reachable address metrick.

8.3.5.5  Disabling a reachable address When  a  reachableAddress  managed  object  is  disabled  viamanagement action, the IS shall generate an adjacencyDown event  to  the  Update  process  for  the  adjacencyId  of  thatreachable address and also for any implied prefixes associated with that reachable address. 8.3.5.6  Enabling a reachable address When  a  reachableAddress  is  enabled  via  system  manage-ment  action,  the  IS  shall  generate  adjacencyCostChange  events  as  described  for  reachable  address  cost  changes  in8.3.5.4 above.

8.4 Broadcast subnetworks 8.4.1  Enabling of broadcast circuits When the broadcast circuit is enabled on an Intermediate sys-tem the IS shall perform the following actions. 

1) i.e. some address prefix which matches the addressPrefix of the Reachable Address, and which would generate the SNPA Address D when the extrac-tion algorithm is applied.

ISO/IEC 10589:1992 (E)

44

a) Commence sending IIH PDUs with the LAN ID field setto the concatenation of its own systemID and its locally

assigned one octet Local Circuit ID.  b) Solicit  the  End  system  configuration  as  described  in 8.4.6

c) Start listening for ISO 9542 ESH PDUs and acquire adja-cencies as appropriate. Do not run the Designated Inter-

mediate System election process.  d) After waiting iSISHelloTimer * 2 seconds, run the Level1 and or the level 2 designated intermediate system elec-

tion process depending on the Intermediate system type.

8.4.2  Broadcast subnetwork IIH PDUs All  Intermediate  systems  on  broadcast  circuits  (both  Level  1and  Level  2)  shall  transmit  LAN  IIH  PDUs  as  described  in 8.4.4. Level 1 Intermediate systems shall transmit only Level 1LAN IIH PDUs. Level 2 Intermediate Systems on circuits with manualL2OnlyMode  set  to  the  value  "True",  shall  transmitonly Level 2 LAN IIH PDUs. Level 2 Intermediate systems on circuits  with  manualL2OnlyMode  set  to  the  value  "False",shall transmit both.

Level n LAN IIH PDUs contain the transmitting Intermediatesystem's  ID,  holding  timer,  Level  n  Priority  and  manual- AreaAddresses,  plus  a  list  containing  the  lANAddresses  ofall the adjacencies of neighbourSystemType "Ln Intermedi- ate  System"  (in  adjacencyState  "Initialising"  or  "Up")  onthis circuit.

LAN  IIH  PDUs  shall  be  padded  (with  trailing  PAD  optionfields  containing  arbitrary  valued  octets)  so  that  the  SNSDU containing the IIH PDU has a length of at least maxsize - 1 oc-tets1) where maxsize for Level 1 IIH PDUs is the maximum of 

- dataLinkBlocksize  - originatingL1LSPBufferSize and for Level 2 IIH PDUs is the maximum of

- dataLinkBlocksize  - originatingL2LSPBufferSize This  is  done  to ensure  that  an  adjacency will only  be formedbetween  systems  which  are  capable  of  exchanging  PDUs  of length  up  to  maxsize  octets.  In  the  absence  of  this  check,  itwould be possible for an adjacency to exist with a lower maxi- mum  block  size,  with  the  result  that  some  LSPs  and  SNPs(i.e.  those  longer  than  this  maximum,  but  less  than  maxsize) would not be exchanged.

NOTE 48  An example of a topology where this could occuris  one  where  an  extended  LAN  is  constructed  from  LAN segments with different maximum block sizes. If, as a resultof  mis-configuration  or  some  dynamic  reconfiguration,  a path  exists  between  two  Intermediate  systems  on  separateLAN  segments  having a  large  maximum  block  size,  which involves transit of a LAN segment with a smaller maximumblock size, loss of larger PDUs will occur if the Intermediate

systems continue to use the larger maximum block size. It isbetter  to  refuse  to  bring  up  the  adjacency  in  these  circum- stances.

Level 1 Intermediate systems shall transmit Level 1 LAN IIHPDUs to the multi-destination address AllL1ISs,  and also lis- ten on that address. They shall also listen for ESH PDUs on themulti-destination  address  AllIntermediateSystems.  The  list of neighbour Intermediate systems shall contain only Level 1Intermediate  Systems  within  the  same  area.  (i.e.  Adjacencies of neighbourSystemType "L1 Intermediate System".)  Level  2  Only  Intermediate  systems  (i.e.  Level  2  Intermediatesystems  which  have  the  Circuit  with  an  associated  linkage manualL2OnlyMode  characteristic  set  to  the  value  "True")shall transmit Level 2 LAN IIH PDUs to the multi-destination address  AllL2ISs,  and  also  listen  on  that  address.  The  list  ofneighbour Intermediate systems shall contain only Level 2 In- termediate  systems.  (i.e.  adjacencies  of  neighbourSystem-Type "L2 Intermediate System".) 

Level  2  Intermediate  systems  (with  manualL2OnlyMode"False")  shall  perform  both  of  the  above  actions.  Separate Level 1 and Level 2 LAN IIH PDUs shall be sent to the multi-destination  addresses  AllL1ISs  and  AllL2ISs  describing  the neighbour  Intermediate  systems  for  Level  1  and  Level  2  re-spectively. Separate adjacencies shall be created by the receipt of Level 1 and Level 2 LAN IIH PDUs.

8.4.2.1  IIH PDU acceptance tests On  receipt  of  a  Broadcast  IIH  PDU,  perform  the  followingPDU acceptance tests:

a) If  the  IIH  PDU  was  received  over  a  circuit  whoseexternalDomain attribute is "True", the IS shall discard

the PDU. b) If  the  ID  Length  field  of  the  PDU  is  not  equal  to  thevalue  of  the  IS's  routeingDomainIDLength,  the  PDU

shall  be  discarded  and  an  iDFieldLengthMismatchevent generated.

c) If  the  value  of  circuitTransmitPassword  or  the  set  ofcircuitReceivePasswords  for  this  circuit  is  non-null,

then perform the following tests: 1) If  the  PDU  does  not  contain  the  Authentication  In-formation field then the PDU shall be discarded and

an authenticationFailure event generated. 2) If the PDU contains the Authentication Informationfield,  but  the  Authentication  Type  is  not  equal  to

"Password", then i) If the IS implements the authentication procedureindicated  by  the  Authentication  Type  whether

the IS accepts or ignores the PDU is outside thescope of this International Standard.

ii) If  the  IS  does  not  implement  the  authenticationprocedure indicated by the Authentication Type

then the IS shall ignore the PDU and generate anauthenticationFailure event."

1) The minimum length of PAD which may be added is 2 octets, since that is the size of the option header. Where possible the PDU should be padded tomaxsize, but if the PDU length is maxsize - 1 octets no padding is possible (or required).

ISO/IEC 10589:1992 (E)

45 3) Otherwise, the IS shall compare the password in thereceived  PDU  with  the  passwords  in  the  set  of  cir-

cuitReceivePasswords for the circuit on which thePDU was received. If the value in the PDU matches any of these passwords, the IS shall accept the PDUfor  further  processing.  If  the  value  in  the  PDU  does not  match  any  of  the  circuitReceivePasswords,then  the  IS  shall  ignore  the  PDU  and  generate  an authenticationFailure event.

8.4.2.2  Receipt of level 1 IIH PDUs On receipt of a Level 1 LAN IIH PDU on the multi-destinationaddress AllL1ISs, the IS shall perform the following tests:

a) Compare each of the area addresses, from the Area Ad-dresses  field  of  the  received  IIH  PDU  with  the  set  of

area  addresses  in  the  manualAreaAddresses  attribute.If  a  match  is  not  found  between  any  pair  (i.e.  the  local and remote system have no area address in common), theIS  shall  reject  the  adjacency  and  generate  an areaMismatch event. b) if  the  Maximum  Area  Addresses  field  of  the  PDU  isnot  equal  to  the  value  of  the  IS's  maximumAreaAd-

dresses  then  the  PDU  shall  be  discarded  and  amaximumAreaAddressesMismatch  event  generated, unless the IS only implements a value of three for maxi-mumAreaAddresses, in which case this check may be omitted. If  the  above  tests  succeed,  the  IS  shall  accept  the  adjacencyand  set  the  Adjacency  neighbourSystemType  to  "L1  Inter- mediate System".

8.4.2.3  Receipt of Level 2 IIH PDUs  On receipt of a Level 2 LAN IIH PDU on the multi-destinationaddress  AllL2ISs,  the  IS  shall  accept  the  adjacency,  and  set the  Adjacency  neighbourSystemType  to  "L2  IntermediateSystem".

8.4.2.4  Existing adjacencies When  a  Level  n  LAN  IIH  PDU  (Level  1  or  Level  2)  is  re-ceived from an Intermediate system for which there is already an adjacency with

a) the  adjacency  neighbourSNPAAddress  equal  to  theMAC Source address of the PDU, and

b) the  Adjacency  neighbourSystemID  equal  to  theSource ID field from the PDU and c) the  neighbourSystemType  equal  to  "Ln  IntermediateSystem",  the  IS  shall  update  the  holdingTimer,  priorityOfNeighbourand  areaAddressesOfNeighbour  according  to  the  values  in the PDU.

8.4.2.5  New adjacencies 8.4.2.5.1 When

a) a Level n LAN IIH PDU (Level 1 or Level 2) is received(from Intermediate system R), and  b) there  is  no  adjacency  for  which  the  adjacency  neigh-bourSNPAAddress is equal to the MAC Source address

of the PDU; and c) the  Adjacency  neighbourSystemIDs  is  equal  to  theSource ID field from the PDU, and 

d) neighbourSystemType is "Ln Intermediate System",  the IS shall create a new adjacency. However, if there is insuf-ficient space in the adjacency database, to permit the creation

of a new adjacency the IS shall instead perform the actions de-scribed in 8.4.3.

The IS shall 

e) set  neighbourSystemType  to  "Ln  Intermediate  Sys-tem" (where n is the level of the IIH PDU),

f) set  the  holdingTimer,  priorityOfNeighbour,  neigh-bourSystemID  and  areaAddressesOfNeighbour

according to the values in the PDU., and  g) set the neighbourSNPAAddress according to the MACsource address of the PDU.

The IS shall set the adjacencyState of the adjacency to "ini-tialising",  until  it  is  known  that  the  communication  between this system and the source of the PDU (R) is two-way. How-ever  R  shall  be  included  in  future  Level  n  LAN  IIH  PDUs transmitted by this system. When  R  reports  this  circuit's  SNPAAddress  in  its  Level  nLAN IIH PDUs, the IS shall

h) set the adjacency's adjacencyState to "Up", and  i) generate an adjacencyStateChange (Up)" event. 8.4.2.5.2 The IS shall keep a separate holding time (adjacencyholdingTimer) for each "Ln Intermediate System" adjacency. The value of holdingTimer shall be set to the holding time asreported  in  the  Holding  Time  field  of  the  Level  n  LAN  IIH PDUs.  If  a  neighbour  is  not  heard  from  in  that  time,  the  ISshall

a) purge it from the database; and  b) generate an adjacencyStateChange (Down) event. 8.4.2.5.3 If a Level n LAN IIH PDU is received from neigh-bour N, and this system's lANAddress is no longer in N's IIH PDU, the IS shall

a) set  the  adjacency's  adjacencyState  to  "initialising",and 

b) generate an adjacencyStateChange (Down) event. 8.4.3  Insufficient space in adjacency database If an IS needs to create a new Intermediate system adjacency,but  there  is  insufficient  space  in  the  adjacency  database,  the adjacency  of  neighbourSystemType  "Ln  Intermediate  Sys-

ISO/IEC 10589:1992 (E)

46 tem"  with  lowest  lxintermediateSystemPriority  (or  if  morethan one adjacency has the lowest priority, the adjacency with the lowest SNPAAddress, from among those with the lowestpriority)  shall  be  purged  from  the  database.  If  the  new  adja- cency would have the lowest priority, it shall be ignored, and arejectedAdjacency event generated.

If  an  old  adjacency  must  be  purged,  the  IS  shall  generate  anadjacencyStateChange  (Down)  event  for  that  adjacency. After  the  Subnetwork  Independent  Functions  issue  an  "adja-cency down complete", the IS may create a new adjacency.

8.4.4  Transmission of LAN IIH PDUs A Level 1 IS shall transmit a Level 1 LAN IIH PDU immedi-ately  when  any  circuit  whose  externalDomain  attribute  is "False" has been enabled. A Level 2 Intermediate System shalltransmit a Level 2 LAN IIH PDU. A Level 2 Intermediate Sys- tem shall also transmit a Level 1 LAN IIH PDU unless the cir-cuit is marked as manualL2OnlyMode "True".

The IS shall also transmit a LAN IIH PDU when at least 1 sec-ond has elapsed since the last transmission of a LAN IIH PDU of the same type on this circuit by this system and:

a) iSISHelloTimer seconds have elapsed1) since the last pe-riodic LAN IIH PDU transmission

The  Holding  Time  is  set  to  ISISHoldingMultiplier  *iSISHelloTimer.  For  a  Designated  Intermediate  System the  value  of  dRISISHelloTimer2)  is  used  instead  ofiSISHelloTimer. The Holding Time for this PDU shall therefore  be  set  to  ISISHoldingMultiplier  *  dRISIS-HelloTimer seconds. This permits failing Designated In- termediate Systems to be detected more rapidly,  or b) the contents of the next IIH PDU to be transmitted woulddiffer from the contents of  the previous IIH PDU trans-

mitted by this system, or  c) this system has determined that it is to become or resignas LAN Designated Intermediate System for that level. 

To  minimise  the  possibility  of  the  IIH  PDU  transmissions  ofall Intermediate systems on the LAN becoming synchronised, the hello timer shall only be reset when a IIH PDU is transmit-ted as a result of timer expiration, or on becoming or resigning as Designated Intermediate System. Where an Intermediate system is transmitting both Level 1 andLevel  2  LAN  IIH  PDUs,  it  shall  maintain  a  separate  timer (separately  jittered)  for  the  transmission  of  the  Level  1  andLevel  2  IIH  PDUs.  This  avoids  correlation  between  the Level 1 and Level 2 IIH PDUs and allows the reception bufferrequirements to be minimised.

If the value of the circuitTransmitPassword for the circuit isnon-null,  then  the  IS  shall  include  the  Authentication  Infor- mation  field  in  the  transmitted  IIH  PDU,  indicating  anAuthentication  Type  of  "Password"  and  containing  the circuitTransmitPassword as the authentication value.

8.4.5  LAN designated intermediate systems A LAN Designated Intermediate System is the highest priorityIntermediate  system  in  a  particular  set  on  the  LAN,  with  nu- merically  highest  MAC  source  SNPAAddress  breaking  ties.(See 7.1.8 for how to compare LAN addresses.) 

There are, in general, two LAN Designated Intermediate Sys-tems on each LAN, namely the LAN Level 1 Designated Inter- mediate System and the LAN Level 2 Designated IntermediateSystem. They are elected as follows.

a) Level 1 Intermediate systems elect the LAN Level 1 Des-ignated Intermediate System. b) Level 2 Only Intermediate systems (i.e. Level 2 Interme-diate  Systems  which  have  the  Circuit  manualL2Only-

Mode  characteristic  set  to  the  value  "True")  elect  theLAN Level 2 Designated Intermediate System.

c) Level  2  Intermediate  systems  (with  manu-alL2OnlyMode "False") elect both the LAN Level 1 and

LAN Level 2 Designated Intermediate Systems. The set of Intermediate systems to be considered includes thelocal  Intermediate  system,  together  with  all  Intermediate  sys-

tems of the appropriate type as follows.

d) For the LAN Level 1 Designated Intermediate System, itis  the  set  of  Intermediate  systems  from  which  LAN

Level 1 IIH PDUs are received and to which Level 1 ad-jacencies exist in adjacencyState "Up". When the lo- cal  system  either  becomes  or  resigns  as  LAN  Level  1Designated Intermediate  System, the  IS  shall generate  a lANLevel1DesignatedIntermediateSystemChangeevent. In addition, when it becomes LAN Level 1 Desig- nated Intermediate System, it shall perform the followingactions.

1) Generate and transmit Level 1 pseudonode LSPs us-ing the existing End system configuration. 2) Purge  the  Level  1  pseudonode  LSPs  issued  by  theprevious LAN Level 1 Designated Intermediate Sys-

tem (if any) as described in 7.2.3. 3) Solicit  the  new  End  system  configuration  as  de-scribed in 8.4.6.

e) For the LAN Level 2 Designated Intermediate System, itis  the  set  of  Intermediate  systems  from  which  LAN

Level 2 IIH PDUs are received and to which Level 2 ad-jacencies exist in adjacencyState "Up". When the lo- cal  system  either  becomes  or  resigns  as  LAN  Level  2Designated Intermediate  System, the  IS  shall generate  a lANLevel2DesignatedIntermediateSystemChangeevent. In addition, when it becomes LAN Level 2 Desig- nated Intermediate System, it shall perform the followingactions.

1) Generate and transmit a Level 2 pseudonode LSP.  2) Purge  the  Level  2  pseudonode  LSPs  issued  by  theprevious LAN Level 2 Designated Intermediate Sys-

tem (if any) as described in 7.2.3.

1) Jitter is applied as described in 10.1. 2)  In this case jitter is not applied, since it would result in intervals of less than one second.

ISO/IEC 10589:1992 (E)

47 When  an  Intermediate  system  resigns  as  LAN  Level  1  orLevel  2  Designated  Intermediate  System  it  shall  perform  the actions on Link State PDUs described in 7.2.3. The IS shall run the Level 1 and/or the Level 2 Designated In-termediate System election process (depending on the Interme-

diate system type) whenever an IIH PDU is received or trans-mitted as described in 8.4.4. (For these purposes, the transmis- sion  of  the  system's  own  IIH  PDU  is  equivalent  to  receivingit). If there has been no change to the information on which the election is performed since the last time it was run, the previ-ous result can be assumed. The relevant information is

f) the set of Intermediate system adjacency states; g) the  set  of  Intermediate  System  priorities  (including  thissystem's); and 

h) the existence (or otherwise) of at least one "Up" End sys-tem  (not  including  manual  adjacencies)  or  Intermediate

system adjacency on the circuit. An  Intermediate  system  shall  not  declare  itself  to  be  a  LANDesignated Intermediate system of any type until it has at least one  "Up"  End  system  (not  including  manual  adjacencies)  orIntermediate system adjacency on the circuit. (This prevents an Intermediate System which has a defective receiver and is in-capable of receiving any PDUs from erroneously electing itself LAN Designated Intermediate System.)  The  LAN  ID  field  in  the  LAN  IIH  PDUs  transmitted  by  thissystem shall be set to the value of the LAN ID field reported in the LAN IIH PDU (for the appropriate level) received from thesystem which this system considers to be the Designated Inter- mediate System. This value shall also be passed to the UpdateProcess, as the pseudonode ID, to enable Link State PDUs to be  issued  for  this  system  claiming  connectivity  to  thepseudonode.

If this system, as a result of the Designated Intermediate Sys-tem election process, considers itself to be designated Interme- diate System, the LAN ID field shall be set to the concatena-tion of this  system's  own  system ID  and the  locally assigned one octet Local Circuit ID.

8.4.6  Soliciting the ES configuration When there is a change in the topology or configuration of theLAN  (for  example  the  partitioning  of  a  LAN  into  two  seg- ments by the failure of a repeater or bridge), it is desirable forthe (new) Designated Intermediate System to acquire the new End system configuration of the LAN as quickly as possible inorder that  it  may generate Link State PDUs which accurately reflect the actual configuration. This is achieved as follows. When the circuit is enabled, or the Intermediate system detectsa change in the set of Intermediate systems on the LAN, or a change in the Designated Intermediate System ID, the IS shallinitiate  a  poll  of  the  ES  configuration  by  performing  the  fol- lowing actions.

a) Delay a random interval between 0 and iSISHelloTimer.(This is to avoid synchronisation with other Intermediate

systems which have detected the change.)  b) If  (and  only  if)  an  Intermediate  System  had  been  re-moved from the set of Intermediate systems on the LAN,

reset the entryRemainingTime field in the  neighbour-SystemIDs adjacency database record of all adjacencies on this circuit to the value 

(iSISHelloTimer + pollESHelloRate) * iSISHold-ingMultiplier

or the existing value whichever is the lower. (This causesany  End  systems  which  are  no  longer  present  on  the LAN to be rapidly timed out, but not before they have achance to respond to the poll.)

c) Transmit  iSISHoldingMultiplier  ISH  PDUs  for  eachNET  possessed  by  the  Intermediate  system  with  a  Sug-

gested  ES  Configuration  Timer  value  of  pollESHello-Rate  at  an  interval  between  them  of  iSISHelloTimer and a holding time of iSConfigurationTimer * iSISH-oldingMultiplier.

d) Resume sending ISH PDUs at intervals of iSConfigura-tionTimer  with  a  Suggested  ES  Configuration  Timer

value of defaultESHelloTimer.

8.4.7  Receipt of ESH PDUs -- database of endsystems

An  IS  shall  enter  an  End  system  into  the  adjacency  databasewhen an ESH PDU is received from a new data link address. If an ESH PDU is received with the same data link address as acurrent adjacency, but with a different NSAP address, the new address shall be added to the adjacency, with a separate timer.A single ESH PDU may contain more than one NSAP address. When a new data link address or NSAP address is added to theadjacency  database,  the  IS  shall  generate  an  adjacency- StateChange (Up) event on that adjacency.

The  IS  shall  set  a  timer  for  the  value  of  the  Holding  Timefield in the received ESH PDU. If another ESH PDU is not re- ceived from the ES before that timer expires, the ES shall bepurged from the database, provided that the Subnetwork Inde- pendent  Functions  associated  with  initialising  the  adjacencyhave  been  completed.  Otherwise  the  IS  shall  clear  the  adja- cency as soon as those functions are completed.

When  the  adjacency  is  cleared,  the  Subnetwork  IndependentFunctions  shall  be  informed  of  an  adjacencyStateChange (Down) event, and the adjacency can be re-used after the Sub-network Independent Functions associated with bringing down the adjacency have been completed.

8.4.8  Broadcast subnetwork constants The Intradomain IS-IS protocol exploits multicast capabilitiesfor all IS-IS protocol exchanges on broadcast subnetworks. To ensure  interoperability  all  systems  on  a  given  broadcast  sub-network must use the same multi-destination address bindings.

For  ISO  8802  subnetworks,  other  than  ISO/IEC  8802-5,  thatsupports  48  bit  MAC  addresses,  48  bit  MAC  addressing  and

ISO/IEC 10589:1992 (E)

48 the multi-destination address bindings in table 9 below shall beused. For ISO/IEC 8802-5 subnetworks 48 bit MAC addressing shallbe used. It is strongly recommended that, where possible, the multi-destination address bindings specified in table 9 be usedon ISO/IEC 8802-5 subnetworks. It is noted that some existing implementations of ISO/IEC 8802-5 interfaces make the use ofthese specific addresses impractical. On such subnetworks the multi-destination address bindings in table 10 shall be used.

NOTE 49  These  bindings  are  specified  in  the  hexadecimalrepresentation defined in ISO/IEC 10039. This notation pre- sents the octet values such that the least significant bit is thattransmitted first.

WARNING  -  The  use  of  the  alternative  multi-destinationaddresses  on  ISO/IEC  8802-5  subnets  greatly  complicates bridging with other ISO/IEC 8802 subnetworks that use theaddress bindings specified in table 9. The use of the alterna- tive ISO 8802-5 addresses in such environments is stronglydiscouraged.

9  Structure and encoding of PDUs This  clause  describes  the  PDU  formats  of  the  Intra-DomainIS-IS routeing protocol.

9.1 General encoding rules Octets  in  a  PDU  are  numbered  starting  from  1,  in  increasingorder. Bits in a octet are numbered from 1 to 8, where bit 1 is the least significant bit and is pictured on the right. When con-secutive octets are used to represent a number, the lower octet number has the most significant value. Fields  marked  Reserved  (or  simply  R)  are  transmitted  aszero, and ignored on receipt, unless otherwise noted.

Values  are  given  in  decimal.  All  numeric  fields  are  unsignedintegers, unless otherwise noted.

9.2 Encoding of network layeraddresses

Network  Layer  addresses  (NSAP  addresses,  NETs,  area  ad-dresses and Address Prefixes) are encoded in PDUs according to the preferred binary encoding specified in ISO 8348/Add.2;the entire address, taken as a whole is represented explicitly as a string of binary octets. This string is conveyed in its entiretyin the address fields of the PDUs. The rules governing the gen- eration  of  the  preferred  binary  encoding  are  described  inISO 8348/Add.2. The address so generated is encoded with the most  significant  octet  (i.e.  the  AFI)  of  the  address  being  thefirst  octet  transmitted,  and  the  more  significant  semi-octet  of each pair of semi-octets in the address is encoded in the more

Table 9 - Architectural constants for use with ISO 8802 subnetworks Multi-destination Address Binding Description

AllL1ISs 01-80-C2-00-00-14 The multi-destination address "All Level 1 Intermediate

Systems"

AllL2ISs 01-80-C2-00-00-15 The multi-destination address "All Level 2 Intermediate

Systems"

AllIntermediateSystems 09-00-2B-00-00-05 The multi-destination address "All Intermediate Systems"

used by ISO 9542

AllEndSystems 09-00-2B-00-00-04 The multi-destination address "All End Systems" used by

ISO 9542

Table 10 - Alternative multi-destination addresses for use with ISO/IEC 8802-5 subnetworks

Multi-destination Address Binding Description

AllL1ISs 03-00-00-00-01-00 The multi-destination address "All Level 1 Intermediate

Systems"

AllL2ISs 03-00-00-00-01-00 The multi-destination address "All Level 2 Intermediate

Systems"

AllIntermediateSystems 03-00-00-00-01-00 The multi-destination address "All Intermediate Systems"

used by ISO 9542

AllEndSystems 03-00-00-00-02-00 The multi-destination address "All End Systems" used by

ISO 9542

ISO/IEC 10589:1992 (E)

49 significant  semi-octet  of  each  octet  (i.e.  in  the  high  order  4bits). Thus the address /371234 is encoded as shown in fig- ure 7.

Figure 7 - Address encoding example 9.3 Encoding of SNPA addresses SNPA addresses (e.g. LAN Address) shall be encoded accord-ing to the rules specified for the particular type of subnetwork being used.  In the case of an ISO 8802 or ISO/IEC 9314 subnetwork, theSNPA  address  is  the  48-bit  MAC  address  encoded  as  a  se- quence of six octets according to the "hexadecimal representa-tion" of MAC addresses specified in ISO/IEC 10039.

NOTE 50  In this encoding the first bit of the 48-bit binaryrepresentation of the MAC address is the least significant bit of the first octet in the encoded sequence.

9.4 PDU types The types of PDUs are: 

- Level 1 LAN IS to IS Hello PDU  - Level 2 LAN IS to IS Hello PDU  - Point-to-Point IS to IS Hello PDU  - Level 1 Link State PDU - Level 2 Link State PDU - Level 1 Complete Sequence Numbers PDU - Level 2 Complete Sequence Numbers PDU - Level 1 Partial Sequence Numbers PDU - Level 2 Partial Sequence Numbers PDU These are described in the following subclauses.

9.5 Level 1 LAN IS to IS hello PDU This  PDU  is  multicast  by  Intermediate  systems  on  broadcastcircuits  to  the  multi-destination  address  AllL1ISs.    The  pur- pose of this PDU is for Intermediate systems on broadcast cir-cuits to discover the identity of other Level 1 Intermediate sys- tems on that circuit. Trailing Pad option fields are inserted tomake  PDU  Length  equal  to  at  least  maxsize  -  1  where maxsize is the maximum of 

- dataLinkBlocksize

3 7 1 1 2 1 3 4 1

No. of Octets

- originatingL1LSPBufferSize (see 8.4.2). 

- Intradomain  Routeing  Protocol  Discriminator  --  ar-chitectural constant (see table 2) - Length Indicator - Length of the fixed header in octets - Version/Protocol ID Extension - 1  - ID Length -- Length of the ID field of NSAP addressesand NETs used in this routeing domain. This field shall

take on one of the following values:

* An integer between 1 and 8, inclusive, indicating anID field of the corresponding length

* The  value  zero,  which  indicates  a  6  octet  ID  fieldlength

* The value 255, which means a null ID field (i.e. zerolength) All other values are illegal and shall not be used. - PDU Type (bits 1 through 5) - 15.

- Version - 1 - Reserved -- transmitted as zero, ignored on receipt

Intradomain Routeing Protocol Discriminator 1

Length Indicator 1

No. of Octets

Version/Protocol ID Extension 1

ID Length 1

PDU Type 1R R R Version 1 Reserved 1 Maximum Area Addresses 1

Reserved/Circuit Type 1

Source ID ID Length Holding Time 2

LAN ID ID Length + 1 PDU Length 2

Priority 1R

VARIABLE LENGTH FIELDS VARIABLE

NOTE 51  Bits 6, 7 and 8 are Reserved, which meansthey are transmitted as 0 and ignored on receipt.

ISO/IEC 10589:1992 (E)

50

- Maximum  Area  Addresses  --  number  of  area  ad-dresses  permitted  for  this  ISs  area,  as  derived  from  the

value of the System Management parameter maximum-AreaAddresses. This field shall take on of the follow- ing values:

* An integer between 1 and 254 inclusive, indicated acorresponding number of area addresses supported.

* The value zero, which is treated upon reception as ifit were equal to three, and which the IS may use if it

supports  only  a  value  of  3  for  maximumAreaAd-dresses.

- Reserved/Circuit  Type  -  Most  significant  6  bits  re-served (Transmitted as zero, ignored on receipt). Low or-

der bits (bits 1 and 2) indicate: 

* 0 - reserved value (if specified the entire PDU shallbe ignored) 

* 1 -- Level 1 only 

* 2  --  Level  2  only  (sender  is  Level  2  Intermediatesystem with manualL2OnlyMode set "True" for this

circuit, and will use this link only for Level 2 traffic) 

* 3 - both Level 1 and Level 2 (sender is Level 2 Inter-mediate  system,  and  will  use  this  link  both  for

Level 1 and Level 2 traffic)

- Source ID - the system ID of transmitting Intermediatesystem  - Holding Time - Holding Timer to be used for this Inter-mediate system  - PDU Length - Entire length of this PDU, in octets, in-cluding header - Reserved/Priority - Bit 8 reserved (Transmitted as zero,ignored on receipt). Bits 1 through 7 - priority for being

LAN  Level  1  Designated  Intermediate  System.  Highernumber has higher priority for being LAN Level 1 Des- ignated Intermediate System. Unsigned integer. - LAN ID - a field composed the system ID (1-8 octets) ofthe LAN Level 1 Designated Intermediate System, plus a

low order octet assigned by LAN Level 1 Designated In-termediate  System.  Copied  from  LAN  Level  1  Desig- nated Intermediate System's IIH PDU. - VARIABLE LENGTH FIELDS - fields of the form:

Any  codes  in  a  received  PDU  that  are  not  recognisedshall be ignored.

NOTE 52  In a LAN Level 1 IIH PDU the CircuitType shall be either 1 or 3.

CODE 1 LENGTH 1

No. of Octets

VALUE LENGTH

Currently defined codes are: 

* Area  Addresses  -  the  set  of  manualArea-Addresses of this Intermediate System.

x CODE - 1  x LENGTH - total length of the value field. x VALUE -

* Address Length - Length of Area Addressin octets.

* Area Address - Area address.

* Intermediate  System  Neighbours  -  This  optionfield can occur more than once. The set of Intermedi-

ate  systems  on  this  LAN  to  which  adjacencies  ofneighbourSystemType  "L1  Intermediate  System" exist in state "Up" or "Initialising" (i.e.  those fromwhich Level 1 IIH PDUs have been heard).

x CODE - 6  x LENGTH - total length of the value field. x VALUE -

* LAN Address - 6 octet MAC Address of In-termediate System neighbour.

* Padding - This option may occur more than once. Itis used to pad the PDU to at least maxsize - 1.

x CODE - 8. x LENGTH  -  total  length  of  the  value  field  (maybe zero).

x VALUE - LENGTH octets of arbitrary value.

* Authentication Information -- information for per-forming authentication of the originator of the PDU.

x CODE -- 10. x LENGTH -- variable from 1-254 octets

Address Length 1

Area Address Address Length

Address Length 1

Area Address Address Length

No. of Octets

LAN Address 6 LAN Address 6

No. of Octets

ISO/IEC 10589:1992 (E)

51 x VALUE --

* Authentication  Type  --  a  one  octet  identi-fier for the type of authentication to be carried

out. The following values are defined:

0 -- RESERVED 1 -- Cleartext Password 2-254 -- RESERVED 255 -- Routeing Domain private authenti-cation method

* Authentication  Value  --  determined  by  thevalue  of  the  authentication  type.  If  Cleartext

Password  as  defined  in  this  InternationalStandard  is  used,  then  the  authentication value is an octet string.

9.6 Level 2 LAN IS to IS hello PDU This  PDU  is  multicast  by  Intermediate  systems  on  broadcastcircuits  to  the  multi-destination  address  AllL2ISs.    The  pur- pose of this PDU is for Intermediate systems on broadcast cir-cuits to discover the identity of other Level 2 Intermediate sys- tems on that circuit. Trailing Pad options are inserted to makePDU Length equal to at least maxsize - 1 where

- dataLinkBlocksize - originatingL2LSPBufferSize (see 8.4.2). 

Authentication Type 1 Authentication Value VARIABLE

No. of Octets

Intradomain RouteingProtocol Discriminator 1

Length Indicator 1

No. of Octets

Version/Protocol ID Extension 1

ID Length 1

PDU Type 1R R R Version 1 Reserved 1 Maximum Area Addresses 1

Reserved/Circuit Type 1

Source ID ID Length Holding Time 2

LAN ID ID Length + 1 PDU Length 2

Priority 1R

VARIABLE LENGTH FIELDS VARIABLE

- Intradomain Routeing Protocol Discriminator - archi-tectural constant (see table 2) - Length Indicator - Length of fixed header in octets  - Version/Protocol ID Extension - 1  - ID Length -- Length of the ID field of NSAP addressesand NETs used in this routeing domain. This field shall

take on one of the following values:

* An integer between 1 and 8, inclusive, indicating anID field of the corresponding length

* The  value  zero,  which  indicates  a  6  octet  ID  fieldlength

* The value 255, which means a null ID field (i.e. zerolength) All other values are illegal and shall not be used. - PDU Type (bits 1 through 5) - 16. 

- Version - 1 - Reserved -- transmitted as zero, ignored on receipt - Maximum  Area  Addresses  --  number  of  area  ad-dresses  permitted  for  this  ISs  area,  as  derived  from  the

value of the System Management parameter maximum-AreaAddresses. This field shall take on of the follow- ing values:

* An integer between 1 and 254 inclusive, indicated acorresponding number of area addresses supported.

* The value zero, which is treated upon reception as ifit were equal to three, and which the IS may use if it

supports  only  a  value  of  3  for  maximumAreaAd-dresses.

- Reserved/Circuit  Type  -  Most  significant  6  bits  re-served (Transmitted as zero, ignored on receipt). Low or-

der bits (bits 1 and 2) indicate:

* 0 - reserved value (if specified the entire PDU shallbe ignored) 

* 1 - Level 1 only 

* 2 - Level 2 only (sender is Level 2 Intermediate Sys-tem  with  manualL2OnlyMode  set  "True"  for  this

circuit, and will use this link only for Level 2 traffic) 

* 3 - both Level 1 and Level 2 (sender is Level 2 Inter-mediate  System,  and  will  use  this  link  both  for

Level 1 and Level 2 traffic)

- Source ID - the system ID of transmitting IntermediateSystem 

NOTE 53  Bits 6, 7 and 8 are Reserved, which meansthey are transmitted as 0 and ignored on receipt.

NOTE 54  In  a  LAN  Level  2  IIH  PDU  the  CircuitType shall be either 2 or 3.

ISO/IEC 10589:1992 (E)

52

- Holding Time - Holding Timer to be used for this Inter-mediate System  - PDU Length - Entire length of this PDU, in octets, in-cluding header  - Reserved/Priority - Bit 8 reserved (Transmitted as zero,ignored on receipt). Bits 1 through 7 - priority for being

LAN  Level  2  Designated  Intermediate  System.  Highernumber has higher priority for being LAN Level 2 Des- ignated Intermediate System. Unsigned integer.

- LAN ID - a field composed the system ID (1-8 octets) ofthe LAN Level 1 Designated Intermediate System, plus a

low order octet assigned by LAN Level 1 Designated In-termediate  System.  Copied  from  LAN  Level  1  Desig- nated Intermediate System's IIH PDU.

- VARIABLE LENGTH FIELDS - fields of the form:

Any  codes  in  a  received  PDU  that  are  not  recognisedshall be ignored. Currently defined codes are:

* Area  Addresses  -  the  set  of  manualArea-Addresses of this Intermediate system.

x CODE - 1  x LENGTH - total length of the value field. x VALUE -

* Address Length - Length of area address inoctets.

* Area Address - Area address.

* Intermediate  System  Neighbours  -  This  optioncan  occur  more  than  once.  The  set  of  Intermediate

systems  on  this  LAN  to  which  adjacencies  ofneighbourSystemType  "L2  Intermediate  System" exist in state "Up" or "Initialising" (i.e.  those fromwhich Level 2 IIH PDUs have been heard).

x CODE - 6  x LENGTH - total length of the value field.

CODE 1 LENGTH 1

No. of Octets

VALUE LENGTH

Address Length 1

Area Address Address Length

Address Length 1

Area Address Address Length

No. of Octets

x VALUE - x LAN  Address - 6 octet MAC Address of Inter-mediate System neighbour

* Padding - This option may occur more than once. Itis used to pad the PDU to at least maxsize - 1.

x CODE - 8. x LENGTH  -  total  length  of  the  value  field  (maybe zero).

x VALUE - LENGTH octets of arbitrary value.

* Authentication Information -- information for per-forming authentication of the originator of the PDU.

x CODE -- 10. x LENGTH -- variable from 1-254 octets x VALUE --

* Authentication  Type  --  a  one  octet  identi-fier for the type of authentication to be carried

out. The following values are defined:

0 -- RESERVED 1 -- Cleartext Password 2-254 -- RESERVED 255 -- Routeing Domain private authenti-cation method

* Authentication  Value  --  determined  by  thevalue  of  the  authentication  type.  If  Cleartext

Password  as  defined  in  this  InternationalStandard  is  used,  then  the  authentication value is an octet string.

9.7 Point-to-point IS to IS hello PDU This  PDU  is  transmitted  by  Intermediate  systems  on  non-broadcast circuits, after receiving an ISH PDU from the neigh- bour system. Its purpose is to determine whether the neighbouris a Level 1 or a Level 2 Intermediate System. Trailing pad op- tions  are  inserted  to  make  PDU  Length  equal  to  at  leastmaxsize - 1 where maxsize is the maximum of 

- dataLinkBlocksize - originatingL1LSPBufferSize 

LAN Address 6 LAN Address 6

No. of Octets

Authentication Type 1 Authentication Value VARIABLE

No. of Octets

ISO/IEC 10589:1992 (E)

53 - originatingL2LSPBufferSize (see 8.2.3).

- Intradomain  Routeing  Protocol  Discriminator  --  ar-chitectural constant (see table 2) - Length Indicator - Length of fixed header in octets  - Version/Protocol ID Extension - 1  - ID Length -- Length of the ID field of NSAP addressesand NETs used in this routeing domain. This field shall

take on one of the following values:

* An integer between 1 and 8, inclusive, indicating anID field of the corresponding length

* The  value  zero,  which  indicates  a  6  octet  ID  fieldlength

* The value 255, which means a null ID field (i.e. zerolength) All other values are illegal and shall not be used. - PDU Type -- (bits 1 through 5) - 17.

- Version - 1 - Reserved -- transmitted as zero, ignored on receipt - Maximum  Area  Addresses  --  number  of  area  ad-dresses  permitted  for  this  ISs  area,  as  derived  from  the

value of the System Management parameter maximum-AreaAddresses. This field shall take on of the follow- ing values:

Intradomain RouteingProtocol Discriminator 1

Length Indicator 1

No. of Octets

Version/Protocol ID Extension 1

ID Length 1

PDU Type 1R R R Version 1 Reserved 1 Maximum Area Addresses 1

Reserved/Circuit Type 1

Source ID ID Length Holding Time 2

Local Circuit ID 1

PDU Length 2

VARIABLE LENGTH FIELDS VARIABLE

NOTE 55  Bits 6, 7 and 8 are Reserved, which meansthey are transmitted as 0 and ignored on receipt.

* An integer between 1 and 254 inclusive, indicated acorresponding number of area addresses supported.

* The value zero, which is treated upon reception as ifit were equal to three, and which the IS may use if it

supports  only  a  value  of  3  for  maximumAreaAd-dresses.

- Reserved/Circuit  Type  -  Most  significant  6  bits  re-served (Transmitted as zero, ignored on receipt). Low or-

der bits (bits 1 and 2) indicate:

* 0 - reserved value (if specified the entire PDU shallbe ignored) 

* 1 - Level 1 only

* 2 - Level 2 only (sender is Level 2 Intermediate sys-tem  with  manualL2OnlyMode  set  "True"  for  this

circuit, and will use this link only for Level 2 traffic) 

* 3 - both Level 1 and Level 2 (sender is Level 2 Inter-mediate system and will use this link both for Level 1

and Level 2 traffic) - Source ID - the system ID of transmitting Intermediatesystem 

- Holding Time - Holding Timer to be used for this Inter-mediate system  - PDU Length - Entire length of this PDU, in octets, in-cluding header  - Local Circuit ID - 1 octet unique ID assigned to this cir-cuit when it is created by this Intermediate system. - VARIABLE LENGTH FIELDS - fields of the form:

Any  codes  in  a  received  PDU  that  are  not  recognisedshall be ignored. Currently defined codes are:

* Area  Addresses  -  the  set  of  manualArea-Addresses of this Intermediate system

x CODE - 1  x LENGTH - total length of the value field.

CODE 1 LENGTH 1

No. of Octets

VALUE LENGTH

ISO/IEC 10589:1992 (E)

54

x VALUE -

* Address Length - Length of area address inoctets.

* Area Address - Area address.

* Padding - This option may occur more than once. Itis used to pad the PDU to at least maxsize - 1.

x CODE - 8. x LENGTH  -  total  length  of  the  value  field  (maybe zero).

x VALUE - LENGTH octets of arbitrary value.

* Authentication Information -- information for per-forming authentication of the originator of the PDU.

x CODE -- 10. x LENGTH -- variable from 1-254 octets x VALUE --

* Authentication  Type  --  a  one  octet  identi-fier for the type of authentication to be carried

out. The following values are defined:

0 -- RESERVED 1 -- Cleartext Password 2-254 -- RESERVED 255 -- Routeing Domain private authenti-cation method

* Authentication  Value  --  determined  by  thevalue  of  the  authentication  type.  If  Cleartext

Password  as  defined  in  this  InternationalStandard  is  used,  then  the  authentication value is an octet string.

9.8 Level 1 link state PDU Level 1 Link State PDUs are generated by Level 1 and Level 2Intermediate systems, and propagated throughout an area. The contents of the Level 1 Link State PDU indicates the state ofthe  adjacencies  to  neighbour  Intermediate  Systems,  or

Address Length 1

Area Address Address Length

Address Length 1

Area Address Address Length

No. of Octets

Authentication Type 1 Authentication Value VARIABLE

No. of Octets

pseudonodes, and End systems of the Intermediate system thatoriginally generated the PDU.

- Intradomain Routeing Protocol Discriminator - archi-tectural constant (see table 2) - Length Indicator - Length if fixed header in octets  - Version/Protocol ID Extension -- 1 - ID Length -- Length of the ID field of NSAP addressesand NETs used in this routeing domain. This field shall

take on one of the following values:

* An integer between 1 and 8, inclusive, indicating anID field of the corresponding length

* The  value  zero,  which  indicates  a  6  octet  ID  fieldlength

* The value 255, which means a null ID field (i.e. zerolength)

All other values are illegal and shall not be used. - PDU Type (bits 1 through 5) - 18.

- Version - 1  - Reserved -- transmitted as zero, ignored on receipt  - Maximum  Area  Addresses  --  number  of  area  ad-dresses  permitted  for  this  ISs  area,  as  derived  from  the

value of the System Management parameter maximum-AreaAddresses. This field shall take on of the follow- ing values:

Intradomain Routeing Protocol Discriminator 1

Length Indicator 1

No. of Octets

Version/Protocol ID Extension 1

ID Length 1

PDU Type 1R R R Version 1 Reserved 1 Maximum Area Addresses 1

PDU Length 2 Remaining Lifetime 2

LSP ID ID Length + 2

P 1

Sequence Number 4

VARIABLE LENGTH FIELDS VARIABLE

LSPDBOL IS Type

Checksum 2 ATT

NOTE 56  Bits 6, 7 and 8 are Reserved, which meansthey are transmitted as 0 and ignored on receipt.

ISO/IEC 10589:1992 (E)

55

* An integer between 1 and 254 inclusive, indicated acorresponding number of area addresses supported.

* The value zero, which is treated upon reception as ifit were equal to three, and which the IS may use if it

supports  only  a  value  of  3  for  maximumAreaAd-dresses.

- PDU Length - Entire Length of this PDU, in octets, in-cluding header. - Remaining  Lifetime  -  Number  of  seconds  before  LSPconsidered expired  - LSP ID - the system ID of the source of the Link StatePDU. It is structured as follows:

- Sequence Number - sequence number of LSP  - Checksum  -  Checksum  of  contents  of  LSP  fromSource  ID to  end. Checksum  is  computed as  described

in 7.3.11.

- P/ATT/LSPDBOL/IS Type

* P - Bit 8, indicates when set that the issuing Interme-diate  System  supports  the  Partition  Repair  optional

function.

* ATT - Bits 7-4 indicate, when set, that the issuing In-termediate System is `attached' to other areas using:

x Bit 4 - the Default Metric x Bit 5 - the Delay Metric x Bit 6 - the Expense Metric x Bit 7 - the Error Metric.

* LSPDBOL - Bit 3 - A value of 0 indicates no LSPDatabase Overload, and a value of 1 indicates that the

LSP Database is Overloaded. An LSP with this bit setwill not be used by any decision process to calculate routes to another IS through the originating system.

* IS Type - Bits 1 and 2 indicate the type of Interme-diate System - One of the following values: 

x 0 - Unused value x 1 - ( i.e. bit 1 set) Level 1 Intermediate system x 2 - Unused value  x 3  -  (i.e.  bits  1  and  2  set)  Level  2  Intermediatesystem.

Source ID ID Length Pseudonode ID 1

No. of Octets

LSP Number 1

- VARIABLE LENGTH FIELDS - fields of the form:

Any codes in a received LSP that are not recognised areignored and passed through unchanged. Currently defined codes are:

* Area  Addresses  -  the  set  of  manualArea-Addresses  of  this  Intermediate  system.  For  non-

pseudonode LSPs this option shall always be presentin the LSP with LSP number zero, and shall never be present in an LSP with non-zero LSP number. It shallappear  before  any  Intermediate  System  Neigh- bours  or  Prefix  Neighbours  options.  This  optionshall never be present in pseudonode LSPs. 

x CODE - 1  x LENGTH - total length of the value field. x VALUE -

* Address Length - Length of area address inoctets.

* Area Address - Area address.

* Intermediate  System  Neighbours  -  Intermediatesystem and pseudonode neighbours.

This is permitted to appear more than once, and in anLSP  with  any  LSP  number.  However,  all  the  Inter- mediate System Neighbours options shall precedethe End System Neighbours options. i.e. they shall appear before any End System Neighbours optionsin  the  same  LSP  and  no  End  System  Neighbours options shall appear in an LSP with lower LSP num-ber.

x CODE - 2. x LENGTH - 1 plus a multiple of (IDLength+5).

CODE 1 LENGTH 1

No. of Octets

VALUE LENGTH

Address Length 1

Area Address Address Length

Address Length 1

Area Address Address Length

No. of Octets

ISO/IEC 10589:1992 (E)

56

x VALUE -

* Virtual  Flag is a Boolean. If equal to 1, thisindicates  the  link  is  really  a  Level  2  path  to

repair an area partition. (Level 1 IntermediateSystems would always report this octet as 0 to all neighbours). 

* Default  Metric  is  the  value  of  the  defaultmetric for the link to the listed neighbour. Bit

8  of  this  field  is  reserved.  Bit  7  of  this  field(marked  I/E)  indicates  the  metric  type,  and shall contain the value "0",  indicating an In-ternal metric.

* Delay Metric is the value of the delay metricfor the link to the listed neighbour. If this IS

does not support this metric it shall set bit "S"to 1 to indicate that the metric is unsupported. Bit  7  of  this  field  (marked  I/E)  indicates  themetric  type,  and  shall  contain  the  value  "0", indicating an Internal metric.

* Expense  Metric is the  value  of  the expensemetric for the link to the listed neighbour. If

this IS does not support this metric it shall setbit "S" to 1 to indicate that the metric is un- supported. Bit 7 of this field (marked I/E) in-dicates the metric type, and shall contain the value "0", indicating an Internal metric.

* Error  Metric  is the value  of  the  error metricfor the link to the listed neighbour. If this IS

does not support this metric it shall set bit "S"to 1 to indicate that the metric is unsupported. Bit  7  of  this  field  (marked  I/E)  indicates  themetric  type,  and  shall  contain  the  value  "0", indicating an Internal metric.

* Neighbour  ID.  For  Intermediate  Systemneighbours,  neighbour  ID  field  consists  of

the  neighbour  system's  ID,  followed  by  anoctet  containing  the  value  zero.  For  pseudo- node  neighbours,  the  first  ID  Length  octetsis  the  LAN  Level  1  Designated  Intermediate System's ID, and the  last octet  is a  non-zeroquantity defined by the LAN Level 1 Desig- nated Intermediate System. 

No. of Octets Virtual Flag 1

Default Metric 1

Neighbour ID ID Length + 1

Delay Metric 1 Expense Metric 1

Error Metric 1

I/E0 I/ES I/ES I/ES

Default Metric 1 Neighbour ID ID Length + 1

Delay Metric 1 Expense Metric 1

Error Metric 1

I/E0 I/ES I/ES I/ES

* End System Neighbours - End system neighbours 

This may appear more than once, and in an LSP withany LSP number. See the description of the Interme-

diate  System  Neighbours  option  above  for  therelative  ordering  constraints.  Only  adjacencies  with identical costs can appear in the same list. x CODE - 3.  x LENGTH - 4, plus a multiple of IDLength. x VALUE -

* Default  Metric  is  the  value  of  the  defaultmetric for the link to each of the listed neigh-

bours.  Bit  8  of  this  field  is  reserved.  Bit  7(marked  I/E)  indicates  the  metric  type,  and may be set to zero indicating an internal met-ric, or may be set to 1 indicating an external metric.

* Delay Metric is the value of the delay metricfor the link to each of the listed neighbours. If

this IS does not support this metric it shall setthe bit "S"  to 1 to indicate  that  the metric is unsupported. Bit 7 (marked I/E) indicates themetric type, and may be set to zero indicating an internal metric, or may be set to 1 indicat-ing an external metric.

* Expense  Metric  is  the value  of the  expensemetric for the link to each of the listed neigh-

bours. If this IS does not support this metric itshall  set  the  bit  "S"  to  1  to  indicate  that  the metric is unsupported. Bit 7 (marked I/E) in-dicates the metric type, and may be set to zero indicating an internal metric, or may be set to1 indicating an external metric.

* Error  Metric  is  the  value  of  the  error  metricfor the link to each of the listed neighbour.  If

this IS does not support this metric it shall setthe bit "S"  to 1 to indicate  that  the metric is unsupported. Bit 7 (marked I/E) indicates themetric type, and may be set to zero indicating an internal metric, or may be set to 1 indicat-ing an external metric.

* Neighbour ID - system ID of End systemneighbour.

* Authentication Information -- information for per-forming authentication of the originator of the PDU.

x CODE -- 10. x LENGTH -- variable from 1-254 octets

Neighbour ID ID Length

No. of Octets Default Metric 1

Neighbour ID ID Length

Delay Metric 1 Expense Metric 1

Error Metric 1

I/E0 I/ES I/ES I/ES

ISO/IEC 10589:1992 (E)

57 x VALUE --

* Authentication  Type  --  a  one  octet  identi-fier for the type of authentication to be carried

out. The following values are defined:

0 -- RESERVED 1 -- Cleartext Password 2-254 -- RESERVED 255 -- Routeing Domain private authenti-cation method

* Authentication  Value  --  determined  by  thevalue  of  the  authentication  type.  If  Cleartext

Password  as  defined  in  this  InternationalStandard  is  used,  then  the  authentication value is an octet string.

9.9 Level 2 link state PDU Level 2 Link State PDUs are generated by Level 2 Intermedi-ate  systems,  and  propagated  throughout  the  level  2  domain. The contents of the Level 2 Link State PDU indicates the stateof the adjacencies to neighbour Level 2 Intermediate Systems, or pseudonodes, and to reachable address prefixes of the Inter-mediate system that originally generated the PDU.

- Intradomain Routeing Protocol Discriminator - archi-tectural constant 

Authentication Type 1 Authentication Value VARIABLE

No. of Octets

Intradomain Routeing Protocol Discriminator 1

Length Indicator 1

No. of Octets

Version/Protocol ID Extension 1

ID Length 1

PDU Type 1R R R Version 1 Reserved 1 Maximum Area Addresses 1

PDU Length 2 Remaining Lifetime 2

LSP ID ID Length + 2

P 1

Sequence Number 4

VARIABLE LENGTH FIELDS VARIABLE

LSPDBOL IS Type Checksum 2 ATT

- Length Indicator - Length of fixed header in octets - Version/Protocol ID Extension - 1 - ID Length -- Length of the ID field of NSAP addressesand NETs used in this routeing domain. This field shall

take on one of the following values:

* An integer between 1 and 8, inclusive, indicating anID field of the corresponding length

* The  value  zero,  which  indicates  a  6  octet  ID  fieldlength

* The value 255, which means a null ID field (i.e. zerolength) All other values are illegal and shall not be used. - PDU Type (bits 1 through 5) - 20. 

- Version - 1  - Reserved -- transmitted as zero, ignored on receipt  - Maximum  Area  Addresses  --  number  of  area  ad-dresses  permitted  for  this  ISs  area,  as  derived  from  the

value of the System Management parameter maximum-AreaAddresses. This field shall take on of the follow- ing values:

* An integer between 1 and 254 inclusive, indicated acorresponding number of area addresses supported.

* The value zero, which is treated upon reception as ifit were equal to three, and which the IS may use if it

supports  only  a  value  of  3  for  maximumAreaAd-dresses.

- PDU Length - Entire Length of this PDU, in octets, in-cluding header. - Remaining  Lifetime  -  Number  of  seconds  before  LSPconsidered expired  - LSP ID - the system ID of the source of the Link StatePDU. It is structured as follows:

- Sequence Number - sequence number of LSP  - Checksum  -  Checksum  of  contents  of  LSP  fromSource  ID  to end.  Checksum  is  computed  as  described

in 7.3.11. - P/ATT/LSPDBOL/IS Type

* P - Bit 8, indicates when set that the issuing Interme-diate  System  supports  the  Partition  Repair  optional

function.

NOTE 57  Bits 6, 7 and 8 are Reserved, which meansthey are transmitted as 0 and ignored on receipt.

Source ID ID Length Pseudonode ID 1

No. of Octets

LSP Number 1

ISO/IEC 10589:1992 (E)

58

* ATT - Bits 7-4 indicate, when set, that the issuing In-termediate System is `attached' to other areas using:

x Bit 4 - the Default Metric x Bit 5 - the Delay Metric x Bit 6 - the Expense Metric x Bit 7 - the Error Metric.

* LSPDBOL - Bit 3 - A value of 0 indicates no LSPDatabase Overload, and a value of 1 indicates that the

LSP Database is Overloaded. An LSP with this bit setwill not be used by any decision process to calculate routes to another IS through the originating system.

* IS Type - Bits 1 and 2 indicate the type of Interme-diate System - One of the following values: 

x 0 - Unused value x 1 - ( i.e. bit 1 set) Level 1 Intermediate system x 2 - Unused value  x 3  -  (i.e.  bits  1  and  2  set)  Level  2  Intermediatesystem.

- VARIABLE LENGTH FIELDS - fields of the form:

Any codes in a received LSP that are not recognised areignored and passed through unchanged. Currently defined codes are:

* Area  Addresses  -  the  set  of  partitionArea-Addresses of this Intermediate system, if the system

supports  partition  repair,  otherwise  the  set  ofareaAddresses  of  the  IS.    For  non-pseudonode LSPs this option shall always be present in the LSPwith LSP number zero, and shall never be present in an  LSP  with  non-zero  LSP  number.  It  shall  appearbefore  any  Intermediate  System  Neighbours  or Prefix  Neighbours  options.  This  option  shall  neverbe present in pseudonode LSPs. 

x CODE - 1  x LENGTH - total length of the value field. x VALUE -

NOTE 58  In  a  Level  2  Link  State  PDU,  IS  Typeshall be 3.

CODE 1 LENGTH 1

No. of Octets

VALUE LENGTH

Address Length 1

Area Address Address Length

Address Length 1

Area Address Address Length

No. of Octets

* Address Length - Length of area address inoctets.

* Area Address - Area address.

* Partition  Designated  Level  2  Intermediate  Sys-tem - ID of Designated Level 2 Intermediate System

for the partition. For non-pseudonode LSPs issued byIntermediate Systems which support the partition re- pair optional function this option shall always be pre-sent  in  the  LSP  with  LSP  number  zero,  and  shall never be present in an LSP with non-zero LSP num-ber. It shall appear before any Intermediate System Neighbours or Prefix Neighbours options. This op-tion shall never be present in pseudonode LSPs.

x CODE - 4. x LENGTH - IDLength x VALUE  -  systemID  of  Partition  DesignatedLevel 2 Intermediate System for the partition.

* Intermediate  System  Neighbours  -  Intermediatesystem and pseudonode neighbours.

This is permitted to appear more than once, and in anLSP  with  any  LSP  number.  However,  all  the  Inter- mediate System Neighbours options shall precedethe Prefix Neighbours options. i.e. they shall appear before any Prefix Neighbour options in the same LSPand  no  Prefix  Neighbour  options  shall  appear  in  an LSP with lower LSP number. x CODE - 2. x LENGTH - 1 plus a multiple of (IDLength+5). x VALUE -

* Virtual  Flag is a Boolean. If equal to 1, thisindicates  the  link  is  really  a  Level  2  path  to

repair an area partition. (Level 1 IntermediateSystems would always report this octet as 0 to all neighbours). 

* Default  Metric  is  the  value  of  the  defaultmetric for the link to the listed neighbour. Bit

8  of this field is reserved. Bit 7 of this field(marked  I/E)  indicates  the  metric  type,  and

No. of Octets Virtual Flag 1

Default Metric 1

Neighbour ID ID Length + 1

Delay Metric 1 Expense Metric 1

Error Metric 1

I/E0 I/ES I/ES I/ES

Default Metric 1 Neighbour ID ID Length + 1

Delay Metric 1 Expense Metric 1

Error Metric 1

I/E0 I/ES I/ES I/ES

ISO/IEC 10589:1992 (E)

59 shall contain the value "0",  indicating an In-ternal metric.

* Delay Metric is the value of the delay metricfor the link to the listed neighbour.  If this IS

does not support this metric it shall set bit "S"to 1 to indicate that the metric is unsupported. Bit  7  of  this  field  (marked  I/E)  indicates  themetric  type,  and  shall  contain  the  value  "0", indicating an Internal metric.

* Expense  Metric is the  value  of  the expensemetric for the link to the listed neighbour.  If

this IS does not support this metric it shall setbit "S" to 1 to indicate that the metric is un- supported. Bit 7 of this field (marked I/E) in-dicates the metric type, and shall contain the value "0", indicating an Internal metric.

* Error  Metric  is the value  of  the  error metricfor the link to the listed neighbour.  If this IS

does not support this metric it shall set bit "S"to 1 to indicate that the metric is unsupported. Bit  7  of  this  field  (marked  I/E)  indicates  themetric  type,  and  shall  contain  the  value  "0", indicating an Internal metric.

* Neighbour  ID.  For  Intermediate  Systemneighbours, the first ID Length octets are the

neighbour's system ID, and the last octet is 0.For  pseudonode  neighbours,  the  first  ID Length octets is the LAN Level 1 DesignatedIntermediate System's ID, and the last octet is a  non-zero  quantity  defined  by  the  LANLevel 1 Designated Intermediate System. 

* Prefix Neighbours - reachable address prefix neigh-bours 

This may appear more than once, and in an LSP withany LSP number. See the description of the Interme- diate  System  Neighbours  option  above  for  therelative  ordering  constraints.  Only  adjacencies  with identical costs can appear in the same list. x CODE - 5.  x LENGTH - Total length of the VALUE field. x VALUE -

* Default  Metric  is  the  value  of  the  defaultmetric for the link to each of the listed neigh-

bours.  Bit  8  of  this  field  is  reserved.  Bit  7(marked  I/E)  indicates  the  metric  type,  and may be set to zero indicating an internal met-

Address Prefix Length 1

Address Prefix

e'Address Prefix Length /2u` Address Prefix Length 1

Address Prefix

No. of Octets

e'Address Prefix Length /2u` Default Metric 1

Delay Metric 1 Expense Metric 1

Error Metric 1

I/E0 I/ES I/ES I/ES

ric, or may be set to 1 indicating an externalmetric.

* Delay Metric is the value of the delay metricfor  the  link  to  each  of  the  listed  neighbours. 

If this IS does not support this metric it shallset the bit "S" to 1 to indicate that the metric is  unsupported.  Bit  7  (marked  I/E)  indicatesthe metric type, and may be set to zero indi- cating  an  internal  metric,  or  may  be  set  to  1indicating an external metric.

* Expense  Metric  is  the value  of the  expensemetric for the link to each of the listed neigh-

bours.  If this IS does not support this metricit shall set the bit "S" to 1 to indicate that the metric is unsupported. Bit 7 (marked I/E) in-dicates the metric type, and may be set to zero indicating an internal metric, or may be set to1 indicating an external metric.

* Error  Metric  is  the  value  of  the  error  metricfor the link to each of the listed neighbour.  If

this IS does not support this metric it shall setthe bit "S"  to 1 to indicate  that  the metric is unsupported. Bit 7 (marked I/E) indicates themetric type, and may be set to zero indicating an internal metric, or may be set to 1 indicat-ing an external metric.

* Address  Prefix  Length  is  the  length  insemi-octets of the following prefix. A length

of  zero  indicates  a  prefix  that  matches  allNSAPs.

* Address Prefix is a reachable address prefixencoded as described in 7.1.6. If the length in

semi-octets is odd, the prefix is padded out toan  integral  number  of  octets  with  a  trailing zero semi-octet. Note  that  the  area  addresses  listed  in  the  Area  Ad-dresses option field of Level 2 Link State PDU with LSP number zero, are understood to be reachable ad-dress  neighbours  with  cost  zero.  They  are  not  listed separately in the Prefix Neighbours options.

* Authentication Information -- information for per-forming authentication of the originator of the PDU.

x CODE -- 10. x LENGTH -- variable from 1-254 octets x VALUE --

* Authentication  Type  --  a  one  octet  identi-fier for the type of authentication to be carried

out. The following values are defined:

0 -- RESERVED 1 -- Cleartext Password 2-254 -- RESERVED 255 -- Routeing Domain private authenti-cation method

Authentication Type 1 Authentication Value VARIABLE

No. of Octets

ISO/IEC 10589:1992 (E)

60

* Authentication  Value  --  determined  by  thevalue  of  the  authentication  type.  If  Cleartext

Password  as  defined  in  this  InternationalStandard  is  used,  then  the  authentication value is an octet string.

9.10 Level 1 complete sequencenumbers PDU

- Intradomain Routeing Protocol Discriminator - archi-tectural constant (see table 2) - Length Indicator - Length of fixed header in octets - Version/Protocol ID Extension - 1  - ID Length -- Length of the ID field of NSAP addressesand NETs used in this routeing domain. This field shall

take on one of the following values:

* An integer between 1 and 8, inclusive, indicating anID field of the corresponding length

* The  value  zero,  which  indicates  a  6  octet  ID  fieldlength

* The value 255, which means a null ID field (i.e. zerolength) All other values are illegal and shall not be used. - PDU Type (bits 1 through 5) - 24.

- Version - 1  - Reserved -- transmitted as zero, ignored on receipt  - Maximum  Area  Addresses  --  number  of  area  ad-dresses  permitted  for  this  ISs  area,  as  derived  from  the

Intradomain Routeing Protocol Discriminator 1

Length Indicator 1

No. of Octets

Version/Protocol ID Extension 1

ID Length 1

PDU Type 1R R R Version 1 Reserved 1 Maximum Area Addresses 1

PDU Length 2

Source ID ID Length + 1 Start LSP ID ID Length + 2

End LSP ID ID Length + 2

VARIABLE LENGTH FIELDS VARIABLE

NOTE 59  Bits 6, 7 and 8 are Reserved, which meansthey are transmitted as 0 and ignored on receipt.

value of the System Management parameter maximum-AreaAddresses. This field shall take on of the follow- ing values:

* An integer between 1 and 254 inclusive, indicated acorresponding number of area addresses supported.

* The value zero, which is treated upon reception as ifit were equal to three, and which the IS may use if it

supports  only  a  value  of  3  for  maximumAreaAd-dresses.

- PDU Length - Entire Length of this PDU, in octets, in-cluding header  - Source ID - the system ID of Intermediate System (withzero Circuit ID) generating this Sequence Numbers PDU. - Start  LSP  ID  -  the  LSP  ID  of  first  LSP  in  the  rangecovered by this Complete Sequence Numbers PDU. - End LSP ID - the LSP ID of last LSP in the range cov-ered by this Complete Sequence Numbers PDU. - VARIABLE LENGTH FIELDS - fields of the form:

Any  codes  in  a  received  CSNP  that  are  not  recognisedare ignored. Currently defined codes are:

* LSP Entries - This may appear more than once. Theoption fields, if they appear more than once, shall ap-

pear sorted into ascending LSPID order. x CODE - 9 x LENGTH - total length of the value field. x VALUE - a list of LSP entries of the form:

* Remaining  Lifetime  -  Remaining  Lifetimeof LSP.

* LSP ID - system ID of the LSP to which thisentry refers.

CODE 1 LENGTH 1

No. of Octets

VALUE LENGTH

LSP Sequence Number 4

Checksum

No. of Octets Remaining Lifetime 2

LSP ID ID Length + 2

2

LSP Sequence Number 4

Checksum

Remaining Lifetime 2

LSP ID ID Length + 2

2

ISO/IEC 10589:1992 (E)

61

* LSP  Sequence  Number  -  Sequence  num-ber of LSP.

* Checksum - Checksum reported in LSP. The entries shall be sorted into ascending LSPIDorder (the LSP number octet of the LSPID is the

least significant octet).

* Authentication Information -- information for per-forming authentication of the originator of the PDU.

x CODE -- 10. x LENGTH -- variable from 1-254 octets x VALUE --

* Authentication  Type  --  a  one  octet  identi-fier for the type of authentication to be carried

out. The following values are defined:

0 -- RESERVED 1 -- Cleartext Password 2-254 -- RESERVED 255 -- Routeing Domain private authenti-cation method

* Authentication  Value  --  determined  by  thevalue  of  the  authentication  type.  If  Cleartext

Password  as  defined  in  this  InternationalStandard  is  used,  then  the  authentication value is an octet string.

Authentication Type 1 Authentication Value VARIABLE

No. of Octets

9.11 Level 2 complete sequencenumbers PDU

- Intradomain Routeing Protocol Discriminator - archi-tectural constant (see table 2) - Length Indicator - Length of fixed header in octets  - Version/Protocol ID Extension - 1 - ID Length -- Length of the ID field of NSAP addressesand NETs used in this routeing domain. This field shall

take on one of the following values:

* An integer between 1 and 8, inclusive, indicating anID field of the corresponding length

* The  value  zero,  which  indicates  a  6  octet  ID  fieldlength

* The value 255, which means a null ID field (i.e. zerolength) All other values are illegal and shall not be used. - PDU Type (bits 1 through 5) - 25.

- Version - 1  - Reserved -- transmitted as zero, ignored on receipt  - Maximum  Area  Addresses  --  number  of  area  ad-dresses  permitted  for  this  ISs  area,  as  derived  from  the

value of the System Management parameter maximum-AreaAddresses. This field shall take on of the follow- ing values:

Intradomain Routeing Protocol Discriminator 1

Length Indicator 1

No. of Octets

Version/Protocol ID Extension 1

ID Length 1

PDU Type 1R R R Version 1 Reserved 1 Maximum Area Addresses 1

PDU Length 2

Source ID ID Length + 1 Start LSP ID ID Length + 2

End LSP ID ID Length + 2

VARIABLE LENGTH FIELDS VARIABLE

NOTE 60  Bits 6, 7 and 8 are Reserved, which meansthey are transmitted as 0 and ignored on receipt.

ISO/IEC 10589:1992 (E)

62

* An integer between 1 and 254 inclusive, indicated acorresponding number of area addresses supported.

* The value zero, which is treated upon reception as ifit were equal to three, and which the IS may use if it

supports  only  a  value  of  3  for  maximumAreaAd-dresses.

- PDU Length - Entire Length of this PDU, in octets, in-cluding header  - Source ID - the system ID of Intermediate System (withzero Circuit ID) generating this Sequence Numbers PDU. - Start  LSP  ID  -  the  LSP  ID  of  first  LSP  in  the  rangecovered by this Complete Sequence Numbers PDU. - End LSP ID - the LSP ID of last LSP in the range cov-ered by this Complete Sequence Numbers PDU. - VARIABLE LENGTH FIELDS - fields of the form:

Any  codes  in  a  received  CSNP  that  are  not  recognisedare ignored. Currently defined codes are:

* LSP Entries - this may appear more than once. Theoption fields, if they appear more than once, shall ap-

pear sorted into ascending LSPID order. x CODE - 9 x LENGTH - total length of the value field. x VALUE - a list of LSP entries of the form:

* Remaining  Lifetime  -  Remaining  Lifetimeof LSP.

* LSP ID - the system ID of the LSP to whichthis entry refers.

* LSP  Sequence  Number  -  Sequence  num-ber of LSP.

CODE 1 LENGTH 1

No. of Octets

VALUE LENGTH

LSP Sequence Number 4

Checksum

No. of Octets Remaining Lifetime 2

LSP ID

2

LSP Sequence Number 4

Checksum

Remaining Lifetime 2

LSP ID ID Length + 2

2

* Checksum - Checksum reported in LSP. The entries shall be sorted into ascending LSPIDorder (the LSP number octet of the LSPID is the

least significant octet).

* Authentication Information -- information for per-forming authentication of the originator of the PDU.

x CODE -- 10. x LENGTH -- variable from 1-254 octets x VALUE --

* Authentication  Type  --  a  one  octet  identi-fier for the type of authentication to be carried

out. The following values are defined:

0 -- RESERVED 1 -- Cleartext Password 2-254 -- RESERVED 255 -- Routeing Domain private authenti-cation method

* Authentication  Value  --  determined  by  thevalue  of  the  authentication  type.  If  Cleartext

Password  as  defined  in  this  InternationalStandard  is  used,  then  the  authentication value is an octet string.

9.12 Level 1 partial sequence numbersPDU

- Intradomain Routeing Protocol Discriminator - archi-tectural constant (see table 2)

Authentication Type 1 Authentication Value VARIABLE

No. of Octets

Intradomain Routeing Protocol Discriminator 1

Length Indicator 1

No. of Octets

Version/Protocol ID Extension 1

ID Length 1

PDU Type 1R R R Version 1 Reserved 1 Maximum Area Addresses 1

PDU Length 2

Source ID ID Length + 1

VARIABLE LENGTH FIELDS VARIABLE

ISO/IEC 10589:1992 (E)

63 - Length Indicator - Length of fixed header in octets - Version/Protocol ID Extension - 1 - ID Length -- Length of the ID field of NSAP addressesand NETs used in this routeing domain. This field shall

take on one of the following values:

* An integer between 1 and 8, inclusive, indicating anID field of the corresponding length

* The  value  zero,  which  indicates  a  6  octet  ID  fieldlength

* The value 255, which means a null ID field (i.e. zerolength) All other values are illegal and shall not be used. - PDU Type (bits 1 through 5) - 26.

- Version - 1  - Reserved -- transmitted as zero, ignored on receipt  - Maximum  Area  Addresses  --  number  of  area  ad-dresses  permitted  for  this  ISs  area,  as  derived  from  the

value of the System Management parameter maximum-AreaAddresses. This field shall take on of the follow- ing values:

* An integer between 1 and 254 inclusive, indicated acorresponding number of area addresses supported.

* The value zero, which is treated upon reception as ifit were equal to three, and which the IS may use if it

supports  only  a  value  of  3  for  maximumAreaAd-dresses.

- PDU Length - Entire Length of this PDU, in octets, in-cluding header  - Source ID - the system ID of Intermediate system (withzero Circuit ID) generating this Sequence Numbers PDU. - VARIABLE LENGTH FIELDS - fields of the form:

Any codes in a received PSNP that are not recognised areignored. Currently defined codes are:

* LSP Entries - this may appear more than once. Theoption fields, if they appear more than once, shall ap-

pear sorted into ascending LSPID order. x CODE - 9 x LENGTH - total length of the value field.

NOTE 61  Bits 6, 7 and 8 are Reserved, which meansthey are transmitted as 0 and ignored on receipt.

CODE 1 LENGTH 1

No. of Octets

VALUE LENGTH

x VALUE - a list of LSP entries of the form:

* Remaining  Lifetime  -  Remaining  Lifetimeof LSP.

* LSP ID - the system ID of the LSP to whichthis entry refers.

* LSP  Sequence  Number  -  Sequence  num-ber of LSP.

* Checksum - Checksum reported in LSP. The entries shall be sorted into ascending LSPIDorder (the LSP number octet of the LSPID is the

least significant octet).

* Authentication Information -- information for per-forming authentication of the originator of the PDU.

x CODE -- 10. x LENGTH -- variable from 1-254 octets x VALUE --

* Authentication  Type  --  a  one  octet  identi-fier for the type of authentication to be carried

out. The following values are defined:

0 -- RESERVED 1 -- Cleartext Password 2-254 -- RESERVED 255 -- Routeing Domain private authenti-cation method

* Authentication  Value  --  determined  by  thevalue  of  the  authentication  type.  If  Cleartext

Password  as  defined  in  this  InternationalStandard  is  used,  then  the  authentication value is an octet string.

LSP Sequence Number 4

Checksum

No. of Octets Remaining Lifetime 2

LSP ID ID Length + 2

2

LSP Sequence Number 4

Checksum

Remaining Lifetime 2

LSP ID ID Length + 2

2

Authentication Type 1 Authentication Value VARIABLE

No. of Octets

ISO/IEC 10589:1992 (E)

64 9.13 Level 2 partial sequence numbersPDU

- Intradomain Routeing Protocol Discriminator - archi-tectural constant (see table 2) - Length Indicator - Length of fixed header in octets  - Version/Protocol ID Extension - 1  - ID Length -- Length of the ID field of NSAP addressesand NETs used in this routeing domain. This field shall

take on one of the following values:

* An integer between 1 and 8, inclusive, indicating anID field of the corresponding length

* The  value  zero,  which  indicates  a  6  octet  ID  fieldlength

* The value 255, which means a null ID field (i.e. zerolength) All other values are illegal and shall not be used. - PDU Type (bits 1 through 5) - 27.

- Version - 1  - Reserved -- transmitted as zero, ignored on receipt  - Maximum  Area  Addresses  --  number  of  area  ad-dresses  permitted  for  this  ISs  area,  as  derived  from  the

value of the System Management parameter maximum-AreaAddresses. This field shall take on of the follow- ing values:

* An integer between 1 and 254 inclusive, indicated acorresponding number of area addresses supported.

Intradomain Routeing Protocol Discriminator 1

Length Indicator 1

No. of Octets

Version/Protocol ID Extension 1

ID Length 1

PDU Type 1R R R Version 1 Reserved 1 Maximum Area Addresses 1

PDU Length 2

Source ID ID Length + 1

VARIABLE LENGTH FIELDS VARIABLE

NOTE 62  Bits 6, 7 and 8 are Reserved, which meansthey are transmitted as 0 and ignored on receipt.

* The value zero, which is treated upon reception as ifit were equal to three, and which the IS may use if it

supports  only  a  value  of  3  for  maximumAreaAd-dresses.

- PDU Length - Entire Length of this PDU, in octets, in-cluding header  - Source ID - the system ID of Intermediate system (withzero Circuit ID) generating this Sequence Numbers PDU. - VARIABLE LENGTH FIELDS - fields of the form:

Any codes in a received PSNP that are not recognised areignored. Currently defined codes are:

* LSP Entries - this may appear more than once. Theoption fields, if they appear more than once, shall ap-

pear sorted into ascending LSPID order. x CODE - 9 x LENGTH - total length of the value field. x VALUE - a list of LSP entries of the form:

* Remaining  Lifetime  -  Remaining  Lifetimeof LSP.

* LSP ID - the system ID of the LSP to whichthis entry refers.

* LSP  Sequence  Number  -  Sequence  num-ber of LSP.

* Checksum - Checksum reported in LSP. The entries shall be sorted into ascending LSPIDorder (the LSP number octet of the LSPID is the

least significant octet).

* Authentication Information -- information for per-forming authentication of the originator of the PDU.

x CODE -- 10.

CODE 1 LENGTH 1

No. of Octets

VALUE LENGTH

LSP Sequence Number 4

Checksum

No. of Octets Remaining Lifetime 2

LSP ID ID Length + 2

2

LSP Sequence Number 4

Checksum

Remaining Lifetime 2

LSP ID ID Length + 2

2

ISO/IEC 10589:1992 (E)

65 x LENGTH -- variable from 1-254 octets x VALUE --

* Authentication  Type  --  a  one  octet  identi-fier for the type of authentication to be carried

out. The following values are defined:

0 -- RESERVED 1 -- Cleartext Password 2-254 -- RESERVED 255 -- Routeing Domain private authenti-cation method

* Authentication  Value  --  determined  by  thevalue  of  the  authentication  type.  If  Cleartext

Password  as  defined  in  this  InternationalStandard  is  used,  then  the  authentication value is an octet string.

Authentication Type 1 Authentication Value VARIABLE

No. of Octets

ISO/IEC 10589:1992 (E)

66 10 System environment 10.1 Generating jitter on timers When  PDUs  are  transmitted  as  a  result  of  timer  expiration,there is a danger that the timers of individual systems may be- come synchronised. The result of this is that the traffic distri-bution will contain peaks. Where there are a large number of synchronised  systems,  this  can  cause  overloading  of  both  thetransmission medium and the systems receiving the PDUs. In order  to  prevent  this  from  occurring,  all  periodic  timers,  theexpiration of which can cause the transmission of PDUs, shall have "jitter" introduced as defined in the following algorithm.

CONSTANT Jitter = 25;  (* The percentage jitter as defined in thearchitectural constant Jitter *) (see table 2) Resolution = 100; (* The timer resolution in ms *)

PROCEDURE Random(max : Integer): Integer; (* This procedure delivers a Uniformly distributed random integer R such that 0 < R < max *)

PROCEDURE WaitUntil(time: Integer)(* This procedure waits the specified number of ms and then returns *) PROCEDURE CurrentTime(): Integer(* This procedure returns the current time in ms *) PROCEDUREDefineJitteredTimer(baseTimeValueInSeconds: Integer; expirationAction : Procedure); VARbaseTimeValue, maximumTimeModifier, waitTime : Integer;nextexpiration : Time;

BEGINbaseTimeValue := baseTimeValueInSeconds * 1000 / Resolution;maximumTimeModifier := baseTimeValue * Jitter / 100; (* Compute maximum possible jitter *)WHILE running DO 

BEGIN (* First compute next expiration time *) randomTimeModifier :=Random(maximumTimeModifier); waitTime := baseTimeValue -randomTimeModifier; nextexpiration := CurrentTime() + waitTime;(* Then perform expiration Action *) expirationAction; WaitUntil(nextexpiration); END (* of Loop *)END (* of DefineJitteredTimer *)

Thus  the  call  "DefineJitteredTimer(HelloTime,  SendHel-loPDU);"  where  "HelloTime"  is  10  s,  will  cause  the  action "SendHelloPDU"  to  be  performed  at  random  intervals  of  be-tween 7,5 and 10 s. The essential point of this algorithm is that

the value of "randomTimeModifier" is randomised within theinner  loop.  Note  that  the  new  expiration  time  is  set  immedi- ately on expiration of the last interval, rather than when the ex-piration action has been completed. 

The time resolution shall be less than or equal to 100 ms. It isrecommended to be less than or equal to 10 ms. The time reso- lution  is  the  maximum  interval  that  can  elapse  without  therebeing any change in the value of the timer. The periodic trans- mission period shall be random or pseudo-random in the speci-fied range, with uniform distribution across similar implemen- tations.

10.2 Resolution of timers All timers specified in units of seconds shall have a resolutionof no less than +-1 s.

All timers specified in units of ms shall have a resolution of noless than +-10 ms.

10.3 Requirements on the operation ofISO 9542

This International Standard places certain requirements on theuse  of  ISO  9542  by  Intermediate  systems  which  go  beyond those  mandatory  requirements  stated  in  the  conformanceclause of ISO 9542. These requirements are

a) The IS shall operate the Configuration Information func-tions  on  all  types  of  subnetworks  supported  by  the  IS.

This includes: 1) the reception of ESH PDUs on all types of circuits; 2) the transmission of ISH PDUs on broadcast circuits;and

3) the  transmission  and  reception  of  ISH  PDUs  onpoint-to-point circuits. b) The  IS  shall  enable  the  "All  Intermediate  Systems"multi-destination subnetwork address. c) When sending  ISH PDUs, or  redirecting  an  End systemto  a  neighbour  Intermediate  system,  as  described  in

7.4.3.3, the numerically lowest Network Entity title shallbe chosen as the NET placed in the ISO 9542 PDU. This minimises memory usage in the End systems by ensuringthat all ISs identify themselves and each other to ESs us- ing the same Network Entity titles.

10.4 Requirements on the operation ofISO 8473

If the area partition repair functions described in 7.2.10 are im-plemented  by  the  Intermediate  system,  then  the  IS  requires  a number of End system functions of ISO 8473 (such as NPDUreassembly) as well as the Intermediate system functions. Such ISs shall therefore conform to both the End system and Inter-mediate system requirements of ISO 8473.

ISO/IEC 10589:1992 (E)

67 11 System management  11.1 General The  operation  of  the  Intra-domain  IS-IS  routeing  functionsmay be monitored and controlled using System Management. This clause is the management specification for Ithis Interna-tional Standard in the GDMO notation as defined in ISO/IEC 10165-4. Generic managed object and attribute definitions areimported from ISO/IEC 10165-5 and from ISO/IEC 10733.

The containment hierarchy for this International Standard is il-lustrated below in figure 8.  Annex E contains a number of definitions which are intendedto be incorporated in ISO/IEC 10165-5. In those cases where a GDMO  imported  definition  cannot  be  found  by  consultingISO/IEC 10165-5, or conflicts with the definition in Annex E, the definition in Annex E shall be used. 

Network

Virtual Adjacency

Adjacency

Destination

System

Destination

Area Linkage

Reachable

Address

Entity

CLNS(ISO/IEC 10589  Package)

(ISO/IEC 10589 Package)

Level 2 Only

Figure 8 - Containment and naming hierarchy

Defined in ISO/IEC 10733

ISO/IEC 10589:1992 (E)

68 --11.2 GDMO definition --11.2.1 Common GDMO definitions --11.2.1.1 Behaviours

  supplyValueOnCreate-B BEHAVIOUR  DEFINED AS

Value is supplied either by the protocol machine if the MO is automatically created, or supplied via the CRE-ATE Operation. The value cannot be changed thereafter.;

  resettingTimer-B BEHAVIOUR  DEFINED AS

This attribute specifies the interval between certain events in the operation of the protocol state machine. If thevalue of this attribute is changed to a new value while the protocol state machine is in operation, the implementa- tion  shall  take  the  necessary  steps  to  ensure  that  for  any  time  interval  which  was  in  progress  when  the  corre-sponding attribute was changed, the next expiration of the that interval takes place the specified time after the original start of that interval, or immediately, whichever is later. The precision with which this time shall be im-plemented shall be the same as that associated with the basic operation of the timer attribute;

  replaceOnlyWhileDisabled-B BEHAVIOUR  DEFINED AS

This attribute shall only permit the REPLACE operation to be performed on it while the MO is in the DisabledOperational State. An attempt to perform a REPLACE operation while the MO is in the Enabled Operation State shall fail with the generation of the constraintViolation specific error.;    resourceLimiting-B BEHAVIOUR  DEFINED AS

This  attribute  places  limits  on  some  "resource".  In  general  implementations  may  allocate  resources  up  to  thislimit when the managed object is enabled and it may be impossible to change the allocation without first dis- abling  and  re-enabling  the managed  object.  Therefore  this  International  Standard  only  requires  that  it  shall  bepossible to perform a REPLACE operation on this attribute while the MO is disabled. However some implemen- tations may be able to change the allocation of resources without first disabling the MO. In this case it is permit-ted  to  increase  the  value  of  the  attribute  at  any  time,  but  it  shall  not  be  decreased  below  the  currently  "used" value of the resource. Where an attempt to perform a REPLACE operation fails either because the MO is en-abled, or because an attempt has been made to decrease the value, the REPLACE operation shall fail with the generation of the constraintViolation specific error.; --11.2.1.2 Common attributes

  addressPrefix ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.AddressPrefix;

  MATCHES FOR EQUALITY, SUBSTRINGS;  BEHAVIOUR addressPrefix-B BEHAVIOUR

  DEFINED AS An Area Address of a destination area or a prefix for a reachable address;;  REGISTERED AS {ISIS.aoi addressPrefix (98)};

  authenticationFailures ATTRIBUTE  DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;

  BEHAVIOUR authenticationFailures-B BEHAVIOUR  DEFINED AS Count of authentication Failure events;;   REGISTERED AS {ISIS.aoi authenticationFailures (117)};   networkEntityTitle ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.NAddress;

  MATCHES FOR EQUALITY;  REGISTERED AS {ISIS.aoi networkEntityTitle (88)};

--11.2.1.3 Common parameters   constraintViolation PARAMETER  CONTEXT SPECIFIC-ERROR;

  WITH SYNTAX ISIS.Null;

ISO/IEC 10589:1992 (E)

69   BEHAVIOUR constraintViolation-B BEHAVIOUR  DEFINED AS

The specific error returned on failure of a REPLACE operation when the MO prohibits such operations undercertain conditions, for example while the MO is in the disabled operational state.;;   REGISTERED AS {ISIS.proi constraintViolation (10)}; notificationReceivingAdjacency PARAMETERCONTEXT EVENT-INFO;

WITH SYNTAX ISIS.LocalDistinguishedName;BEHAVIOUR notificationReceivingAdjacency-B BEHAVIOUR

DEFINED AS The local managed object name of the adjacency upon which the NPDU was received;;REGISTERED AS {ISIS.proi notificationReceivingAdjacency (11)};

  notificationIDLength PARAMETER  CONTEXT EVENT-INFO;

  WITH SYNTAX ISIS.IDLength;  BEHAVIOUR notificationIDLength-B BEHAVIOUR

  DEFINED AS The IDLength specified in the ignored PDU;;  REGISTERED AS {ISIS.proi notificationIDLength (12)};

  notificationAreaAddress PARAMETER   CONTEXT EVENT-INFO; 

  WITH SYNTAX ISIS.AreaAddress;  BEHAVIOUR notificationAreaAddress-B BEHAVIOUR

DEFINED AS The Area Address which caused MaximumAreaAddresses to be exceeded;;  REGISTERED AS {ISIS.proi notificationAreaAddress (13)};

  notificationAreaAddresses PARAMETER   CONTEXT EVENT-INFO; 

  WITH SYNTAX ISIS.AreaAddresses;  BEHAVIOUR notificationAreaAddresses-B BEHAVIOUR

  DEFINED AS The set of Area Address from the neighbour's IIH PDU;;  REGISTERED AS {ISIS.proi notificationAreaAddresses (29)};

  notificationSourceId PARAMETER   CONTEXT EVENT-INFO; 

  WITH SYNTAX ISIS.SourceId;  BEHAVIOUR notificationSourceId-B BEHAVIOUR

  DEFINED AS The source ID of the LSP;;  REGISTERED AS {ISIS.proi notificationSourceId (14)};

  notificationMaximumAreaAddresses PARAMETER   CONTEXT EVENT-INFO; 

  WITH SYNTAX ISIS.MaximumAreaAddresses;  BEHAVIOUR notificationMaximumAreaAddresses-B BEHAVIOUR

  DEFINED AS The maximum area addresses field of the received PDU;;  REGISTERED AS {ISIS.proi notificationMaximumAreaAddresses (28)};

  notificationVirtualLinkChange PARAMETER   CONTEXT EVENT-INFO; 

  WITH SYNTAX ISIS.VirtualLinkChange;  BEHAVIOUR notificationVirtualLinkChange-B BEHAVIOUR

  DEFINED ASThis indicates whether the event was generated as a result of the creation or deletion of a Virtual Link between

two Level 2 Intermediate Systems.;;  REGISTERED AS {ISIS.proi notificationVirtualLinkChange (15)};

  notificationVirtualLinkAddress PARAMETER   CONTEXT EVENT-INFO; 

  WITH SYNTAX ISIS.NAddress;  BEHAVIOUR notificationVirtualLinkAddress-B BEHAVIOUR

  DEFINED ASThe Network Entity Title of the Level 2 Intermediate System at the remote end of the virtual link;;   REGISTERED AS {ISIS.proi notificationVirtualLinkAddress (16)};   notificationSystemId PARAMETER   CONTEXT EVENT-INFO; 

ISO/IEC 10589:1992 (E) 70

  WITH SYNTAX ISIS.SystemId;  BEHAVIOUR notificationSystemId-B BEHAVIOUR

  DEFINED AS The system ID of the source system generating the notification;;  REGISTERED AS {ISIS.proi notificationSystemId (19)};

  notificationVersion PARAMETER   CONTEXT EVENT-INFO; 

  WITH SYNTAX ISIS.Version;  BEHAVIOUR notificationVersion-B BEHAVIOUR

  DEFINED AS The version number reported by the other system;;  REGISTERED AS {ISIS.proi notificationVersion (23)};

  notificationDesignatedIntermediateSystemChange PARAMETER   CONTEXT EVENT-INFO; 

  WITH SYNTAX ISIS.DesignatedISChange;  BEHAVIOUR notificationDesignatedIntermediateSystemChange-B BEHAVIOUR

  DEFINED AS The direction of the change in Designated Intermediate System status of this system;;  REGISTERED AS {ISIS.proi notificationDesignatedIntermediateSystemChange (24)};

  notificationOverloadStateChange PARAMETER   CONTEXT EVENT-INFO; 

  WITH SYNTAX ISIS.OverloadStateChange;  BEHAVIOUR notificationOverloadStateChange-B BEHAVIOUR

  DEFINED AS The direction of the change in Overload status;;  REGISTERED AS {ISIS.proi notificationOverloadStateChange (25)};

  reservedName PARAMETER   CONTEXT SPECIFIC-ERROR; 

  WITH SYNTAX ISIS.Null;  BEHAVIOUR reservedName-B BEHAVIOUR

  DEFINED ASThe specific error returned on failure of a create operation using a name reserved for other purposes.;;   REGISTERED AS {ISIS.proi reservedName (27)};

--11.2.2 Conditional packages attached to objects defined in ISO/IEC 10733 --11.2.2.1 Basis ISIS package attached to cLNS managed object

  cLNSISISBasic-P PACKAGE   BEHAVIOUR cLNSISISBasicImportedAlarmNotifications-B BEHAVIOUR

  DEFINED ASImports the communicationsAlarm notification from ISO/IEC 10165-2. It is used to report the following proto-

col events:   pDUDiscard: generated when an 8473 data PDU is discarded. In addition to the parameters specified by ISO/IEC 10733,

the local adjacencyId of the adjacency upon which the NPDU was received shall be reported in the addition-alInformation field using the notificationReceivingAdjacency parameter. The significance sub-parameter of each item of additionalInformation shall be set to the value "false" (i.e. not significant) so that a managingsystem receiving the event report will be less likely to reject it.    lSPL1DatabaseOverload:

generated when the l1State of the system changes between On and Waiting or Waiting and On. The resulting state, shall be reported in the additionalInformation field using the notificationOverloadStateChange parame- ter and in the case of Waiting the SourceId of the LSP which precipitated the overload shall be reported inthe additionalInformation field using the notificationSourceId parameter. The significance sub-parameter of each item of additionalInformation shall be set to the value "false" (i.e. not significant) so that a managingsystem receiving the event report will be less likely to reject it. The value ISIS.lSPL1DatabaseOverload shall be reported in the specificProblems parameter. The probableCause shall be set to NLM.resourceAtOrNear-ingCapacity. The perceivedSeverity shall be set to 'Major'. A subsequent communicationsAlarm with a per- ceivedSeverity value of "Cleared" shall not be generated. No other fields or parameters shall be used, withthe exception of further parameters in the additionalInformation field. The occurrence of this event shall be counted by the lSPL1DatabaseOverloads counter. 

ISO/IEC 10589:1992 (E)

71   manualAddressDroppedFromArea: Generated  when  one  of  the  manualareaAddresses  assigned  to  this  system  is  ignored  when  computing

partitionAreaAddresses or areaAddresses because there are more than MaximumAreaAddresses distinct AreaAddresses. The ignored Area Address shall be reported in the additionalInformation field using the notifica- tionAreaAddress parameter.  The  significance sub-parameter  of each item of  additionalInformation shall beset to the value "false" (i.e. not significant) so that a managing system receiving the event report will be less likely  to  reject  it.  The  event  is  generated  once  for  each  Area  Address  in  manualAreaAddresses  which  isdropped. It is not generated again for that Area Address until after it has been reinstated into areaAddresses (i.e. it is only the action of dropping the Area Address and not the state of being dropped, which causes theevent  to  be  generated).  The  value  ISIS.manualAddressDroppedFromArea  shall  be  reported  in  the specificProblems  parameter.  The  probableCause  shall  be  set  to  NLM.configurationOrCustomisationError.The perceivedSeverity shall be set to 'Major'. A subsequent communicationsAlarm with a perceivedSeverity value of "Cleared" shall not be generated. No other fields or parameters shall be used, with the exception offurther  parameters in  the  additionalInformation  field.  The  occurrence  of  this  event shall  be  counted  by the manualAddressDroppedFromAreas counter.   corruptedLSPDetected: generated when a corrupted Link  State PDU  is  detected  in  memory.  The  value  ISIS.corruptedLSPDetected 

shall  be  reported  in  the  specificProblems  parameter.  The  probableCause  shall  be  set  to  NLM.corruptData.The perceivedSeverity shall be set to 'Minor'. A subsequent communicationsAlarm with a perceivedSeverity value of "Cleared" shall not be generated. No other fields or parameters shall be used, with the exception offurther  parameters  in  the  additionalInformation  field.  The  occurrence  of  this  event  is  counted  by  the corruptedLSPsDetected counter.   attemptToExceedMaximumSequenceNumber: generated when an attempt is made to increment the sequence number of an LSP beyond the maximum se-

quence  number.  The  value  ISIS.attemptToExceedMaximumSequenceNumber  shall  be  reported  in  thespecificProblems parameter. The probableCause shall be set to NLM.communicationsProtocolError. The per- ceivedSeverity shall be set to 'Major'. A subsequent communicationsAlarm with a perceivedSeverity value of"Cleared" shall not be generated. No other fields or parameters shall be used, with the exception of further parameters  in  the  additionalInformation  field.  The  occurrence  of  this  event  is  counted  by  the  attemptsTo-ExceedMaximumSequenceNumber counter.

  iDFieldLengthMismatch: generated when a PDU is received with a different value for ID field length to that of the receiving Intermedi-

ate system. The received ID LENGTH and SOURCE ID are reported in the additionalInformation field usingthe notificationIDLength and notificationSourceId parameters respectively. The significance sub-parameter of each item of additionalInformation shall be set to the value "false" (i.e. not significant) so that a managingsystem receiving the event report will be less likely to reject it. The value ISIS.iDFieldLengthMismatch shall be  reported  in  the  specificProblems  parameter.  The  probableCause  shall  be  set  to  NLM.configurationOr-CustomisationError. The perceivedSeverity shall be set to 'Major'. A subsequent communicationsAlarm with a perceivedSeverity value of "Cleared" shall not be generated. No other fields or parameters shall be used,with  the  exception  of  further  parameters  in  the  additionalInformation  field.  The  occurence  of  this  event  is counted by the iDFieldLengthMismatches counter.   maximumAreaAddressesMismatch: generated when a PDU is received with a different value for maximumAreaAddresses from that of the receiv-

ing Intermediate system. The received Maximum Area Addresses and Source ID are reported in the addi-tionalInformation  field  using  the  notificationMaximumAreaAddresses  and  notificationSourceId  parameters respectively. The significance sub-parameter of each item of additionalInformation shall be set to the value"false" (i.e. not significant) so that a managing system receiving the event report will be less likely to reject it. The value ISIS.MaximumAreaAddressesMismatch shall be reported in the specificProblems parameter. TheprobableCause shall be set to NLM.configurationOrCustomisationError. The perceivedSeverity shall be set to 'Major'. A subsequent communicationsAlarm with a perceivedSeverity value of "Cleared" shall not be gener-ated. No other fields or parameters shall be used, with the exception of further parameters in the additionalIn- formation field. The occurence of this event is counted by the MaximumAreaAddressesMismatches counter.   ownLSPPurge: generated when a zero aged copy of a system's own LSP is received from some other system. This represents

an erroneous attempt to purge the local system's LSP. The value ISIS.ownLSPPurge shall be reported in thespecificProblems parameter. The probableCause shall be set to NLM.communicationsProtocolError. The per- ceivedSeverity shall be set to 'Minor'. A subsequent communicationsAlarm with a perceivedSeverity valueof "Cleared" shall not be generated. No other fields or parameters shall be used, with the exception of further parameters in the additionalInformation field. The occurrence of this event is counted by the ownLSPPurgescounter. ;,

  cLNSISISBasicImportedInfoNotifications-B BEHAVIOUR 

ISO/IEC 10589:1992 (E) 72

  DEFINED ASImports  the  communicationsInfomation  notification  from  ISO/IEC  10165-5.  It  is  used  to  report  the  following

protocol events.   sequenceNumberSkip: generated  when  the  sequence  number  of  an  LSP  is  incremented  by  more  than  one.  The  value 

ISIS.sequenceNumberSkip shall be reported in the informationType parameter. No other fields or parameters shall be used, with the exception of parameters in the informationData field. The occurrence of this event is  counted by the sequenceNumberSkips counter. ;;    ATTRIBUTES   version GET, 

  iSType INITIAL VALUE DERIVATION RULE supplyValueOnCreate-B GET,   systemId GET,    maximumPathSplits REPLACE-WITH-DEFAULT

DEFAULT VALUE ISIS.maximumPathSplits-Default GET-REPLACE,    minimumLSPTransmissionInterval REPLACE-WITH-DEFAULT

DEFAULT VALUE ISIS.minimumLSPTransmissionInterval-Default GET-REPLACE,    maximumLSPGenerationInterval REPLACE-WITH-DEFAULT

DEFAULT VALUE ISIS.maximumLSPGenerationInterval-Default GET-REPLACE,    minimumBroadcastLSPTransmissionInterval REPLACE-WITH-DEFAULT

DEFAULT VALUE ISIS.minimumBroadcastLSPTransmissionInterval-Default GET-REPLACE,    -- Note: this is defined for all Circuits, but would only be required if   -- one of them were a broadcast Circuit    completeSNPInterval REPLACE-WITH-DEFAULT

DEFAULT VALUE ISIS.completeSNPInterval-Default GET-REPLACE,    -- Note: this is defined for all linkages, but would only be required if   -- one of them were a broadcast linkage    originatingL1LSPBufferSize REPLACE-WITH-DEFAULT

DEFAULT VALUE ISIS.originatingL1LSPBufferSize-Default GET-REPLACE,    manualAreaAddresses REPLACE-WITH-DEFAULT

DEFAULT VALUE ISIS.manualAreaAddresses-Default GET ADD-REMOVE,  maximumAreaAddresses  REPLACE-WITH-DEFAULTDEFAULT VALUE ISIS.maximumAreaAddresses-Default  GET-REPLACE,  minimumLSPGenerationInterval  REPLACE-WITH-DEFAULTDEFAULT VALUE ISIS.minimumLSPGenerationInterval-Default  GET-REPLACE,   pollESHelloRate  REPLACE-WITH-DEFAULTDEFAULT VALUE ISIS.pollESHelloRate-Default  GET-REPLACE,   partialSNPInterval  REPLACE-WITH-DEFAULTDEFAULT VALUE ISIS.partialSNPInterval-Default  GET-REPLACE,   waitingTime  REPLACE-WITH-DEFAULTDEFAULT VALUE ISIS.waitingTime-Default  GET-REPLACE,   dRISISHelloTimer  REPLACE-WITH-DEFAULT

ISO/IEC 10589:1992 (E)

73 DEFAULT VALUE ISIS.dRISISHelloTimer-Default GET-REPLACE,    l1State GET,   areaAddresses GET,    corruptedLSPsDetected GET,  lSPL1DatabaseOverloads GET,   manualAddressesDroppedFromArea GET,  attemptsToExceedMaximumSequenceNumber GET,   sequenceNumberSkips GET,  ownLSPPurges GET,   iDFieldLengthMismatches GET,   maximumAreaAddressesMismatches GET;   ATTRIBUTE GROUPS  "Rec. X.723 | ISO/IEC 10165-5":counters 

corruptedLSPsDetected lSPL1DatabaseOverloads  manualAddressesDroppedFromArea attemptsToExceedMaximumSequenceNumber  sequenceNumberSkips ownLSPPurges  iDFieldLengthMismatches maximumAreaAddressesMismatches,    "Rec. X.721 | ISO/IEC 10165-2 : 1992":state   l1State;    NOTIFICATIONS   "Rec. X.721 | ISO/IEC 10165-2 : 1992":communicationsAlarm

notificationAreaAddressnotificationIDLength notificationMaximumAreaAddressesnotificationOverloadStateChange notificationReceivingAdjacencynotificationSourceId   notificationSystemId,  "Rec. X.723 | ISO/IEC 10165-5":communicationsInformation;   REGISTERED AS {ISIS.poi cLNSISISBasic-P (1)}; --11.2.2.2 Level 2 ISIS package attached to cLNS managed object

  cLNSISISLevel2-P PACKAGE  BEHAVIOUR cLNSISISLevel2ImportedAlarmNotifications-B BEHAVIOUR

  DEFINED ASImports the communicationsAlarm notification from ISO/IEC 10165-2. It is used to report the following proto-

col events.    lSPL2DatabaseOverload: generated when the L2State of the system changes between On and Waiting or Waiting and On. The resulting

state, shall be reported in the additionalInformation field using the notificationOverloadStateChange parame-ter and in the case of Waiting the SourceId of the LSP which precipitated the overload shall be reported in the additionalInformation field using the notificationSourceId parameter. The significance sub-parameter of eachitem of additionalInformation shall be set to the value "false" (i.e. not significant) so that a managing system receiving the event report will be less likely to reject it. The value ISIS.lSPL2DatabaseOverload shall be re-ported  in  the  specificProblems  parameter.  The  probableCause  shall  be  set  to  NLM.resourceAtOrNearing- Capacity.  The  perceivedSeverity  shall  be  set  to  'Major'.  A  subsequent  communicationsAlarm  with  a  per-ceivedSeverity value of "Cleared" shall not be generated. No other fields or parameters shall be used, with the exception  of  further  parameters  in  the  additionalInformation  field.  The  occurence  of  this  event  shall  becounted by the lSPL2DatabaseOverloads counter.    ;;  ATTRIBUTES 

  originatingL2LSPBufferSize   REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.originatingL2LSPBufferSize-Default   GET-REPLACE,    l2State GET,   lSPL2DatabaseOverloads GET;    ATTRIBUTE GROUPS   "Rec. X.723 | ISO/IEC 10165-5":counters 

ISO/IEC 10589:1992 (E) 74

lSPL2DatabaseOverloads,   "Rec. X.721 | ISO/IEC 10165-2 : 1992":state  l2State;   NOTIFICATIONS    "Rec. X.721 | ISO/IEC 10165-2 : 1992":communicationsAlarm notificationOverloadStateChange 

notificationSourceId ;  REGISTERED AS {ISIS.poi cLNSISISLevel2-P (2)};

--11.2.2.3 ISIS partition repair package attached to the cLNS managed object   cLNSISISPartitionRepair-P PACKAGE   BEHAVIOUR cLNSISISPartitionRepair-P-ImportedInfoNotifications-B BEHAVIOUR

  DEFINED ASImports  the  communicationsInformation  notification from ISO/IEC  10165-5. It  is  used  to  report the  following

protocol events. partitionVirtualLinkChange:  generated when a virtual link (for the purposes of Level 1 partition repair) is either created or deleted. The direc-

tion  of  the  change  and  the  networkEntityTitle  of  the  corresponding  virtual  adjacency  managed  object  are  re-ported  in  the  communicationData  field  using  the  notificationVirtualLinkChange  and  notificationVirtual- LinkAddress parameters respectively. The value ISIS.partitionVirtualLinkChange shall be reported in the infor-mationType parameter. No other fields or parameters shall be used, with the exception of further parameters in the informationData field. The relative order of events relating to the same Virtual Link must be preserved. Theoccurrence of this event is counted by the partitionVirtualLinkChanges counter.   ;;  ATTRIBUTES 

  maximumVirtualAdjacencies   REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.maximumVirtualAdjacencies-Default   GET-REPLACE,    partitionAreaAddresses GET,   partitionDesignatedL2IntermediateSystem GET,    partitionVirtualLinkChanges GET;   ATTRIBUTE GROUPS    "Rec. X.723 | ISO/IEC 10165-5":counters   partitionVirtualLinkChanges;    NOTIFICATIONS   "Rec. X.723 | ISO/IEC 10165-5":communicationsInformation 

  notificationVirtualLinkChange   notificationVirtualLinkAddress;   REGISTERED AS {ISIS.poi cLNSISISPartitionRepair-P (3)};

--11.2.3 ISIS authentication package attached to the cLNS managed object   cLNSISISAuthentication-P PACKAGE   BEHAVIOUR cLNSISISAuthentication-P-ImportedAlarmNotifications-B BEHAVIOUR

  DEFINED ASImports the communicationsAlarm notification from ISO/IEC 10165-2. It is used to report the following proto-

col events.    authenticationFailure: generated when a PDU is received with an incorrect Authentication information field. The SystemId of the

source system shall be reported in the additionalInformation field using the notificationSystemId parameter.The significance sub-parameter of each item of additionalInformation shall be set to the value "false" (i.e. not significant)  so  that  a  managing  system  receiving  the  event  report  will  be  less  likely  to  reject  it.  The  value ISIS.authenticationFailure shall be reported in the specificProblems parameter. The probableCause shall be set to NLM.configurationOrCustomisationError. The perceivedSeverity shall be set to 'Major'. A subsequentcommunicationsAlarm with a perceivedSeverity value of "Cleared" shall not be generated. No other fields or parameters shall be used, with the exception of further parameters in the additionalInformation field. The oc-currence of this event is counted by the authenticationFailures counter.    ;;   ATTRIBUTES 

  areaTransmitPassword 

ISO/IEC 10589:1992 (E)

75   REPLACE-WITH-DEFAULT  DEFAULT VALUE ISIS.password-Default    GET-REPLACE,   areaReceivePasswords    REPLACE-WITH-DEFAULT  DEFAULT VALUE ISIS.passwords-Default    GET-REPLACE   ADD-REMOVE,    authenticationFailures GET;   ATTRIBUTE GROUPS    "Rec. X.723 | ISO/IEC 10165-5":counters   authenticationFailures;    NOTIFICATIONS   "Rec. X.721 | ISO/IEC 10165-2 : 1992":communicationsAlarm 

  notificationSystemId;  REGISTERED AS {ISIS.poi cLNSISISAuthentication-P (4)};

--11.2.3.1 ISIS Level 2 Authentication package attached to the cLNS managed object   cLNSISISLevel2Authentication-P PACKAGE   ATTRIBUTES 

  domainTransmitPassword   REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.password-Default   GET-REPLACE,    domainReceivePasswords   REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.passwords-Default   GET-REPLACE    ADD-REMOVE;  REGISTERED AS {ISIS.poi cLNSISISLevel2Authentication-P (5)};

--11.2.4 Attributes of cLNS object added by conditional packages   areaAddresses ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.AreaAddresses; 

  MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION;  BEHAVIOUR areaAddresses-B BEHAVIOUR

  DEFINED ASThe union of the sets of manualAreaAddresses reported in all Level 1 Link State PDUs received by this Interme-

diate System;;  REGISTERED AS {ISIS.aoi areaAddresses (18)};    areaReceivePasswords ATTRIBUTE    WITH ATTRIBUTE SYNTAX ISIS.Passwords;   MATCHES FOR EQUALITY, SET-INTERSECTION, SET-COMPARISON;   BEHAVIOUR areaReceivePasswords-B BEHAVIOUR  DEFINED AS

The values to be used as receive passwords to check the receipt of Level 1 LSP, and SNP PDUs;;  REGISTERED AS {ISIS.aoi areaReceivePasswords (112)};    areaTransmitPassword ATTRIBUTE    WITH ATTRIBUTE SYNTAX ISIS.Password;   MATCHES FOR EQUALITY;   BEHAVIOUR areaTransmitPassword-B BEHAVIOUR  DEFINED AS The value to be used as a transmit password in Level 1 LSP, and SNP PDUs transmitted by this

Intermediate System;;  REGISTERED AS {ISIS.aoi areaTransmitPassword (111)};    attemptsToExceedMaximumSequenceNumber ATTRIBUTE    DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;  BEHAVIOUR attemptsToExceedMaximumSequenceNumber-B BEHAVIOUR

  DEFINED ASNumber of times the attemptToExceedMaximumSequenceNumber event has been generated;;

ISO/IEC 10589:1992 (E) 76

  REGISTERED AS {ISIS.aoi attemptsToExceedMaximumSequenceNumber (22)};    completeSNPInterval ATTRIBUTE   DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":timer; 

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR completeSNPInterval-B BEHAVIOUR

  DEFINED ASInterval between generation of Complete Sequence Numbers PDUs by a Designated Intermediate System on a

broadcast circuit;,   resettingTimer-B;   REGISTERED AS {ISIS.aoi completeSNPInterval (8)};   corruptedLSPsDetected ATTRIBUTE   DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;

  BEHAVIOUR corruptedLSPsDetected-B BEHAVIOUR  DEFINED AS Number of Corrupted LSP Detected events generated;;   REGISTERED AS {ISIS.aoi corruptedLSPsDetected (19)};    domainTransmitPassword ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.Password; 

  MATCHES FOR EQUALITY;  BEHAVIOUR domainTransmitPassword-B BEHAVIOUR

  DEFINED ASThe value to be used as a transmit password in Level 2 LSP, and SNP PDUs transmitted by this Intermediate

System;;  REGISTERED AS {ISIS.aoi domainTransmitPassword (113)};    domainReceivePasswords ATTRIBUTE    WITH ATTRIBUTE SYNTAX ISIS.Passwords;   MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION;   BEHAVIOUR domainReceivePasswords-B BEHAVIOUR  DEFINED AS

The values to be used as receive passwords to check the receipt of Level 2 LSP, and SNP PDUs;;  REGISTERED AS {ISIS.aoi domainReceivePasswords (114)};    dRISISHelloTimer ATTRIBUTE    DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":timer;   MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR dRISISHelloTimer-B BEHAVIOUR  DEFINED AS

The interval between the generation of IIH PDUs by the designated IS on a LAN;,  resettingTimer-B;   REGISTERED AS {ISIS.aoi dRISISHelloTimer (16)};    iDFieldLengthMismatches ATTRIBUTE   DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;

  BEHAVIOUR iDFieldLengthMismatches-B BEHAVIOUR  DEFINED AS Number of times the iDFieldLengthMismatch event has been generated;;   REGISTERED AS {ISIS.aoi iDFieldLengthMismatches (25)};    iSType ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.ISType; 

  MATCHES FOR EQUALITY;  BEHAVIOUR iSType-B BEHAVIOUR

  DEFINED AS The type of this Intermediate System. The value of this attribute is only settable via the create parameter;;   REGISTERED AS {ISIS.aoi iSType (2)};    l1State ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.DatabaseState; 

  MATCHES FOR EQUALITY;  BEHAVIOUR l1State-B BEHAVIOUR

  DEFINED AS The state of the Level 1 database;;  REGISTERED AS {ISIS.aoi l1State (17)};    l2State ATTRIBUTE 

  WITH ATTRIBUTE SYNTAX ISIS.DatabaseState; 

ISO/IEC 10589:1992 (E)

77   MATCHES FOR EQUALITY;  BEHAVIOUR l2State-B BEHAVIOUR

  DEFINED AS The state of the Level 2 database;;  REGISTERED AS {ISIS.aoi l2State (28)};    lSPL1DatabaseOverloads ATTRIBUTE 

  DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;  BEHAVIOUR lSPL1DatabaseOverloads-B BEHAVIOUR

  DEFINED AS Number of times the l1LSPDatabaseOverload event has been generated;;  REGISTERED AS {ISIS.aoi lSPL1DatabaseOverloads (20)};    lSPL2DatabaseOverloads ATTRIBUTE 

  DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;  BEHAVIOUR lSPL2DatabaseOverloads-B BEHAVIOUR

  DEFINED AS Number of times the l2LSPDatabaseOverload event has been generated;;  REGISTERED AS {ISIS.aoi lSPL2DatabaseOverloads (32)};    manualAddressesDroppedFromArea ATTRIBUTE 

  DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;  BEHAVIOUR manualAddressesDroppedFromArea-B BEHAVIOUR

  DEFINED AS Number of times the manualAddressesDroppedFromArea event has been generated;;  REGISTERED AS {ISIS.aoi manualAddressesDroppedFromArea (21)};    manualAreaAddresses ATTRIBUTE 

  WITH ATTRIBUTE SYNTAX ISIS.AreaAddresses;   MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION;   BEHAVIOUR manualAreaAddresses-B BEHAVIOUR  DEFINED AS

Area  Addresses  to  be  used  for  this  Intermediate  System.  At  least  one  value  must  be  supplied.  The  maximumnumber of Area Addresses which may exist in the set is MaximumAreaAddresses;;   REGISTERED AS {ISIS.aoi manualAreaAddresses (10)};    maximumAreaAddresses ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.MaximumAreaAddresses;

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR maximumAreaAddresses-B BEHAVIOUR

  DEFINED ASmaximum number of area addresses to be permitted for this ISs area. Note that all ISs in the area must have the

same value configured for this attribute if correct operation is to be assured.;,  replaceOnlyWhileDisabled-B;   PARAMETERS constraintViolation;  REGISTERED AS {ISIS.aoi maximumAreaAddresses (4)};    maximumAreaAddressesMismatches ATTRIBUTE 

  DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;  BEHAVIOUR maximumAreaAddressesMismatches-B BEHAVIOUR

  DEFINED AS Count of maximumAreaAddressesMismatch events.;;  REGISTERED AS {ISIS.aoi maximumAreaAddressesMismatches(118)};    maximumLSPGenerationInterval ATTRIBUTE 

  DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":timer;  MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR maximumLSPGenerationInterval-B BEHAVIOUR   DEFINED AS Maximum interval between generated LSPs by this system;,

  resettingTimer-B;  REGISTERED AS {ISIS.aoi maximumLSPGenerationInterval (6)};    maximumPathSplits ATTRIBUTE 

  WITH ATTRIBUTE SYNTAX ISIS.MaximumPathSplits;   MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR maximumPathSplits-B BEHAVIOUR  DEFINED AS Maximum number of paths which it is permitted to split traffic between;,

  replaceOnlyWhileDisabled-B;   PARAMETERS constraintViolation;   REGISTERED AS {ISIS.aoi maximumPathSplits (3)};    maximumVirtualAdjacencies ATTRIBUTE 

ISO/IEC 10589:1992 (E) 78

  WITH ATTRIBUTE SYNTAX ISIS.MaximumVirtualAdjacencies;   MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR maximumVirtualAdjacencies-B BEHAVIOUR  DEFINED AS

Maximum number of Virtual Adjacencies which may be created to repair partitioned Level 1 domains;,  resourceLimiting-B;    PARAMETERS constraintViolation;  REGISTERED AS {ISIS.aoi maximumVirtualAdjacencies (27)};    minimumBroadcastLSPTransmissionInterval ATTRIBUTE 

  DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":timer;  MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR minimumBroadcastLSPTransmissionInterval-B BEHAVIOUR  DEFINED AS

Minimum interval between transmission of LSPs on a broadcast circuit (See clause 7.3.15.6). This timer shall becapable of a resolution not coarser than 10 ms;,    resettingTimer-B;  REGISTERED AS {ISIS.aoi minimumBroadcastLSPTransmissionInterval (7)};    minimumLSPGenerationInterval ATTRIBUTE 

  DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":timer;   MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR minimumLSPGenerationInterval-B BEHAVIOUR  DEFINED AS

Minimum interval between successive generation of LSPs with the same LSPID by this IS;,  resettingTimer-B;   REGISTERED AS {ISIS.aoi minimumLSPGenerationInterval (11)};    minimumLSPTransmissionInterval ATTRIBUTE   DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":timer;

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR minimumLSPTransmissionInterval-B BEHAVIOUR

  DEFINED AS Minimum interval between re- transmissions of an LSP;,   resettingTimer-B;   REGISTERED AS {ISIS.aoi minimumLSPTransmissionInterval (5)};    originatingL1LSPBufferSize ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.OriginatingLSPBufferSize; 

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR originatingL1LSPBufferSize-B BEHAVIOUR

  DEFINED AS The maximum size of Level 1 LSPs and SNPs originated by this system;,  replaceOnlyWhileDisabled-B;    PARAMETERS constraintViolation;  REGISTERED AS {ISIS.aoi originatingL1LSPBufferSize (9)};    originatingL2LSPBufferSize ATTRIBUTE 

  WITH ATTRIBUTE SYNTAX ISIS.OriginatingLSPBufferSize;   MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR originatingL2LSPBufferSize-B BEHAVIOUR  DEFINED AS The maximum size of Level 2 LSPs and SNPs originated by this system;,

  replaceOnlyWhileDisabled-B;   PARAMETERS constraintViolation;   REGISTERED AS {ISIS.aoi originatingL2LSPBufferSize (26)};    ownLSPPurges ATTRIBUTE   DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;

  BEHAVIOUR ownLSPPurges-B BEHAVIOUR  DEFINED AS Number of times the ownLSPPurged event has been generated;;   REGISTERED AS {ISIS.aoi ownLSPPurges (24)};    partialSNPInterval ATTRIBUTE   DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":timer; 

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR partialSNPInterval-B BEHAVIOUR

  DEFINED AS Minimum interval between sending Partial Sequence Number PDUs;,   resettingTimer-B;   REGISTERED AS {ISIS.aoi partialSNPInterval (14)};

ISO/IEC 10589:1992 (E)

79    partitionAreaAddresses ATTRIBUTE 

  WITH ATTRIBUTE SYNTAX ISIS.AreaAddresses;   MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION;   BEHAVIOUR partitionAreaAddresses-B BEHAVIOUR  DEFINED AS

The set union of all manualAreaAddresses of all Intermediate systems in the partition reachable by non-virtuallinks (calculated from their Level 1 LSPs);;   REGISTERED AS {ISIS.aoi partitionAreaAddresses (29)};    partitionDesignatedL2IntermediateSystem ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.SystemId; 

  MATCHES FOR EQUALITY;  BEHAVIOUR partitionDesignatedL2IntermediateSystem-B BEHAVIOUR

  DEFINED AS The ID of the Partition Designated Level 2 Intermediate System for this system;;  REGISTERED AS {ISIS.aoi partitionDesignatedL2IntermediateSystem (30)};    partitionVirtualLinkChanges ATTRIBUTE 

  DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;  BEHAVIOUR partitionVirtualLinkChanges-B BEHAVIOUR

  DEFINED AS Number of times the partitionVirtualLink hange event has been generated;;  REGISTERED AS {ISIS.aoi partitionVirtualLinkChanges (31)};    pollESHelloRate ATTRIBUTE 

  DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":timer;   MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR pollESHelloRate-B BEHAVIOUR  DEFINED AS

The value to be used for the suggested ES configuration timer in ISH PDUs when soliciting the ES configura-tion;;   REGISTERED AS {ISIS.aoi pollESHelloRate (13)};    sequenceNumberSkips ATTRIBUTE   DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;

  BEHAVIOUR sequenceNumberSkips-B BEHAVIOUR  DEFINED AS Number of times the sequenceNumberSkipped event has been generated;;   REGISTERED AS {ISIS.aoi sequenceNumberSkips (23)};    systemId ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.SystemId; 

  MATCHES FOR EQUALITY;  BEHAVIOUR systemId-B BEHAVIOUR 

  DEFINED AS The ID for the local system, to be appended to each of the system's area address(es) to form the Network Entity

Titles valid for this IS. The derivation of a value for SystemId is a local matter.;;   REGISTERED AS {ISIS.aoi systemId (119)};    version ATTRIBUTE 

  WITH ATTRIBUTE SYNTAX ISIS.Version;   MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR version-B BEHAVIOUR   DEFINED AS The edition of this International Standard to which the implementation conforms;;   REGISTERED AS {ISIS.aoi version (1)};    waitingTime ATTRIBUTE   DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":timer;

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR waitingTime-B BEHAVIOUR

  DEFINED AS Amount of time to delay in waiting state before entering On state;,   resettingTimer-B;   REGISTERED AS {ISIS.aoi waitingTime (15)}; 

ISO/IEC 10589:1992 (E) 80

--11.2.5 Conditional packages for linkage MO defined in ISO 10733 --11.2.5.1 Basic ISIS linkage package

  linkageISISBasic-P PACKAGE   BEHAVIOUR linkageISISBasicImportedAlarmNotifications-B BEHAVIOUR

  DEFINED ASImports the communicationsAlarm notification from ISO/IEC 10165-2. It is used to report the following proto-

col events.

  versionSkew: generated when an attempt to initialise with an adjacent system fails as a result of the versions of the protocol

are not compatible. The protocol version field from the received PDU shall be reported in the additionalInfor-mation field using the notificationVersion parameter. The significance sub-parameter of each item of addi- tionalInformation shall be set to the value "false" (i.e. not significant) so that a managing system receivingthe  event  report  will  be  less  likely  to  reject  it.  The  value  ISIS.versionSkew  shall  be  reported  in  the specificProblems parameter. The probableCause shall be set to NLM.versionMismatch. The perceivedSever-ity shall be set to 'Major'. A subsequent communicationsAlarm with a perceivedSeverity value of "Cleared" shall not be generated. No other fields or parameters shall be used, with the exception of further parametersin  the  additionalInformation  field.  The  occurrence  of  this  event  is  counted  by  the  initialisationFailures counter. 

   areaMismatch: generated when an attempt to initialise with an adjacent system fails as a result of two level 1 ISs not sharing

any area addresses in common. The AREA ADDRESSES field and the ID field of the received PDU are re-ported  in  the  additionalInformation  field  using  the  notificationAreaAddresses  and  notificationSystemId  pa- rameters  respectively. The significance sub-parameter of each item of additionalInformation shall be  set tothe value "false" (i.e. not significant) so that a managing system receiving the event report will be less likely to reject it. The value ISIS.areaMismatch shall be reported in the specificProblems parameter. The probable-Cause shall  be  set to  NLM.configurationOrCustomisationError.  The  perceivedSeverity shall  be  set to  'Ma- jor'. A subsequent communicationsAlarm with a perceivedSeverity value of "Cleared" shall not be generated.No other fields or parameters shall be used, with the exception of further parameters in the additionalInfor- mation field. The occurrence of this event is counted by the initialisationFailures counter. 

  rejectedAdjacency: generated when an attempt to create a new adjacency is rejected, because of a lack of resources. The the ID

field  of  the  received  PDU  is  reported  in  the  additionaldata  field  using  the  notificationSystemId  parameter.The  value  ISIS.rejectedAdjacency  shall  be  reported  in  the  specificProblems  parameter.  The  probableCause shall be set to NLM.resourceAtOrNearingCapacity. The perceivedSeverity shall be set to 'Major'. A subse-quent  communicationsAlarm  with  a  perceivedSeverity  value  of  "Cleared"  shall  not  be  generated.  No  other fields or parameters shall be used, with the exception of further parameters in the additionalInformation field.The occurrence of this event is counted by the rejectedAdjacencies counter.    iDFieldLengthMismatch: 

generated when a PDU is received with a different value for ID field length to that of the receiving Intermedi-ate system. The received ID LENGTH and SOURCE ID are reported in the additionalInformation field using the  notificationIDLength  and  notificationSourceId  parameters  respectively.  The  significance  sub-parameterof each item of additionalInformation shall be set to the value "false" (i.e. not significant) so that a managing system receiving the event report will be less likely to reject it. The value ISIS.iDFieldLengthMismatch shallbe  reported  in  the  specificProblems  parameter.  The  probableCause  shall  be  set  to  NLM.config- urationOrCustomisationError. The perceivedSeverity shall be set to 'Major'. A subsequent communication-sAlarm  with  a  perceivedSeverity  value  of  "Cleared"  shall  not  be  generated.  No  other  fields  or  parameters shall be used, with the exception of further parameters in the additionalInformation field. The occurence ofthis event is counted by the iDFieldLengthMismatches counter.    maximumAreaAddressesMismatch: 

generated when a PDU is received with a different value for maximumAreaAddresses from that of the receiv-ing Intermediate system. The received MAXIMUM AREA ADDRESSES and SOURCE ID are reported in the additionalInformation field using the notification maximumAreaAddresses and notificationSourceId  pa-rameters  respectively. The significance sub-parameter of each item of additionalInformation shall be  set to the value "false" (i.e. not significant) so that a managing system receiving the event report will be less likelyto reject it. The value ISIS.maximumAreaAddressesMismatch shall be reported in the specificProblems pa- rameter. The probableCause shall be set to NLM.configurationOrCustomisationError. The perceivedSeverityshall  be  set  to  'Major'.  A  subsequent  communicationsAlarm  with  a  perceivedSeverity  value  of  "Cleared" 

ISO/IEC 10589:1992 (E)

81 shall not be generated. No other fields or parameters shall be used, with the exception of further parametersin the  additionalInformation field. The  occurence of  this event is counted by the  maximumAreaAddresses- Mismatches counter.   ;;    ATTRIBUTES   type INITIAL VALUE DERIVATION RULE supplyValueOnCreate-B GET, 

  iSISHelloTimer   REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.iSISHelloTimer-Default   GET-REPLACE,    l1DefaultMetric   REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.defaultMetric-Default   PERMITTED VALUES ISIS.DefaultMetric-Permitted    GET-REPLACE,   l1DelayMetric    REPLACE-WITH-DEFAULT  DEFAULT VALUE ISIS.optionalMetric-Default    GET-REPLACE,   l1ExpenseMetric    REPLACE-WITH-DEFAULT  DEFAULT VALUE ISIS.optionalMetric-Default    GET-REPLACE,  l1ErrorMetric    REPLACE-WITH-DEFAULT  DEFAULT VALUE ISIS.optionalMetric-Default    GET-REPLACE,   externalDomain    REPLACE-WITH-DEFAULT  DEFAULT VALUE ISIS.externalDomain-Default    GET-REPLACE,  changesInAdjacencyState GET,   initialisationFailures GET,  rejectedAdjacencies GET,   iSISControlPDUsSent GET,  iSISControlPDUsReceived GET,   iDFieldLengthMismatches GET,   maximumAreaAddressesMismatches GET;    ATTRIBUTE GROUPS   "Rec. X.723 | ISO/IEC 10165-5":counters 

  changesInAdjacencyState   initialisationFailures    rejectedAdjacencies   iSISControlPDUsSent    iSISControlPDUsReceived   iDFieldLengthMismatches;    NOTIFICATIONS   "Rec. X.721 | ISO/IEC 10165-2 : 1992":communicationsAlarm 

  notificationAreaAddresses   notificationIDLength    notificationMaximumAreaAddresses   notificationSourceId    notificationSystemId   notificationVersion;   REGISTERED AS {ISIS.poi linkageISISBasic-P (6)}; --11.2.5.2 ISIS broadcast linkage package

  linkageISISBroadcast-P PACKAGE   BEHAVIOUR linkageISISBroadcastImportedInfoNotifications-B BEHAVIOUR

  DEFINED ASImports  the  communicationsInformation  notification from ISO/IEC  10165-5. It  is  used  to  report the  following

protocol events. 

ISO/IEC 10589:1992 (E) 82

  lanL1DesignatedIntermediateSystemChange: generated when the local system either elects itself or resigns as being the LAN L1 Designated Intermediate

System  on  this  circuit.  The  direction  of  the  change  is  reported  in  the  communicationData  field  using  thenotificationDesignatedIntermediateSystemChange  parameter.  The  value  ISIS.lanL1DesignatedIntermediate- SystemChange  shall  be  reported  in  the  informationType  parameter.  No  other  fields  or  parameters  shall  beused, with the exception of further parameters in the informationData field. The relative order of these events must  be  preserved.  The  occurrence  of  this  event  is  counted  by  the  lanL1DesignatedIntermediateSystem-Changes counter.    ;;  ATTRIBUTES 

  l1IntermediateSystemPriority   REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.l1IntermediateSystemPriority-Default   GET-REPLACE,   l1CircuitID GET,   l1DesignatedIntermediateSystem GET,    lanL1DesignatedIntermediateSystemChanges GET;   ATTRIBUTE GROUPS    "Rec. X.723 | ISO/IEC 10165-5":counters   lanL1DesignatedIntermediateSystemChanges;   NOTIFICATIONS   "Rec. X.723 | ISO/IEC 10165-5":communicationsInformation

  notificationDesignatedIntermediateSystemChange;  REGISTERED AS {ISIS.poi linkageISISBroadcast-P (7)};

--11.2.5.3 ISIS point-to-point linkage package   linkageISISPtToPt-P PACKAGE   ATTRIBUTES 

  ptPtCircuitID GET;  REGISTERED AS {ISIS.poi linkageISISPtToPt-P (8)};

--11.2.5.4 ISIS call establishment metric increment linkage package   linkageISISDACallEstablishmentMetricIncrement-P PACKAGE   BEHAVIOUR linkageISISDACallEstablishmentMetricIncrement-P-B BEHAVIOUR

  DEFINED ASPresent when values of call establishment metric increment greater than zero are supported and the parent cLNS

MO has iSType Level2;;   ATTRIBUTES    callEstablishmentDefaultMetricIncrement   REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.callEstablishmentMetricIncrement-Default   GET-REPLACE,    callEstablishmentDelayMetricIncrement   REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.callEstablishmentMetricIncrement-Default   GET-REPLACE,    callEstablishmentExpenseMetricIncrement   REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.callEstablishmentMetricIncrement-Default   GET-REPLACE,   callEstablishmentErrorMetricIncrement   REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.callEstablishmentMetricIncrement-Default   GET-REPLACE;   REGISTERED AS {ISIS.poi linkageISISDACallEstablishmentMetricIncrement-P (9)}; --11.2.5.5 ISIS static linkage package

  linkageISISStatic-P PACKAGE   ATTRIBUTES

  outgoingCallIVMO   REPLACE-WITH-DEFAULT 

  GET-REPLACE, 

ISO/IEC 10589:1992 (E)

83   ptPtCircuitID GET,  neighbourSNPAAddress

  REPLACE-WITH-DEFAULT   GET-REPLACE;   REGISTERED AS {ISIS.poi linkageISISStatic-P (11)}; --11.2.5.6 ISIS level 2 linkage package

  linkageISISLevel2-P PACKAGE   ATTRIBUTES 

  l2DefaultMetric   REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.defaultMetric-Default   PERMITTED VALUES ISIS.DefaultMetric-Permitted    GET-REPLACE,   l2DelayMetric    REPLACE-WITH-DEFAULT  DEFAULT VALUE ISIS.optionalMetric-Default    GET-REPLACE,   l2ExpenseMetric    REPLACE-WITH-DEFAULT  DEFAULT VALUE ISIS.optionalMetric-Default    GET-REPLACE,  l2ErrorMetric    REPLACE-WITH-DEFAULT  DEFAULT VALUE ISIS.optionalMetric-Default    GET-REPLACE,  manualL2OnlyMode    REPLACE-WITH-DEFAULT  DEFAULT VALUE ISIS.manualL2OnlyMode-Default    GET-REPLACE;  REGISTERED AS {ISIS.poi linkageISISLevel2-P (13)};

--11.2.5.7 ISIS level 2 broadcast linkage package    linkageISISlevel2Broadcast-P PACKAGE   BEHAVIOUR linkageISISlevel2BroadcastImportedInfoNotifications-B BEHAVIOUR 

  DEFINED ASImports  the  communicationsInformation  notification from ISO/IEC  10165-5. It  is  used  to  report the  following

protocol events.    lanL2DesignatedIntermediateSystemChange: generated when the local system either elects itself or resigns as being the LAN L2 Designated Intermediate

System on this circuit. The direction of the change is reported in the communicationData field using the noti-ficationDesignatedIntermediateSystemChange  parameter.  The  value  ISIS.lanL2DesignatedIntermediateSys- temChange shall be reported in the informationType parameter. No other fields or parameters shall be used,with the exception of further parameters in the informationData field. The relative order of these events must be  preserved.  The  occurrence  of  this  event  is  counted  by  the  lanL2DesignatedIntermediateSystemChangescounter.    ;;  ATTRIBUTES 

  l2IntermediateSystemPriority   REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.l2IntermediateSystemPriority-Default   GET-REPLACE,    l2CircuitID GET,   l2DesignatedIntermediateSystem GET,    lanL2DesignatedIntermediateSystemChanges GET;   ATTRIBUTE GROUPS    "Rec. X.723 | ISO/IEC 10165-5":counters   lanL2DesignatedIntermediateSystemChanges;    NOTIFICATIONS   "Rec. X.723 | ISO/IEC 10165-5":communicationsInformation 

  notificationDesignatedIntermediateSystemChange;  REGISTERED AS {ISIS.poi linkageISISlevel2Broadcast-P (14)};

ISO/IEC 10589:1992 (E) 84

--11.2.5.8 ISIS linkage authentication package   linkageISISAuthentication-P PACKAGE   BEHAVIOUR linkageISISAuthentication-P-ImportedAlarmNotifications-B BEHAVIOUR 

  DEFINED ASImports the communicationsAlarm notification from ISO/IEC 10165-2. It is used to report the following proto-

col events.    authenticationFailure: generated when a PDU is received with an incorrect Authentication information field. The SystemId of the

source system is  reported in  the additionalInformation  field using  the notificationSystemId  parameter. The significance  sub-parameter  of  each  item  of  additionalInformation  shall  be  set  to  the  value  "false"  (i.e.  not significant)  so that  a managing system  receiving  the  event  report will  be  less  likely  to  reject it.  The  value ISIS.authenticationFailure shall be reported in the specificProblems parameter. The probableCause shall be set to NLM.configurationOrCustomisationError. The perceivedSeverity shall be set to 'Major'. A subsequentcommunicationsAlarm with a perceivedSeverity value of "Cleared" shall not be generated. No other fields or parameters shall be used, with the exception of further parameters in the additionalInformation field. The oc-currence of this event is counted by the authenticationFailures counter.    ;;   ATTRIBUTES 

  circuitTransmitPassword   REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.password-Default   GET-REPLACE,    circuitReceivePasswords   REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.passwords-Default   GET-REPLACE ADD-REMOVE,    authenticationFailures GET;   ATTRIBUTE GROUPS    "Rec. X.723 | ISO/IEC 10165-5":counters   authenticationFailures;    NOTIFICATIONS   "Rec. X.721 | ISO/IEC 10165-2 : 1992":communicationsAlarm 

  notificationSystemId;  REGISTERED AS {ISIS.poi linkageISISAuthentication-P (15)};

--11.2.5.9 Attributes for the linkage MO from ISO 10733 added by ISIS conditional packages   callEstablishmentDefaultMetricIncrement ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.HopMetric; 

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR callEstablishmentDefaultMetricIncrement-B BEHAVIOUR

  DEFINED AS Additional value to be reported for the default metric value of unestablished DA adjacencies;;  REGISTERED AS {ISIS.aoi callEstablishmentDefaultMetricIncrement (52)};    callEstablishmentDelayMetricIncrement ATTRIBUTE 

  WITH ATTRIBUTE SYNTAX ISIS.HopMetric;   MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR callEstablishmentDelayMetricIncrement-B BEHAVIOUR  DEFINED AS Additional value to be reported for the delay metric value of unestablished DA adjacencies;;   REGISTERED AS {ISIS.aoi callEstablishmentDelayMetricIncrement (53)};    callEstablishmentErrorMetricIncrement ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.HopMetric; 

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR callEstablishmentErrorMetricIncrement-B BEHAVIOUR

  DEFINED AS Additional value to be reported for the Error metric value of unestablished DA adjacencies;;  REGISTERED AS {ISIS.aoi callEstablishmentErrorMetricIncrement (55)};    callEstablishmentExpenseMetricIncrement ATTRIBUTE 

  WITH ATTRIBUTE SYNTAX ISIS.HopMetric;   MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR callEstablishmentExpenseMetricIncrement-B BEHAVIOUR  DEFINED AS Additional value to be reported for the Expense metric value of unestablished DA adjacencies;;

ISO/IEC 10589:1992 (E)

85   REGISTERED AS {ISIS.aoi callEstablishmentExpenseMetricIncrement (54)};    changesInAdjacencyState ATTRIBUTE   DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;

  BEHAVIOUR changesInAdjacencyState-B BEHAVIOUR  DEFINED AS Number of Adjacency State Change events generated;;   REGISTERED AS {ISIS.aoi changesInAdjacencyState (40)};    circuitReceivePasswords ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.Passwords; 

  MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION;  BEHAVIOUR circuitReceivePasswords-B BEHAVIOUR

  DEFINED AS The values to be used as receive passwords to check the receipt of IIH PDUs;;  REGISTERED AS {ISIS.aoi circuitReceivePasswords (116)};    circuitTransmitPassword ATTRIBUTE 

  WITH ATTRIBUTE SYNTAX ISIS.Password;   MATCHES FOR EQUALITY;   BEHAVIOUR circuitTransmitPassword-B BEHAVIOUR  DEFINED AS The value to be used as a transmit password in IIH PDUs transmitted by this Intermediate System;;   REGISTERED AS {ISIS.aoi circuitTransmitPassword (115)};    externalDomain ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.Boolean; 

  MATCHES FOR EQUALITY;  BEHAVIOUR externalDomain-B BEHAVIOUR

  DEFINED ASIf TRUE, suppress normal transmission of and interpretation of Intra-domain ISIS PDUs on this circuit.;;   REGISTERED AS {ISIS.aoi externalDomain (46)};    initialisationFailures ATTRIBUTE   DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;

  BEHAVIOUR initialisationFailures-B BEHAVIOUR  DEFINED AS Number of Initialisation Failure events generated;;   REGISTERED AS {ISIS.aoi initialisationFailures (41)};    iSISControlPDUsReceived ATTRIBUTE   DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;

  BEHAVIOUR iSISControlPDUsReceived-B BEHAVIOUR  DEFINED AS Number of control PDUs received on this circuit;;   REGISTERED AS {ISIS.aoi iSISControlPDUsReceived (44)};    iSISControlPDUsSent ATTRIBUTE   DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;

  BEHAVIOUR iSISControlPDUsSent-B BEHAVIOUR  DEFINED AS Number of control PDUs sent on this circuit;;   REGISTERED AS {ISIS.aoi iSISControlPDUsSent (43)};    iSISHelloTimer ATTRIBUTE   DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":timer; 

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR iSISHelloTimer-B BEHAVIOUR

  DEFINED ASThe period between IIH PDUs. It is also used as the period between ISH PDUs when polling the ES configura-

tion;,  resettingTimer-B;   REGISTERED AS {ISIS.aoi iSISHelloTimer (45)};    l1CircuitID ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.CircuitID; 

  MATCHES FOR EQUALITY;  BEHAVIOUR l1CircuitID-B BEHAVIOUR

  DEFINED ASThe LAN ID allocated by the LAN Level 1 Designated Intermediate System. Where this system is not aware of

the value (because it is not participating in the Level 1 Designated Intermediate System election), this attributehas the value which would be proposed for this circuit. (i.e. the concatenation of the local system ID and the one octet local Circuit ID for this circuit.;;

ISO/IEC 10589:1992 (E) 86

  REGISTERED AS {ISIS.aoi l1CircuitID (48)};    l1ErrorMetric ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.HopMetric; 

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR l1ErrorMetric-B BEHAVIOUR

  DEFINED ASThe error metric value of this circuit for Level 1 traffic. The value of zero is reserved to indicate that this metric

is not supported;;  REGISTERED AS {ISIS.aoi l1ErrorMetric (38)};    l1ExpenseMetric ATTRIBUTE 

  WITH ATTRIBUTE SYNTAX ISIS.HopMetric;   MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR l1ExpenseMetric-B BEHAVIOUR  DEFINED AS

The  expense  metric  value of  this  circuit  for  Level  1  traffic.  The  value  of  zero  is  reserved  to  indicate  that  thismetric is not supported;;   REGISTERED AS {ISIS.aoi l1ExpenseMetric (37)};    l1DefaultMetric ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.HopMetric; 

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR l1defaultMetric-B BEHAVIOUR

  DEFINED AS The default metric value of this circuit for Level 1 traffic. ;;  REGISTERED AS {ISIS.aoi l1DefaultMetric (35)};    l1DelayMetric ATTRIBUTE 

  WITH ATTRIBUTE SYNTAX ISIS.HopMetric;   MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR l1DelayMetric-B BEHAVIOUR  DEFINED AS

The delay metric value of this circuit for Level 1 traffic. The value of zero is reserved to indicate that this metricis not supported;;   REGISTERED AS {ISIS.aoi l1DelayMetric (36)};    l1DesignatedIntermediateSystem ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.SystemId; 

  MATCHES FOR EQUALITY;  BEHAVIOUR l1DesignatedIntermediateSystem-B BEHAVIOUR

  DEFINED ASThe ID of the LAN Level 1 Designated Intermediate System on this circuit. If, for any reason this system is not

partaking  in  the  relevant  Designated  Intermediate  System  election  process,  then  the  value  returned  is  the  zerolength OCTET STRING;;   REGISTERED AS {ISIS.aoi l1DesignatedIntermediateSystem (49)};    l1IntermediateSystemPriority ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.IntermediateSystemPriority; 

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR l1IntermediateSystemPriority-B BEHAVIOUR

  DEFINED AS Priority for becoming LAN Level 1 Designated Intermediate System;;  REGISTERED AS {ISIS.aoi l1IntermediateSystemPriority (47)};    l2CircuitID ATTRIBUTE 

  WITH ATTRIBUTE SYNTAX ISIS.CircuitID;   MATCHES FOR EQUALITY;   BEHAVIOUR l2CircuitID-B BEHAVIOUR  DEFINED AS

The LAN ID allocated by the LAN Level 2 Designated Intermediate System. Where this system is not aware ofthe value (because it is not participating in the Level 2 Designated Intermediate System election), this attribute has the value which would be proposed for this circuit. (i.e. the concatenation of the local system ID and the  oneoctet local Circuit ID for this circuit.;;   REGISTERED AS {ISIS.aoi l2CircuitID (74)};    l2DefaultMetric ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.HopMetric; 

  MATCHES FOR EQUALITY, ORDERING;

ISO/IEC 10589:1992 (E)

87   BEHAVIOUR l2defaultMetric-B BEHAVIOUR  DEFINED AS The default metric value of this circuit for Level 2 traffic. ;;   REGISTERED AS {ISIS.aoi l2DefaultMetric (68)};    l2DelayMetric ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.HopMetric; 

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR l2DelayMetric-B BEHAVIOUR

  DEFINED AS The delay metric value of this circuit for Level 2 traffic. The value of zero is reserved to indicate that this metric

is not supported;;  REGISTERED AS {ISIS.aoi l2DelayMetric (69)};    l2DesignatedIntermediateSystem ATTRIBUTE 

  WITH ATTRIBUTE SYNTAX ISIS.SystemId;   MATCHES FOR EQUALITY;   BEHAVIOUR l2DesignatedIntermediateSystem-B BEHAVIOUR  DEFINED AS

The ID of the LAN Level 2 Designated Intermediate System on this circuit. If, for any reason this system is notpartaking  in  the  relevant  Designated  Intermediate  System  election  process,  then  the  value  returned  is  the  zero length OCTET STRING;;  REGISTERED AS {ISIS.aoi l2DesignatedIntermediateSystem (75)};    l2ErrorMetric ATTRIBUTE 

  WITH ATTRIBUTE SYNTAX ISIS.HopMetric;   MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR l2ErrorMetric-B BEHAVIOUR  DEFINED AS

The error metric value of this circuit for Level 2 traffic. The value of zero is reserved to indicate that this metricis not supported;;   REGISTERED AS {ISIS.aoi l2ErrorMetric (71)};    l2ExpenseMetric ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.HopMetric; 

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR l2ExpenseMetric-B BEHAVIOUR

  DEFINED ASThe  expense  metric  value of  this  circuit  for  Level  2  traffic.  The  value  of  zero  is  reserved  to  indicate  that  this

metric is not supported;;  REGISTERED AS {ISIS.aoi l2ExpenseMetric (70)};    l2IntermediateSystemPriority ATTRIBUTE 

  WITH ATTRIBUTE SYNTAX ISIS.IntermediateSystemPriority;   MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR l2IntermediateSystemPriority-B BEHAVIOUR  DEFINED AS Priority for becoming LAN Level 2 Designated Intermediate System;;   REGISTERED AS {ISIS.aoi l2IntermediateSystemPriority (73)};    lanL1DesignatedIntermediateSystemChanges ATTRIBUTE   DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;

  BEHAVIOUR lanL1DesignatedIntermediateSystemChanges-B BEHAVIOUR  DEFINED AS Number of LAN L1 Designated Intermediate System Change events generated;;   REGISTERED AS {ISIS.aoi lanL1DesignatedIntermediateSystemChanges (50)};    lanL2DesignatedIntermediateSystemChanges ATTRIBUTE   DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;

  BEHAVIOUR lanL2DesignatedIntermediateSystemChanges-B BEHAVIOUR  DEFINED AS Number of LAN L2 Designated Intermediate System Change events generated;;   REGISTERED AS {ISIS.aoi lanL2DesignatedIntermediateSystemChanges (76)};    manualL2OnlyMode ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.Boolean; 

  MATCHES FOR EQUALITY;  BEHAVIOUR manualL2OnlyMode-B BEHAVIOUR

  DEFINED ASWhen True, indicates that this Circuit is to be used only for Level 2;, replaceOnlyWhileDisabled-B; PARAME-

TERS constraintViolation;

ISO/IEC 10589:1992 (E) 88

  REGISTERED AS {ISIS.aoi manualL2OnlyMode (72)};    outgoingCallIVMO ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.LocalDistinguishedName; 

  MATCHES FOR EQUALITY;  BEHAVIOUR outgoingCallIVMO-B BEHAVIOUR

  DEFINED ASreference to the virtualCallIVMO to be used to establish communication with a neighbour over this circuit. This

IVMO contains, among other things,the SNPA Address to use as the called address.;;  REGISTERED AS {ISIS.aoi outgoingCallIVMO (120)};    ptPtCircuitID ATTRIBUTE 

  WITH ATTRIBUTE SYNTAX ISIS.CircuitID;   MATCHES FOR EQUALITY;   BEHAVIOUR ptPtCircuitID-B BEHAVIOUR  DEFINED AS

The ID of the circuit allocated during initialisation. If no value has been negotiated (either because the adjacencyis  to  an  End  system,  or  because  initialisation  has  not  yet  successfully  completed),  this  attribute  has  the  value which would be proposed for this circuit. (i.e. the concatenation of the local system ID and the one octet localCircuit ID for this circuit.;;   REGISTERED AS {ISIS.aoi ptPtCircuitID (51)};    rejectedAdjacencies ATTRIBUTE   DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":nonWrappingCounter;

  BEHAVIOUR rejectedAdjacencies-B BEHAVIOUR  DEFINED AS Number of Rejected Adjacency events generated;;   REGISTERED AS {ISIS.aoi rejectedAdjacencies (42)};    type ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.CircuitType; 

  MATCHES FOR EQUALITY;  BEHAVIOUR type-B BEHAVIOUR

  DEFINED AS The type of the circuit. This attribute may only be set when the linkage MO is created. Subsequently it is read-

only;;  REGISTERED AS {ISIS.aoi type (33)};

--11.2.6 Adjacency managed object   -- Created either through the adjacency-linkage Name binding for  -- adjacencies instantiated by protocol operation, or the    -- adjacency-linkage-management name binding for adjacencies created  -- via explicit system management operation -    adjacency MANAGED OBJECT CLASS    DERIVED FROM "Rec. X.721 | ISO/IEC 10165-2 : 1992":top;  CHARACTERIZED BY adjacency-P PACKAGE 

  BEHAVIOUR adjacencyStateChange-B BEHAVIOUR  DEFINED AS

This Managed Object imports the 10165-2 stateChange notification. It is used to report changes to the adjacency-State attribute. The value "Down" shall be reported when the adjacency is deleted. A single parameter set shall be  included  in  the  State  Change  definition  field.  Only  the  (mandatory)  attributeId  and  newAttributeValue  pa-rameters shall be used.  ;;  ATTRIBUTES    adjacencyId GET,   adjacencyState GET, -- Note: this is NOT operational state    neighbourSNPAAddress  INITIAL VALUE DERIVATION RULE supplyValueOnCreate-B 

  GET,   neighbourSystemType GET,    neighbourSystemIds  INITIAL VALUE DERIVATION RULE supplyValueOnCreate-B

GET;   NOTIFICATIONS    "Rec. X.721 | ISO/IEC 10165-2 : 1992":stateChange; ;; 

ISO/IEC 10589:1992 (E)

89   CONDITIONAL PACKAGES   iSAdjacency-P PRESENT IF 

"the adjacency is to an IS (i.e the neighbourSystemType is Intermediate System, L1 Intermediate System orL2 Intermediate System)",    broadcastISAdjacency-P PRESENT IF the parent Linkage MO is of type broadcast and is to an IS as above;  REGISTERED AS {ISIS.moi adjacency (1)};

--11.2.6.1 IS adjacency package of the adjacency managed object   iSAdjacency-P PACKAGE   ATTRIBUTES 

  adjacencyUsage GET,   areaAddressesOfNeighbour GET,    holdingTimer GET;  REGISTERED AS {ISIS.poi iSAdjacency-P (19)};

--11.2.6.2 Broadcast IS adjacency package of the adjacency managed object   broadcastISAdjacency-P PACKAGE   ATTRIBUTES 

  priorityOfNeighbour GET;  REGISTERED AS {ISIS.poi broadcastISAdjacency-P (20)};

--11.2.6.3 Name bindings for the adjacency managed object   adjacency-linkage NAME BINDING   SUBORDINATE OBJECT CLASS adjacency AND SUBCLASSES; 

  NAMED BY SUPERIOR OBJECT CLASS "ISO/IEC 10733":linkage AND SUBCLASSES;   WITH ATTRIBUTE adjacencyId;   BEHAVIOUR adjacency-linkage-B BEHAVIOUR  DEFINED AS

This Name Binding is used for adjacencies created automatically by operation of the ISO/IEC 10589 protocolmachine.;,    adjacencyId-B;  REGISTERED AS {ISIS.nboi adjacency-linkage (7)};

  adjacency-linkage-management NAME BINDING   SUBORDINATE OBJECT CLASS adjacency AND SUBCLASSES; 

  NAMED BY SUPERIOR OBJECT CLASS "ISO/IEC 10733":linkage AND SUBCLASSES;   WITH ATTRIBUTE adjacencyId;   BEHAVIOUR adjacency-linkage-management-B BEHAVIOUR  DEFINED AS This Name Binding is used for adjacencies created by system management.;, 

  adjacencyId-B;   CREATE WITH-REFERENCE-OBJECT reservedName;    DELETE ONLY-IF-NO-CONTAINED-OBJECTS;  REGISTERED AS {ISIS.nboi adjacency-linkage-management (8)};

--11.2.6.4 Attributes of the adjacency managed object   adjacencyId ATTRIBUTE   WITH ATTRIBUTE SYNTAX ISIS.GraphicString;

  MATCHES FOR EQUALITY, SUBSTRINGS;  BEHAVIOUR adjacencyId-B BEHAVIOUR

  DEFINED ASA  string  which  is  the  Identifier  for  the  Adjacency  and  which  is  unique  amongst  the  set  of  Adjacencies  main-

tained for this linkage. If this is an adjacency created by system management, it is set by the System Managerwhen the Adjacency is created, otherwise it is generated by the implementation such that it is unique. The set of  identifiers containing the leading string "Auto" are reserved for Automatic Adjacencies. An attempt by systemmanagement to create an adjacency with such an identifier will cause a reserved name violation;;   REGISTERED AS {ISIS.aoi adjacencyId (77)};    adjacencyState ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.AdjacencyState;

ISO/IEC 10589:1992 (E) 90

  MATCHES FOR EQUALITY;  BEHAVIOUR adjacencyState-B BEHAVIOUR

  DEFINED AS The state of the adjacency;;  REGISTERED AS {ISIS.aoi adjacencyState (78)};    adjacencyUsage ATTRIBUTE

  WITH ATTRIBUTE SYNTAX ISIS.AdjacencyUsage;  MATCHES FOR EQUALITY;   BEHAVIOUR adjacencyUsage-B BEHAVIOUR  DEFINED AS

The usage of the Adjacency. An Adjacency of type Level 1 will be used for Level 1 traffic only. An adjacency oftype Level 2 will be used for Level 2 traffic only. An adjacency of type Level 1 and 2 will be used for both Level 1  and  Level  2  traffic.  There  may  be  two  adjacencies  (of  types  Level  1  and  Level  2  between  the  same  pair  ofIntermediate Systems.;;   REGISTERED AS {ISIS.aoi adjacencyUsage (82)};    areaAddressesOfNeighbour ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.AreaAddresses;

  MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION;  BEHAVIOUR areaAddressesOfNeighbour-B BEHAVIOUR

  DEFINED AS This contains the Area Addresses of a neighbour Intermediate System from the IIH PDU.;;  REGISTERED AS {ISIS.aoi areaAddressesOfNeighbour (84)};    holdingTimer ATTRIBUTE

  DERIVED FROM "Rec. X.723 | ISO/IEC 10165-5":timer;  MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR holdingTimer-B BEHAVIOUR  DEFINED AS Holding time for this adjacency updated from the IIH PDUs;;   REGISTERED AS {ISIS.aoi holdingTimer (85)};    priorityOfNeighbour ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.IntermediateSystemPriority;

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR priorityOfNeighbour-B BEHAVIOUR

  DEFINED ASPriority  of  neighbour  on  this  adjacency  for  becoming  LAN  Level  1  Designated  Intermediate  System  if

adjacencyType is L1 Intermediate System or LAN Level 2 Designated Intermediate System if adjacencyType isL2 Intermediate System;;   REGISTERED AS {ISIS.aoi priorityOfNeighbour (86)};    neighbourSNPAAddress ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.SNPAAddress;

  MATCHES FOR EQUALITY;  BEHAVIOUR neighbourSNPAAddress-B BEHAVIOUR

  DEFINED AS The SNPA address of the neighbour system;,  replaceOnlyWhileDisabled-B;   PARAMETERS constraintViolation;  REGISTERED AS {ISIS.aoi neighbourSNPAAddress (79)};    neighbourSystemIds ATTRIBUTE

  WITH ATTRIBUTE SYNTAX ISIS.SystemIds;  MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION;   BEHAVIOUR neighbourSystemIds-B BEHAVIOUR  DEFINED AS

For Intermediate system neighbours: Contains the single SystemId of the neighbouring Intermediate system ob-tained from the  Source ID  field  of  the neighbour's IIH  PDU. For End system neighbours:  Contains the  set of system ID(s) of a neighbour End system.;;  REGISTERED AS {ISIS.aoi neighbourSystemIds (83)};    neighbourSystemType ATTRIBUTE

  WITH ATTRIBUTE SYNTAX ISIS.NeighbourSystemType;  MATCHES FOR EQUALITY;   BEHAVIOUR neighbourSystemType-B BEHAVIOUR  DEFINED AS

"The type of the neighbour system one of: Unknown, End system, Intermediate system, L1 Intermediate system,L2 Intermediate system";;   REGISTERED AS {ISIS.aoi neighbourSystemType (80)};

ISO/IEC 10589:1992 (E)

91 --11.2.7 Virtual adjacency managed object   virtualAdjacency MANAGED OBJECT CLASS  DERIVED FROM "Rec. X.721 | ISO/IEC 10165-2 : 1992":top;

  CHARACTERIZED BY virtualAdjacency-P PACKAGE  ATTRIBUTES

  networkEntityTitle GET,  metric GET;    ;;  REGISTERED AS {ISIS.moi virtualAdjacency (2)};

--11.2.7.1 Name bindings for the virtual adjacency managed object   virtualAdjacency-cLNS NAME BINDING  SUBORDINATE OBJECT CLASS virtualAdjacency AND SUBCLASSES;

  NAMED BY SUPERIOR OBJECT CLASS "ISO/IEC 10733":cLNS AND SUBCLASSES;  WITH ATTRIBUTE networkEntityTitle;   BEHAVIOUR virtualAdjacency-cLNS-B BEHAVIOUR  DEFINED AS This name binding is only applicable where the superior object has an iSType of Level2;;   REGISTERED AS {ISIS.nboi virtualAdjacency-cLNS (3)}; --11.2.7.2 Attributes of the virtual adjacency managed object

  metric ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.PathMetric;

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR metric-B BEHAVIOUR

  DEFINED AS Cost of least cost L2 path(s) to destination area based on the default metric;;  REGISTERED AS {ISIS.aoi metric (89)};

--11.2.8 Destination managed object   -- This MO class is never instantiated. It exists only to allow the destinationSystem and destinationArea  -- MO classes to be derived from it.    destination MANAGED OBJECT CLASS

  DERIVED FROM "Rec. X.721 | ISO/IEC 10165-2 : 1992":top;  CHARACTERIZED BY destination-P PACKAGE   ATTRIBUTES  defaultMetricPathCost GET,

  defaultMetricOutputAdjacencies GET,  delayMetricPathCost GET,   delayMetricOutputAdjacencies GET,  expenseMetricPathCost GET,   expenseMetricOutputAdjacencies GET,  errorMetricPathCost GET,   errorMetricOutputAdjacencies GET;  ;;   REGISTERED AS {ISIS.moi destination (3)}; --11.2.9 Attributes of the destination managed object

  defaultMetricOutputAdjacencies ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.OutputAdjacencies;

  MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION;  BEHAVIOUR defaultMetricOutputAdjacencies-B BEHAVIOUR

  DEFINED ASThe set of Adjacency (or Reachable Address) managed object identifiers representing the forwarding decisions

based upon the default metric for the destination;;  REGISTERED AS {ISIS.aoi defaultMetricOutputAdjacencies (91)};    defaultMetricPathCost ATTRIBUTE

  WITH ATTRIBUTE SYNTAX ISIS.PathMetric;

ISO/IEC 10589:1992 (E) 92

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR defaultMetricPathCost-B BEHAVIOUR

  DEFINED AS Cost of least cost path(s) using the default metric to destination;;  REGISTERED AS {ISIS.aoi defaultMetricPathCost (90)};    delayMetricOutputAdjacencies ATTRIBUTE

  WITH ATTRIBUTE SYNTAX ISIS.OutputAdjacencies;  MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION;   BEHAVIOUR delayMetricOutputAdjacencies-B BEHAVIOUR  DEFINED AS

The set of Adjacency (or Reachable Address) managed object identifiers representing the forwarding decisionsbased upon the delay metric for the destination;;   REGISTERED AS {ISIS.aoi delayMetricOutputAdjacencies (93)};    delayMetricPathCost ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.PathMetric;

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR delayMetricPathCost-B BEHAVIOUR

  DEFINED AS Cost of least cost path(s) using the delay metric to destination;;  REGISTERED AS {ISIS.aoi delayMetricPathCost (92)};    errorMetricOutputAdjacencies ATTRIBUTE

  WITH ATTRIBUTE SYNTAX ISIS.OutputAdjacencies;  MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION;   BEHAVIOUR errorMetricOutputAdjacencies-B BEHAVIOUR  DEFINED AS

The set of Adjacency (or Reachable Address) managed object identifiers representing the forwarding decisionsbased upon the error metric for the destination;;   REGISTERED AS {ISIS.aoi errorMetricOutputAdjacencies (97)};    errorMetricPathCost ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.PathMetric;

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR errorMetricPathCost-B BEHAVIOUR

  DEFINED AS Cost of least cost path(s) using the error metric to destination;;  REGISTERED AS {ISIS.aoi errorMetricPathCost (96)};    expenseMetricOutputAdjacencies ATTRIBUTE

  WITH ATTRIBUTE SYNTAX ISIS.OutputAdjacencies;  MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION;   BEHAVIOUR expenseMetricOutputAdjacencies-B BEHAVIOUR  DEFINED AS

The set of Adjacency (or Reachable Address) managed object identifiers representing the forwarding decisionsbased upon the expense metric for the destination;;   REGISTERED AS {ISIS.aoi expenseMetricOutputAdjacencies (95)};    expenseMetricPathCost ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.PathMetric;

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR expenseMetricPathCost-B BEHAVIOUR

  DEFINED AS Cost of least cost path(s) using the expense metric to destination;;  REGISTERED AS {ISIS.aoi expenseMetricPathCost (94)};

--11.2.10 Destination system managed object   destinationSystem MANAGED OBJECT CLASS  DERIVED FROM destination;

  CHARACTERIZED BY destinationSystem-P PACKAGE  ATTRIBUTES

  networkEntityTitle GET;  ;;   REGISTERED AS {ISIS.moi destinationSystem (4)};

ISO/IEC 10589:1992 (E)

93 --11.2.10.1 Name bindings   destinationSystem-cLNS NAME BINDING  SUBORDINATE OBJECT CLASS destinationSystem AND SUBCLASSES;

  NAMED BY SUPERIOR OBJECT CLASS "ISO/IEC 10733":cLNS AND SUBCLASSES;  WITH ATTRIBUTE networkEntityTitle;    REGISTERED AS {ISIS.nboi destinationSystem-cLNS (1)}; --11.2.11 Destination area managed object

  destinationArea MANAGED OBJECT CLASS  DERIVED FROM destination;

  CHARACTERIZED BY destinationArea-P PACKAGE  ATTRIBUTES 

  addressPrefix GET; ;;  REGISTERED AS {ISIS.moi destinationArea (7)};

--11.2.11.1 Name bindings   destinationArea-cLNS NAME BINDING  SUBORDINATE OBJECT CLASS destinationArea AND SUBCLASSES;

  NAMED BY SUPERIOR OBJECT CLASS "ISO/IEC 10733":cLNS AND SUBCLASSES;  WITH ATTRIBUTE addressPrefix;   BEHAVIOUR destinationArea-cLNS-B BEHAVIOUR  DEFINED AS This name binding is only applicable where the superior object has an iSType of Level2;;   REGISTERED AS {ISIS.nboi destinationArea-cLNS (2)}; --11.2.12 Reachable address managed object

  -- Created either through the reachableAddress-linkage-imported  -- Name binding for reachable addresses instantiated by   -- the importation of routeing information from another  -- routeing protocol (such as the interdomain routeing protocol), or the   -- reachableAddress-linkage-management name binding for adjacencies created  -- via explicit system management operation. -    reachableAddress MANAGED OBJECT CLASS

  DERIVED FROM "Rec. X.721 | ISO/IEC 10165-2 : 1992":top;  CHARACTERIZED BY reachableAddress-P PACKAGE   BEHAVIOUR "ISO/IEC 10733":commonCreationDeletion-B, "ISO/IEC 10733":commonStateChange-B;  ATTRIBUTES

  reachableAddressId GET,  addressPrefix

  INITIAL VALUE DERIVATION RULE supplyValueOnCreate-B   GET,   mappingType  INITIAL VALUE DERIVATION RULE supplyValueOnCreate-B 

  GET,  defaultMetric   REPLACE-WITH-DEFAULT  DEFAULT VALUE ISIS.defaultMetric-Default   PERMITTED VALUES ISIS.DefaultMetric-Permitted  GET-REPLACE,   delayMetric  REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.optionalMetric-Default  GET-REPLACE,   expenseMetric  REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.optionalMetric-Default  GET-REPLACE,   errorMetric  REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.optionalMetric-Default

ISO/IEC 10589:1992 (E) 94

  GET-REPLACE,  defaultMetricType   REPLACE-WITH-DEFAULT  DEFAULT VALUE ISIS.metricType-Default   GET-REPLACE,  delayMetricType   REPLACE-WITH-DEFAULT  DEFAULT VALUE ISIS.metricType-Default   GET-REPLACE,  expenseMetricType   REPLACE-WITH-DEFAULT  DEFAULT VALUE ISIS.metricType-Default   GET-REPLACE,  errorMetricType   REPLACE-WITH-DEFAULT  DEFAULT VALUE ISIS.metricType-Default   GET-REPLACE,  "Rec. X.721 | ISO/IEC 10165-2 : 1992":operationalState GET;   ACTIONS  "Rec. X.723 | ISO/IEC 10165-5":activate,

  "Rec. X.723 | ISO/IEC 10165-5":deactivate;  NOTIFICATIONS   "Rec. X.721 | ISO/IEC 10165-2 : 1992":objectCreation,  "Rec. X.721 | ISO/IEC 10165-2 : 1992":objectDeletion,   "Rec. X.721 | ISO/IEC 10165-2 : 1992":stateChange;  ;;   CONDITIONAL PACKAGES  explicitSNPA-P PRESENT IF the value of mappingType is "explicit",

  extractDSP-P PRESENT IF the value of mappingType is "extractDSP";  REGISTERED AS {ISIS.moi reachableAddress (8)};

--11.2.12.1 Explicit SNPA package   explicitSNPA-P PACKAGE  ATTRIBUTES

  sNPAAddresses GET-REPLACE;  REGISTERED AS {ISIS.poi explicitSNPA-P (22)};

--11.2.12.2 Extract DSP package   extractDSP-P PACKAGE  BEHAVIOUR extractDSP-P-B BEHAVIOUR

  DEFINED ASWhen present, the remote SNPA address is determined by extracting the bits from the effective NSAP

address indicated by 1's in the sNPAMask and concatenating them to the sNPAPrefix.;;  ATTRIBUTES   sNPAMask  REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.sNPAMask-Default  GET-REPLACE,   sNPAPrefix  REPLACE-WITH-DEFAULT

  DEFAULT VALUE ISIS.sNPAPrefix-Default  GET-REPLACE;   REGISTERED AS {ISIS.poi extractDSP-P (23)}; --11.2.12.3 Name bindings

  reachableAddress-linkage-imported NAME BINDING  SUBORDINATE OBJECT CLASS reachableAddress AND SUBCLASSES;

  NAMED BY SUPERIOR OBJECT CLASS "ISO/IEC 10733":linkage AND SUBCLASSES;  WITH ATTRIBUTE reachableAddressId;   BEHAVIOUR reachableAddress-linkage-imported-B BEHAVIOUR

ISO/IEC 10589:1992 (E)

95   DEFINED ASThis name binding is only applicable where the superior object of the linkage instance is an object with iSType

level2IS  It  is  used  for  the  automatic  creation  of  reachable  address  MOs.  This  is  useful  when  injecting  intra-domain routes obtained through the operation of an interdomain routeing protocol.;;   REGISTERED AS {ISIS.nboi reachableAddress-linkage-imported (5)};    reachableAddress-linkage-management NAME BINDING  SUBORDINATE OBJECT CLASS reachableAddress AND SUBCLASSES;   NAMED BY SUPERIOR OBJECT CLASS "ISO/IEC 10733":linkage AND SUBCLASSES;  WITH ATTRIBUTE reachableAddressId;   BEHAVIOUR reachableAddress-linkage-management-B BEHAVIOUR  DEFINED AS

This name binding is only applicable where the superior object of the linkage instance is an object with iSTypelevel2IS  It  is  used  for  the  manual  creation  of  reachable  address  MOs  by  system  management.;, reachableAddressId-B;  CREATE WITH-REFERENCE-OBJECT reservedName;   DELETE ONLY-IF-NO-CONTAINED-OBJECTS;  REGISTERED AS {ISIS.nboi reachableAddress-linkage-management (6)};

--11.2.12.4 Attributes of the reachable address managed object   defaultMetric ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.HopMetric;

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR defaultMetric-B BEHAVIOUR

  DEFINED ASThe default metric value for reaching the specified prefix over this Circuit. If this attribute is changed while both

the Reachable Address and the linkage are Enabled (i.e. state On), the actions described in clause 8.3.5.4 must betaken. ;;   REGISTERED AS {ISIS.aoi defaultMetric (99)};    defaultMetricType ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.MetricType;

  MATCHES FOR EQUALITY;  BEHAVIOUR defaultMetricType-B BEHAVIOUR

  DEFINED AS Indicates whether the default metric is internal or external;;  REGISTERED AS {ISIS.aoi defaultMetricType (103)};    delayMetric ATTRIBUTE

  WITH ATTRIBUTE SYNTAX ISIS.HopMetric;  MATCHES FOR EQUALITY, ORDERING;   BEHAVIOUR delayMetric-B BEHAVIOUR  DEFINED AS

The delay metric value for reaching the specified prefix over this Circuit. If this attribute is changed while boththe Reachable Address and the linkage are Enabled (i.e. state On), the actions described in clause 8.3.5.4 must be taken. The value of zero is reserved to indicate that this metric is not supported;;  REGISTERED AS {ISIS.aoi delayMetric (100)};    delayMetricType ATTRIBUTE

  WITH ATTRIBUTE SYNTAX ISIS.MetricType;  MATCHES FOR EQUALITY;   BEHAVIOUR delayMetricType-B BEHAVIOUR  DEFINED AS Indicates whether the delay metric is internal or external;;   REGISTERED AS {ISIS.aoi delayMetricType (104)};    errorMetric ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.HopMetric;

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR errorMetric-B BEHAVIOUR

  DEFINED ASThe error metric value for reaching the specified prefix over this Circuit. If this attribute is changed while both

the Reachable Address and the linkage are Enabled (i.e. state On), the actions described in clause 8.3.5.4 must betaken. The value of zero is reserved to indicate that this metric is not supported;;   REGISTERED AS {ISIS.aoi errorMetric (102)};    errorMetricType ATTRIBUTE

ISO/IEC 10589:1992 (E) 96

  WITH ATTRIBUTE SYNTAX ISIS.MetricType;  MATCHES FOR EQUALITY;   BEHAVIOUR errorMetricType-B BEHAVIOUR  DEFINED AS Indicates whether the error metric is internal or external;;   REGISTERED AS {ISIS.aoi errorMetricType (106)};    expenseMetric ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.HopMetric;

  MATCHES FOR EQUALITY, ORDERING;  BEHAVIOUR expenseMetric-B BEHAVIOUR

  DEFINED ASThe  expense  metric  value  for  reaching  the  specified  prefix  over  this  Circuit.  If  this  attribute  is  changed  while

both the Reachable Address and the linkage are Enabled (i.e. state On), the actions described in clause 8.3.5.4must be taken. The value of zero is reserved to indicate that this metric is not supported;;   REGISTERED AS {ISIS.aoi expenseMetric (101)};    expenseMetricType ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.MetricType;

  MATCHES FOR EQUALITY;  BEHAVIOUR expenseMetricType-B BEHAVIOUR

  DEFINED AS Indicates whether the expense metric is internal or external;;  REGISTERED AS {ISIS.aoi expenseMetricType (105)};    mappingType ATTRIBUTE

  WITH ATTRIBUTE SYNTAX ISIS.MappingType;  MATCHES FOR EQUALITY;   BEHAVIOUR mappingType-B BEHAVIOUR  DEFINED AS

The  type  of  mapping  to  be  employed  to  ascertain  the  SNPA  Address  which  should  be  used  in  forwardingNPDUs for this Reachable Address Prefix. The following values of mappingType are defined: none: The map- ping is null because the neighbour SNPA is implicit by nature of the subnetwork (e.g. a point-to-point linkage).explicit: The set of subnetwork addresses in the sNPAAddresses attribute are to be used. extractIDI: The SNPA is embedded in the IDI of the destination NSAP address. The mapping algorithm extracts the SNPA to be usedaccording to the format and encoding rules of ISO8348/Add2. This SNPA extraction algorithm can be used in conjunction with Reachable Address Prefixes from the X.121, F.69, E.163, and E.164 addressing subdomains.extractDSP: All, or a suffix, of the SNPA is embedded in the DSP of the destination address. This SNPA extrac- tion  algorithm extracts  the embedded subnetwork addressing information by performing a logical AND of thesNPAMask attribute with the destinaition address. The part of the SNPA extracted from the destination NSAP is appended to the sNPAPrefix to form the next hop subnetwork addressing information.;;  REGISTERED AS {ISIS.aoi mappingType (107)};    reachableAddressId ATTRIBUTE

  WITH ATTRIBUTE SYNTAX ISIS.GraphicString;  MATCHES FOR EQUALITY, SUBSTRINGS;   BEHAVIOUR reachableAddressId-B BEHAVIOUR  DEFINED AS

A string which is the Identifier for the ReachableAddress and which is unique amongst the set of reachable ad-dresses maintained for this linkage. If this is a reachableAddress created by system management, it is set by the System Manager when the ReachableAddress is created, otherwise it is generated by the implementation suchthat it is unique. The set of identifiers containing the leading string "Auto" are reserved for reachable addresses imported from other routeing protocols. An attempt by system management to create a reachableAddress withsuch an identifier will cause a reserved name violation;;   REGISTERED AS {ISIS.aoi reachableAddressId (121)};    sNPAMask ATTRIBUTE  WITH ATTRIBUTE SYNTAX ISIS.NAddress;

  MATCHES FOR EQUALITY;  BEHAVIOUR sNPAMask-B BEHAVIOUR

  DEFINED ASA Bit mask with 1 bits indicating the positions in the effective destination address from which embedded SNPA

information is to be extracted. For the extraction the first octect of the sNPAMask is aligned with the first octet(AFI) of the NSAP Address. If the sNPAMask and NSAP Address are of different lengths, the shorter of the two is logically padded with zeros before performing the extraction;;  REGISTERED AS {ISIS.aoi sNPAMask (122)};    sNPAPrefix ATTRIBUTE

  WITH ATTRIBUTE SYNTAX ISIS.SNPAPrefix;

ISO/IEC 10589:1992 (E)

97   MATCHES FOR EQUALITY;  BEHAVIOUR sNPAPrefix-B BEHAVIOUR

  DEFINED ASA  fixed  SNPA  prefix  manually  configured  as  an  attribute  of  a  Reachable  Address  with  mappingType

extractDSP. The SNPA address to use is formed by concatenating the fixed sNPAPrefix with a variable SNPApart that is extracted from the effective destination address. For Reachable Address Prefixes in which then entire SNPA is embedded in the DSP the sNPAPrefix shall be null;;  REGISTERED AS {ISIS.aoi sNPAPrefix (123)};    sNPAAddresses ATTRIBUTE

  WITH ATTRIBUTE SYNTAX ISIS.SNPAAddresses;  MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION;   BEHAVIOUR sNPAAddresses-B BEHAVIOUR  DEFINED AS

A set of SNPA addresses to which pdu may be forwarded in order to reach an address which matches the addressprefix of the Reachable Address.;;   REGISTERED AS {ISIS.aoi sNPAAddresses (109)};

ISO/IEC 10589:1992 (E)

98

--11.3 ASN1 modules   ISIS{joint-iso-ccitt network-layer(13) management(0) iSIS(1) asn1Module(2) 0}  DEFINITIONS ::= BEGIN   --- object identifier definitions for identifier prefixes -  isisoi OBJECT IDENTIFIER ::= {NLM.nl iSIS(1)}   sseoi OBJECT IDENTIFIER ::= {isisoi standardSpecificExtensions(0)}  moi OBJECT IDENTIFIER ::= {isisoi managedObjectClass (3)}   poi OBJECT IDENTIFIER ::= {isisoi package (4)}  proi OBJECT IDENTIFIER ::= {isisoi parameter (5)}   nboi OBJECT IDENTIFIER ::= {isisoi nameBinding (6)}  aoi OBJECT IDENTIFIER ::= {isisoi attribute (7)}   agoi OBJECT IDENTIFIER ::= {isisoi attributeGroup (8)}  acoi OBJECT IDENTIFIER ::= {isisoi action (9)}   noi OBJECT IDENTIFIER ::= {isisoi notification (10)}  ---object identifiers for notification parameters -   se OBJECT IDENTIFIER ::= {sseoi specificProblems(3)}  areaMismatch OBJECT IDENTIFIER ::= {se areaMismatch(0)}   attemptToExceedMaximumSequenceNumber OBJECT IDENTIFIER ::=  {se attemptToExceedMaximumSequenceNumber(1)}   authenticationFailure OBJECT IDENTIFIER ::= {se authenticationFailure(2)}  corruptedLSPsDetected OBJECT IDENTIFIER ::= {se corruptedLSPsDetected(3)}   iDFieldLengthMismatch OBJECT IDENTIFIER ::= {se iDFieldLengthMismatch(4)}  lanL1DesignatedIntermediateSystemChange OBJECT IDENTIFIER ::=  

{se lanL1DesignatedIntermediateSystemChange(5)}  lSPL1DatabaseOverload OBJECT IDENTIFIER ::= {se lSPL1DatabaseOverload(6)}   lSPL2DatabaseOverload OBJECT IDENTIFIER ::= {se lSPL2DatabaseOverload(7)}  manualAddressDroppedFromArea OBJECT IDENTIFIER ::= {se manualAddressDroppedFromArea(8)}   maximumAreaAddressesMismatch OBJECT IDENTIFIER ::= {se maximumAreaAddressesMismatch(9)}  ownLSPPurge OBJECT IDENTIFIER ::= {se ownLSPPurge(10)}   partitionVirtualLinkChange OBJECT IDENTIFIER ::= {se partitionVirtualLinkChange(11)}  rejectedAdjacency OBJECT IDENTIFIER ::= {se rejectedAdjacency(12)}   sequenceNumberSkip OBJECT IDENTIFIER ::= {se sequenceNumberSkip(13)}  versionSkew OBJECT IDENTIFIER ::= {se versionSkew(14)}

--11.3.1 ASN.1 types and values   AddressPrefix ::= BITSTRING(SIZE(0..160)) -- Size shall be a multiple of four, since the protocol represents these assemi-octets   AdjacencyState ::= ENUMERATED{ initializing(0), up(1), failed(2), down(3)}  AdjacencyUsage::= ENUMERATED{ undefined(0), level1(1), level2(2), level1and2(3)}   AreaAddress ::= OCTETSTRING(SIZE(1..20))  AreaAddresses ::= SET OF AreaAddress   Boolean ::= BOOLEAN  CircuitID ::= OCTETSTRING(SIZE(2..9))   CircuitType ::= ENUMERATED{ broadcast(0), ptToPt(1), staticIn(2), staticOut(3), dA(4)}  DatabaseState ::= ENUMERATED{ off(0), on(1), waiting(2)}   DesignatedISChange ::= ENUMERATED{ resigned(0), elected(1)}  GraphicString ::= GRAPHICSTRING   HopMetric ::= INTEGER(0..maxLinkMetric)  IDLength ::= INTEGER(0..8)   IntermediateSystemPriority ::= INTEGER(1..127)  ISType ::= ENUMERATED{ level1IS(1), level2IS(2)}   LocalDistinguishedName ::= CMIP-1.BaseManagedObjectId  LSPID ::= OCTETSTRING(SIZE(2..11))   MappingType ::= ENUMERATED{ none(0), explicit(1), extractIDI(2) extractDSP(3)}  MaximumAreaAddresses ::= INTEGER(0..254)   MaximumPathSplits ::= INTEGER(1..32)  MaximumVirtualAdjacencies ::= INTEGER(0..32)   maxLinkMetric INTEGER ::= 63  maxPathMetric INTEGER ::= 1023   MetricType ::= ENUMERATED{ internal(0), external(1)}  NAddress ::= NLM.NAddress   NeighbourSystemType ::= ENUMERATED{ unknown(0), endSystem(1), intermediateSystem(2), l1IntermediateSystem(3), l2IntermediateSystem(4)}

ISO/IEC 10589:1992 (E)

99   Null ::= NULL  ObjectIdentifier ::= OBJECT IDENTIFIER   OctetString ::= OCTETSTRING  OriginatingLSPBufferSize ::= INTEGER(512..1492)   OutputAdjacencies ::= SET OF LocalDistinguishedName  OverloadStateChange ::= ENUMERATED{ on(0), waiting(1)}   Password ::= OCTETSTRING(SIZE(0..254)  Passwords ::= SET OF Password   PathMetric ::= INTEGER(0..maxPathMetric)  Reason ::= ENUMERATED{ holdingTimerExpired(0), checksumError(1), oneWayConnectivity(2), callRejected(3), 

reserveTimerExpired(4), circuitDisabled(5), versionSkew(6), areaMismatch(7), maximumBroadcastIntermediateSystemsExceeded(8), maximumBroadcastEndSystemsExceeded(9),  wrongSystemType(10)}  SNPAAddress ::= NLM.SNPAAddress   SNPAAddresses ::= SET OF SNPAAddress  SNPAPrefix ::= BITSTRING(SIZE(0..120))   sNPAPrefix-Default SNPAPrefix ::= ''B  sNPAMask-Default NAddress ::= ''B   SourceId ::= OCTETSTRING(SIZE(1..10))  SystemId ::= OCTETSTRING(SIZE(0..8))   SystemIds ::= SET OF SystemId  Version ::= GRAPHICSTRING   VirtualLinkChange ::= ENUMERATED{ deleted(0), created(1)}  zero INTEGER ::= 0

--11.3.2 Defaults and permitted values   callEstablishmentMetricIncrement-Default INTEGER ::= 0  completeSNPInterval-Default Timer ::= {0,10}   defaultMetric-Default INTEGER ::= 20  DefaultMetric-Permitted ::= INTEGER(1..maxLinkMetric)   dRISISHelloTimer-Default Timer ::= {0,1}  externalDomain-Default BOOLEAN ::= TRUE   iSISHelloTimer-Default Timer ::= {0,3}  l1IntermediateSystemPriority-Default INTEGER ::= 64   l2IntermediateSystemPriority-Default INTEGER ::= 64  manualAreaAddresses-Default AreaAddresses ::= {}   manualL2OnlyMode-Default BOOLEAN ::= FALSE  maximumAreaAddresses-Default INTEGER ::= 3   maximumPathSplits-Default INTEGER ::= 2  maximumLSPGenerationInterval-Default Timer ::= {2,9}   maximumVirtualAdjacencies-Default INTEGER ::= 2  metricType-Default MetricType ::= Internal   minimumBroadcastLSPTransmissionInterval-Default Timer ::= {-3,33}  minimumLSPGenerationInterval-Default Timer ::= {0,30}   minimumLSPTransmissionInterval-Default Timer ::= {0,5}  neighbourSNPAAddress-Default SNPAAddress ::= 0   optionalMetric-Default INTEGER ::= 0  originatingL1LSPBufferSize-Default INTEGER ::= receiveLSPBufferSize   originatingL2LSPBufferSize-Default INTEGER ::= receiveLSPBufferSize  partialSNPInterval-Default Timer ::= {0,2}   password-Default Password ::= {}  passwords-Default Passwords ::= {} -- The empty set   pollESHelloRate-Default Timer ::= {0,50}  reserveTimer-Default Timer ::= {2,6}   sNPAAddresses-Default SNPAAddresses::= {}  waitingTime-Default Timer ::= {0,60}    END 

ISO/IEC 10589:1992 (E)

100 12 Conformance 12.1 Static conformance requirements 12.1.1 Protocol implementation conformancestatement

A  Protocol  Implementation  Conformance  Statement  (PICS)shall be completed in respect of any claim for conformance of an  implementation  to  this  International  Standard:  the  PICSshall  be  produced  in  accordance  with  the  relevant  PICS  pro forma in Annex A. 

12.1.2 Static conformance requirements for allISs

A system claiming conformance to this International Standardshall be capable of:

a) calculating a single minimum cost route to each destina-tion according to 7.2.6 for the default metric specified in

7.2.2; b) utilising Link State information from a system only whenan LSP with LSP number 0 and remaining lifetime>0 is

present according to 7.2.5; c) selection of paths according to 7.2.7 and 7.2.12 d) performing the robustness checks according to 7.2.8; e) constructing a forwarding database according to 7.2.9; f) if (and only if) Area Partition Repair is supported, 

1) performing the operations according to 7.2.10; 2) performing  the  encapsulation  operations  in  the  for-warding process according to 7.4.3.2; and

3) performing  the  decapsulation  operations  in  the  re-ceive process according to 7.4.4.2; g) assigning  and  computing  area  addresses  according  to7.1.5 and 7.2.11; h) generating  local  link  state  information  as  required  by7.3.2; i) including information from Manual Adjacencies accord-ing to 7.3.3.1; j) if (and only if) reachable addresses are supported, includ-ing  information  from  reachable  addresses  according  to

7.3.3.2; k) generating multiple LSPs according to 7.3.4; l) generating LSPs periodically according to 7.3.5; m) generating LSPs on the occurrence of events according to7.3.6;

n) generating an LSP checksum according to 7.3.11;

o) operating the Update process according to 7.3.12-7.3.17including  controlling  the  rate  of  LSP  transmission  only

for each broadcast circuit (if any) according to 7.3.15.6; p) operating the LSP database overload procedures accord-ing to 7.3.19.1;

q) selecting  the  appropriate  forwarding  database  accordingto 7.4.2; r) forwarding  ISO  8473  PDUs  according  to  7.4.3.1  and7.4.3.3; s) operating the receive process according to 7.4.4.1; t) performing  on  each  supported  point-to-point  circuit  (ifany):

1) forming  and  maintaining  adjacencies  according  to8.2; u) performing on each supported ISO 8208 circuit (if any)

1) SVC establishment according to 8.3.2.1 using the net-work layer protocols according to 8.3.1;

2) If  reachable  addresses  are  supported,  the  operationsspecified in 8.3.2.2 - 8.3.5.6. 3) If  callEstablishmentMetricIncrement  greater  thanzero  are  supported,  the  operations  specified  in

8.3.5.3. 4) If the reverse path cache is supported, the operationsspecified in 8.3.3

v) performing on each supported broadcast circuit (if any)

1) the pseudonode operations according to 7.2.3; 2) controlling the rate of LSP transmission according to7.3.15.6;

3) the operations specified in 8.4.2-8.4.5 and 8.4.7; 4) the operations specified in 8.4.5.

w) constructing and correctly parsing all PDUs according toclause 9;

x) providing  a  system  environment  in  accordance  withclause 10; y) being managed via the system management attributes de-fined in clause 11. For all attributes referenced in the nor-

mative text, the default value (if any) shall be supported.Other  values  shall  be  supported  if  referenced  in  a  RE- QUIRED VALUES clause of the GDMO definition; z) If authentication procedures are implemented:

1) the  authentication  field  processing  functions  ofclauses  7.3.7-7.3.10,  7.3.15.1-7.3.15.4,  8.2.3-8.2.4,

and 8.4.2.1; 2) the Authentication Information field of the PDU inclauses 9.5-9.13.

ISO/IEC 10589:1992 (E)

101 12.1.3 Static conformance requirements forlevel 1 ISs A system claiming conformance to this International Standardas a level 1 IS shall conform to the requirements of 12.1.2 and in addition shall be capable of

a) identifying the nearest Level 2 IS according to 7.2.9.1; b) generating Level 1 LSPs according to 7.3.7; c) generating Level 1 pseudonode LSPs for each supportedbroadcast circuit (if any) according to 7.3.8;

d) performing the actions in Level 1 Waiting State accord-ing to 7.3.19.2 12.1.4 Static conformance requirements forlevel 2 ISs A system claiming conformance to this International Standardas a level 2 IS shall conform to the requirements of 12.1.2 and in addition shall be capable of

a) setting the attached flag according to 7.2.9.2; b) generating Level 2 LSPs according to 7.3.9; c) generating Level 2 pseudonode LSPs for each supportedbroadcast circuit (if any) according to 7.3.10;

d) performing the actions in Level 2 Waiting State accord-ing to 7.3.19.3.

12.2 Dynamic conformance 12.2.1 Receive process conformancerequirements

Any  protocol  function  supported  shall  be  implemented  in  ac-cordance with 7.4.4. 12.2.2 Update process conformancerequirements Any  protocol  function  supported  shall  be  implemented  in  ac-cordance with 7.3 and its subclauses. Any PDU transmitted shall be constructed in accordance withthe appropriate subclauses of clause9. 12.2.2.1 Decision process conformancerequirements Any  protocol  function  supported  shall  be  implemented  in  ac-cordance with 7.2 and its subclauses. 12.2.3 Forwarding process conformancerequirements Any  protocol  function  supported  shall  be  implemented  in  ac-cordance with 7.4 and its subclauses.

12.2.4 Performance requirements This  International  Standard  requires  that  the  following  per-formance criteria be met. These requirements apply regardless of other demands on the system; if an Intermediate system hasother tasks as well, those will only get resources not required to meet these criteria.  Each Intermediate system implementation shall specify (in itsPICS):

a) the  maximum  number  of  other  Intermediate  systems  itcan handle. (For L1 Intermediate systems that means In-

termediate systems in the area; for L2 Intermediate sys-tems that is the sum of Intermediate systems in the area and Intermediate systems in the L2 subdomain.) Call thislimit N.

b) the  maximum  supported  forwarding  rate  in  ISO  8473PDUs per second. 12.2.4.1 Performance requirements on the updateprocess The implementation shall guarantee the update process enoughresources  to  process  N  LSPs  per  30  seconds.  (Resources  = CPU, memory, buffers, etc.) In a stable topology the arrival of a single new LSP on a circuitshall result in the propagation of that new LSP over the other circuits  of  the  IS  within  one  second,  irrespective  of  the  for-warding load for ISO 8473 data PDUs.

12.2.4.2 Performance requirements on the decisionprocess The  implementation  shall  guarantee  the  decision  processenough resources to complete (i.e. start to finish) within 5 sec- onds,  in  a  stable  topology  while  forwarding  at  the  maximumrate. (For L2 Intermediate Systems, this applies to the two lev- els together, not each level separately.) 12.2.4.3 Reception and processing of PDUs An ideal Intermediate system would be able to correctly proc-ess  all  PDUs,  both  control  and  data,  with  which  it  was  pre- sented, while simultaneously running the decision process andresponding  to  management  requests.  However,  in  the  imple- mentations  of  real  Intermediate  systems  some  compromisesmust be made. The way in which these compromises are made can dramatically affect the correctness of operation of the In-termediate system. The following general principles apply.

a) A stable topology should result in stable routes when for-warding at the maximum rated forwarding rate.  b) Some forwarding progress should always be made (albeitover  incorrect  routes)  even  in  the  presence  of  a  maxi-

mally unstable topology. In  order  to  further  characterise  the  required  behaviour,  it  isnecessary to identify the following types of traffic. 

c) IIH traffic. This traffic is important for maintaining Inter-mediate  system  adjacencies  and  hence  the  Intermediate

system topology. In order to prevent gratuitous topology

ISO/IEC 10589:1992 (E)

102

changes it  is essential that  Intermediate system  adjacen-cies  are  not  caused  to  go  down  erroneously.  In  order  to achieve this no more than ISISHoldingMultiplier - 1 IIHPDUs may be dropped between any pair of Intermediate systems.  A  safer  requirement  is  that  no  IIH  PDUs  aredropped. 

The rate of arrival of IIH PDUs is approximately constantand  is  limited  on  point-to-point  links  to  1/iSISHello- Timer  and  on  LANs  to  a  value  of  approximately2(n/iSISHelloTimer) + 2, where n is the number of Inter- mediate  systems  on  the  LAN  (assuming  the  worst  casethat they are all Level 2 Intermediate systems). 

d) ESH PDU traffic. This traffic is important for maintain-ing End system adjacencies, and has relatively low proc-

essing latency. As with IIH PDUs, loss of End system ad-jacencies  will  cause  gratuitous  topology  changes  which will result in extra control traffic.

The rate of arrival of ESH PDUs on point-to-point linksis limited to approximately 1/DefaultESHelloTimer un- der  all  conditions.  On  LANs  the  background  rate  is  ap-proximately  n/DefaultESHelloTimer  where  n  is  the number of End systems on the LAN. The maximum rateduring  polling  is  limited  to  approximately  n/pollES- HelloRate  averaged  over  a  period  of  about  2  minutes.(Note that the actual peak arrival rate over a small inter- val may be much higher than this.) 

e) LSP (and SNP) traffic. This traffic will be retransmittedindefinitely  by  the  update  process  if  it  is  dropped,  so

there  is  no  requirement  to  be  able  to  process  every  re-ceived  PDU.  However,  if  a  substantial  proportion  are lost, the rate of convergence to correct routes will be af-fected,  and  bandwidth  and  processing  power  will  be wasted.

On point-to-point links the peak rate of arrival is limitedonly  by  the  speed  of  the  data  link  and  the  other  traffic flowing on that link. The maximum average rate is deter-mined by the topology.

On LANs the rate is limited at a first approximation to amaximum rate of 1 000/minimumBroadcastLSPTrans- missionInterval, however it is possible that this may bemultiplied by a factor of up to n, where n is the number of  Intermediate  systems  on  the  LAN,  for  short  periods.An Intermediate system shall be able to receive and proc- ess at least the former rate without loss, even if presentedwith LSPs at the higher rate. (i.e. it is permitted to drop LSPs,  but  must  process  at  least  1  000/minimumBroad-castLSPTransmissionInterval per second of those pre- sented.)

The maximum background rate of LSP traffic (for a sta-ble  topology)  is  dependent  on  the  maximum  supported configuration  size  and  the  settings  of  maximumLSP-GenerationInterval.  For  these  purposes  the  default value  of  900  seconds  can  be  assumed.  The  number  ofLSPs  per  second  is  then  very  approximately  (n

1  +  n2+n e/x)/900 where n1 is the number of level 1 Intermedi-ate  systems,  n

2  the  number  of  level  2  Intermediate  sys-

tems, ne the number of End system IDs and x the numberof ID which can be fitted into a single LSP. f) Data  Traffic.  This  is  theoretically  unlimited  and  can  ar-rive at the maximum data rate of the point-to-point link

or  LAN  (e.g.    14  000  PDUs  per  second  for  a  10  MbpsCSMA/CD LAN). In practice it will be limited by the op- eration  of  the  congestion  avoidance  and  control  algo-rithms, but owing to the relatively slow response time of these algorithms, substantial peaks are likely to occur. An Intermediate  system  shall  state in its PICS its maxi-mum forwarding rate. This shall be quoted under at least the following conditions. 1) A stable topology of maximum size.  2) A maximally unstable topology. This figure shall benon-zero, but may reasonably be as low as 1 PDU per

second. The following constraints must be met.

g) The  implementation  shall  be  capable  of  receiving  themaximum  rate  of  ISH  PDUs  without  loss  whenever  the

following conditions hold: 1) the data forwarding traffic rate averaged over any pe-riod of one second does not exceed the rate which the

implementation claims to support; and 2) the ESH and LSP rates do not exceed the background(stable topology) rate.

h) If  it  is  unavoidable  that  PDUs  are  dropped,  it  is  a  goalthat the order of retaining PDUs shall be as follows (i.e.

It is least desirable for IIH PDUs to be dropped). 1) IIH PDUs  2) ESH PDUs  3) LSPs and SNPs  4) data PDUs. However, no class of traffic shall be completely starved.One way to achieve this is to allocate a queue of suitable length  to  each  class  of  traffic  and  place  the  PDUs  ontothe appropriate queue as they arrive. If the queue is full the PDUs are discarded. Processor resources shall be al-located  to  the  queues  to  ensure  that  they  all  make  pro- gress  with  the  same  priorities  as  above.  This  model  as-sumes  that  an  implementation  is  capable  of  receiving PDUs and selecting their correct queue at the maximumpossible data rate (14 000 PDUs per second for a LAN). If  this  is  not  the  case,  reception  of  data  traffic  at  a  rategreater  than  some  limit (which  must  be  greater than  the maximum rated limit) will cause loss of some IIH PDUseven  in  a  stable  topology.  This  limit  shall  be  quoted  in the PICS if it exists. 

NOTE 63  This gives a value around 1 per second fortypical maximum configurations of:

4 000 IDs100 L1 Intermediate systems per area 400 L2 Intermediate systems.

ISO/IEC 10589:1992 (E)

103 NOTE 64  Starting  from  the  stable  topology  condition  atmaximum  data  forwarding  rate,  an  increase  in  the  arrival rate  of  data  PDUs  will  initially  only  cause  some  dataNPDUs to be lost. As the rate of arrival of data NPDUs is further  increased  a  point  may  be  reached  at  which  randomPDUs are dropped. This is the rate which must be quoted in the PICS.

12.2.4.4 Transmission Sufficient  processor  resources  shall  be  allocated  to  the  trans-mission  process  to  enable  it  to  keep  pace  with  reception  for each PDU type. Where prioritisation is required, the same or-der as for reception of PDU types applies.

ISO/IEC 10589:1992 (E)

105 Annex A PICS pro forma (Normative)  A.1 Introduction The supplier of a protocol implementation which is claimed toconform  to  International  Standard  ISO  10589,  whether  as  a level  1  or  level  2  Intermediate  system  implementation,  shallcomplete  the  applicable  Protocol  Implementation  Conform- ance Statement (PICS) pro forma.

A completed PICS pro forma is the PICS for the implementa-tion in question. The PICS is a statement of which capabilities and options of the protocol have been implemented. The PICScan have a number of uses, including use:

- by the protocol implementor, as a check-list to reduce therisk  of  failure  to  conform  to  the  International  Standard

through oversight;

- by the supplier and acquirer -- or potential acquirer -- ofthe implementation, as a detailed indication of the capa-

bilities of the implementation, stated relative to the com-mon  basis  for  understanding  provided  by  the  Interna- tional Standard PICS pro forma;

- by the user -- or potential user -- of the implementation,as  a  basis  for  initially  checking  the  possibility  of

interworking  with  another  implementation  (note  that,while  interworking  can  never  be  guaranteed,  failure  to interwork  can  often  be  predicted  from  incompatiblePICS's);

- by a protocol tester, as the basis for selecting appropriatetests  against  which  to  assess  the  claim  for  conformance

of the implementation.

A.2 Abbreviations and special symbols

A.2.1 Status-related symbols M mandatory O optional O.<n> optional, but support of at least one of the groupof  options  labelled  by  the  same  numeral  <n>  is

required. X prohibited - not applicable c.<p> conditional  requirement,  according  to  condition<p>

A.3 Instructions for completing the picspro formas

A.3.1 General structure of the PICS pro forma The first part of the PICS pro forma -- Implementation Identi-fication and Protocol Summary -- is to be completed as indi- cated with the information necessary to identify fully both thesupplier and the implementation.

The  main  part  of  the  PICS  pro  forma  is  a  fixed-format  ques-tionnaire  divided  into  subclauses  each  containing  a  group  of individual items. Answers to the questionnaire items are to beprovided in the rightmost column, either by simply marking an answer to indicate a restricted choice (usually Yes or No), orby entering a value or a set or range of values. (Note that there are some items where two or more choices from a set of possi-ble answers can apply: all relevant choices are to be marked.)

Each item is identified by an item reference in the first column;the  second  column  contains  the  question  to  be  answered;  the third column contains the reference or references to the mate-rial that specifies the item in the main body of the International Standard. The remaining columns record the status of the item--  whether  support  is  mandatory,  optional  or  conditional  -- and provide the space for the answers: see A.3.4 below.

A  supplier  may  also  provide  --  or  be  required  to  provide  --further  information, categorised  as  either  Additional  Informa- tion or Exception Information. When present, each kind of fur-ther  information  is  to  be  provided  in  a  further  subclause  of items labelled A<i> or X<i> respectively for cross-referencingpurposes, where <i> is any unambiguous identification for the item (e.g. simply a number): there are no other restrictions onits format and presentation.

A completed PICS pro forma, including any Additional Infor-mation and Exception Information, is the Protocol Implemen- tation Conformance Statement for the implementation in ques-tion.

NOTE 65  Where  an  implementation  is  capable  of  beingconfigured in more than one way, a single PICS may be able to  describe  all  such  configurations.  However,  the  supplierhas the choice of providing more than one PICS, each cover- ing some subset of the implementation's configuration capa-bilities, in case this makes for easier and clearer presentation of the information.

A.3.2 Additional information Items  of  Additional  Information  allow  a  supplier  to  providefurther  information  intended to assist the interpretation of the PICS. It is not intended or expected that a large quantity willbe  supplied,  and  a  PICS  can  be  considered  complete  without any  such  information.  Examples  might  be  an  outline  of  theways in which a (single) implementation can be set up to oper- ate in a variety of environments and configurations.

ISO/IEC 10589:1992 (E)

106 References to items of Additional information may be enterednext to any answer in the questionnaire, and may be included in items of Exception Information.

A.3.3 Exception information It may occasionally happen that a supplier will wish to answeran item with mandatory or prohibited status (after any condi- tions have been applied) in a way that conflicts with the indi-cated requirement. No pre-printed answer will be found in the Support column for this, but the Supplier may write the desiredanswer into the Support column. If this is done, the supplier is required to provide an item of Exception Information contain-ing the appropriate rationale, and a cross-reference from the in- serted answer to the Exception item. An implementation for which an Exception item is required inthis way does not conform to ISO 10589.

NOTE 66  A  possible  reason  for  the  situation  describedabove  is  that  a  defect  report  is  being  progressed,  which  is expected  to  change  the  requirement  that  is  not  met  by  theimplementation.

A.3.4 Conditional status A.3.4.1 Conditional items The  PICS  pro  forma  contains  a  number  of  conditional  items.These are items for which the status -- mandatory, optional or prohibited  --  that  applies  is  dependent  upon  whether  or  notcertain other items are supported, or upon the values supported for other items. In many cases, whether or not the item appliesat all is conditional in this way, as well as the status when the item does apply. Individual  conditional  items  are  indicated  by  a  conditionalsymbol  in  the  Status  column  as  described  in  A.3.4.2  below. Where a group of items are subject to the same condition forapplicability, a separate preliminary question about the condi- tion  appears  at  the  head  of  the  group,  with  an  instruction  toskip  to a later point in  the questionnaire if the  "Not  Applica- ble" answer is selected. A.3.4.2 Conditional symbols and conditions A  conditional  symbol  is  of  the  form  c.<n>  or  c.G<n>  where<n>  is  a  numeral.  For the first  form, the numeral identifies  a condition  appearing  in  a  list  at  the  end  of  the  subclause  con-taining  the  item.  For  the  second  form,  c.G<n>,  the  numeral identifies a condition appearing in the list of global conditionsat the end of the PICS.

A simple condition is of the form:

where  <p>  is  a  predicate  (see  A.3.4.3  below),  and  <s1>  and<s2>  are  either  basic  status  symbols  (M,O,O.<n>,  or  X)  or the symbol "-". An extended condition is of the form

if <p> then <s1> else <s2>

if <p1> then <s1> else <s2>else if <p2> then <s2> [else if <p3> ...]else <s

n>

where  <p1>  etc.  are  predicates  and  <s1>  etc.  are  basic  statussymbols or "-". The status symbol applicable to an item governed by a simplecondition is <s1> if the predicate of the condition is true, and <s2> otherwise;  the  status symbol  applicable  to  an  item  gov-erned by an extended condition is <s

i> where <pi> is the firsttrue predicate, if any, in the sequence <p1>, <p2>..., and <sn> if no predicate is true.

A.3.4.3 Predicates A simple predicate in a condition is either

a) a single item reference; or b) a  relation  containing  a  comparison  operator  (=,  <,  etc.)with one (or both) of its operands being an item reference

for an item taking numerical values as its answer. In case (a) the predicate is true if the item referred to is markedas supported, and false otherwise. In case (b), the predicate is true if the relation holds when each item reference is replacedby  the  value  entered  in  the  Support  column  as  answer  to  the item referred to. Compound predicates are Boolean expressions constructed bycombining  simple  predicates  using  the  Boolean  operators AND,  OR  and  NOT,  and  parentheses,  in  the  usual  way.  Acompound predicate is true if and only if the Boolean expres- sion  evaluates  to  true  when  the  simple  predicates  are  inter-preted as described above.

Items whose references are used in predicates are indicated byan asterisk in the Item column. A.3.4.4 Answering conditional items To answer a conditional item, the predicate(s) of the conditionis (are) evaluated as described in A.3.4.3 above, and the appli- cable  status  symbol  is  determined  as  described  in  A.3.4.2.  Ifthe  status  symbol  is  "-"  this  indicates  that  the  item  is  to  be marked  in  this  case;  otherwise,  the  Support  column  is  to  becompleted in the usual way.

When two or more basic status symbols appear in a conditionfor an item, the Support column for the item contains one line for each such symbol, labelled by the relevant symbol. The an-swer  for  the  item  is  to  be  marked  in  the  line  labelled  by  the symbol  selected  according  to  the  value  of  the  condition(unselected lines may be crossed out for added clarity).

For  example,  in  the  item  illustrated  below,  the  N/A  columnwould be marked if neither predicate were true; the answer line

ISO/IEC 10589:1992 (E)

107 labelled "M:" would be marked if item A4 was marked as supported, and the answer line labelled "O:" would be marked if thecondition including items D1 and B52 applied.

Item References Status N/A Support

H3 Is ... supported? 42.3(d) C.1 z M: Yes zO: Yes 

z No z

C.1 if A4 then Melse if D1 AND (B52 < 3) then O else -

ISO/IEC 10589:1992 (E)

108

A.4 Identification A.4.1 Implementation identification

A.4.2 Protocol summary: ISO 10589

Supplier Contact point for queriesabout this PICS

Implementation Name(s)and Version(s)

Operating systemName(s and Version(s) Other Hardware and Operating Systems

Claimed System Name(s)(if different)

Notes:

a) Only the first three items are required for all implementations; others may be com-pleted as appropriate in meeting the requirements for full identification.

b) The terms Name and Version should be interpreted appropriately to correspond witha supplier's terminology (using, e.g., Type, Series, Model)

Protocol Version Addenda Implemented

(if applicable)

Amendments

Implemented

Have any Exception items been required (see A.3.3)? No z Yes z(The answer Yes means that the implementation does not conform to ISO 10589)

Date of Statement

ISO/IEC 10589:1992 (E)

109 A.5 Protocol summary: ISO 10589 general A.5.1 System environment: general

Item Functionality/Description References Status Support AllIS Are all basic IS-IS routeing functions imple-

mented?

12.1.2 M Yes z

System Managment

Is the system capable of being managed by the specified management information?

11 M Yes z

Authentication Is PDU authentication based on passwords im-

plemented?

7.3.7-7.3.10, 7.3.15.1-7.3.15.4, 8.2.3-8.2.4, 8.4.1.1

O Yes z No z

Default Metric Is the default metric supported? 7.2.2, 7.2.6 M Yes z Delay Metric Is the delay metric supported? 7.2.2, 7.2.6 O Yes z No z Expense Metric Is the expense metric supported? 7.2.2, 7.2.6 O Yes z No z Error Metric Is the error metric supported? 7.2.2, 7.2.6 O Yes z No z ID Field Length What values of RouteingDomainIDLength

(from the set 1-8) are supported by this imple- mentation?

Is the value configurable by system manage- ment?

7.1.3 M values =

Yes z No z Forwarding Rate How many ISO 8473 PDUs can the implemen-

tation forward per second?

12.2.5.1.b M PDUs/sec = 

Performance Are the implementation performance criteriamet? 12.2.5 M Yes z

Item Functionality/Description References Status Support ISO9542 Are the appropriate ISO 9542 operations im-

plemented

10.3, 8.2.1-8.2.2, 8.3.4, 8.4.5, 8.4.6

M Yes z

Timer Jitter Is jitter introduced in all periodic timers whose

expiration causes transmission of a PDU?

10.1 M Yes z

ISO/IEC 10589:1992 (E)

110

A.5.2 Subnetwork dependent functions: general C.1 if 8208 Static or 8208 DA then M else - C.2 if PtPt or 8208 Static then M else -

Item Functionality/Description References Status Support *LAN Are the subnetwork dependent functions for broadcast

subnetworks implemented?

8.4 O.1 Yes z No

z

LAN IS Adjacencies

Are the LAN IS adjacency establishment operations im- plemented?

8.4.1-8.4.3 LAN: M N/A z Yes z

LAN ES Adjacencies

Are the LAN ES adjacency establishment operations im- plemented?

8.4.6 LAN: M N/A z Yes z

LAN DIS Are the LAN designated IS operations implemented? 8.4.4, 8.4.5 LAN: M N/A z Yes z *8208 Static Are the subnetwork dependent functions for ISO 8208

subnetworks implemented?

8.3 O.1 Yes z No

z

8208 SNDCF Are the ISO8208 Subnetwork Dependent Convergence

Functions implemented?

8.3.1, 8.3.2.1 C.1: M N/A z Yes z

*PtPt Are the subnetwork dependent functions for point-to-

point subnetworks implemented?

8.2 O.1 Yes z No

z

PtPt IS Adjacencies

Are the point-to-point IS adjacency establishment opera- tions implemented?

8.2.2-8.2.5 C.2: M N/A z  Yes z

PtPt ES Adjacencies

Are the point-to-point ES adjacency establishment op- erations implemented?

8.2.1 C.2: M N/A z  Yes z

PtPt IIH PDU Are point-to-point IIH PDUs correctly constructed and

parsed?

9.7 C.2: M N/A z  Yes z

ISO/IEC 10589:1992 (E)

111 A.5.3 Update process: general

Item Functionality/Description References Status Support LSP Periodic Generation

Is periodic generation of new local LSPs im- plemented?

7.3.2, 7.3.5, 7.3.13 M Yes z

LSP Event Driven Generation

Is event driven generation of new local LSPs implemented?

7.3.6 M Yes z

Pseudonode LSP Generation

Is generation of pseudonode LSPs imple- mented?

7.3.8, 7.3.10 LAN: M N/A z Yes z

Multiple LSP Generation

IS multiple LSP generation implemented? 7.3.4 M Yes z

LSP Propagation Is propagation of LSPs implemented? 7.3.12, 7.3.14,

7.3.15.1, 7.3.15.5

M Yes z

LSP Lifetime Control

Are the LSP lifetime control operations imple- mented?

7.3.16.4, 7.3.16.3 M Yes z 

CSNP Generation Is the generation of CSNPs implemented? 7.3.15.3, 7.3.17 M Yes z PSNP Generation Is the generation of PSNPs implemented? 7.3.15.4, 7.3.17 M Yes z SNP Processing Are the sequence number PDU processing

procedures implemented?

7.3.15.2, 7.3.17 M Yes z

LSDB Overload Are the LSP database overload operations im-

plemented?

7.3.19 M Yes z

ISO/IEC 10589:1992 (E)

112

A.5.4 Decision process: general A.5.5 Forward/receive process: general

Item Functionality/Description References Status Support Minimum Cost Path Is computation of a single minimum cost path

based upon each supported metric implemented?

7.2.6 M Yes z

Equal Cost Paths Is computation of equal minimum cost paths

based upon each supported metric implemented?

7.2.6 O  Yes z No z

Down Stream Paths Is computation of downstream routes based upon

each supported metric implemented?

7.2.6 O  Yes z No z

Multiple LSPs Rec- ognition

Are multiple LSPs used only when a LSP with LSP#0 and remaining lifetime greater than 0 is present?

7.2.5 M Yes z

Overloaded IS Ex- clusion

Are links to ISs with overloaded LSDBs ignored? 7.2.8.1 M Yes z 

Two Way Connectivity

Are links not reported by both end ISs ignored? 7.2.8.2 M Yes z

Path Preference Is the order of preference for path selection im-

plemented?

7.2.12 M Yes z

Excess Path Removal

Is removal of excess paths implemented? 7.2.7 M Yes z

FIB Construction Is the construction of ISO8473 Forwarding Infor-

mation Bases implemented?

7.2.9 M Yes z

Item Functionality/Description References Status Support FIB Selection Is selection of appropriate Forwarding Infor-

mation Base implemented?

7.4.2 M Yes z

NPDU Forwarding

Is forwarding of ISO8473 PDUs implemented? 7.4.3.1, 7.4.3.3 M Yes z

Receive Process Are the basic receive process functions imple-

mented?

7.4.4 M Yes z

ISO/IEC 10589:1992 (E)

113 A.6 Protocol summary: ISO 10589 level 1 specific functions A.6.1 Level 1 subnetwork dependent functions C.3 if L1IS and LAN then M else - A.6.2 Level 1 update process

A.6.3 Level 1 decision process

Item Functionality/Description References Status Support *L1IS Are Level 1 IS-IS routeing functions imple-

mented?

12.1.3 M Yes z

Maximum Area Addresses

What values of maximumAreaAddresses are supported by this implementation

7.1.5, 7.2.11 L1IS:M values =

Area IS Count How many ISs can this system support in a sin-gle area? 12.2.5 L1IS: M N =  L1 Manual ESAdjacency Are the manual ES adjacencies implemented? 7.3.3.1 L1IS: M  Yes z

Item Functionality/Description References Status Support L1 LAN IIH PDU Are L1 LAN IIH PDUs correctly constructed and

parsed?

9.5 C.3: M N/A z Yes z 

Item Functionality/Description References Status Support L1 LS PDU Are L1 LS PDUs correctly constructed and

parsed?

9.8 L1IS: M Yes z

L1 CSN PDU Are L1 CSN PDUs correctly constructed and

parsed?

9.10 L1IS: M Yes z

L1 PSN PDU Are L1 PSN PDUs correctly constructed and

parsed?

9.12 L1IS: M Yes z

Item Functionality/Description References Status Support L1 Nearest L2 IS Identification

Is the identification of the nearest L2 IS im- plemented?

7.2.9.1 L1IS: M  Yes z

L1 Area Addresses Com- putation

Is the computation of area addresses imple- mented?

7.2.11 L1IS: M  Yes z

ISO/IEC 10589:1992 (E) 114

A.7 Protocol summary: ISO 10589 level 2 specific functions A.7.1 Level 2 subnetwork dependent functions C.4 if L2IS and LAN then M else - A.7.2 Level 2 update process

Item Functionality/Description References Status Support *L2IS  Are Level 2 IS-IS routeing functions imple-

mented?

12.1.4 O Yes z No z

IS Count What is the total number of ISs that this L2 IS

can support?

12.2.5 L2IS: M  N/A z N = 

L2IS Count How many level 2 ISs does this implementa-

tion support?

12.2.5.1 L2IS: M  N/A z N = 

*RA Prefix Are Reachable Address Prefixes supported on

circuits?

8.1, 7.3.3.2 L2IS: O N/A z  Yes z No z

External Metrics Are external metrics supported? 7.2.2, 7.2.12,

7.3.3.2

RA Pre-

fix: M N/A 

z  Yes z

*Partition Is level 1 partition repair implemented? 7.2.10  L2IS: O N/A z  Yes z No z

Item Functionality/Description References Status Support L2 LAN IIH PDU

Are L2 LAN IIH PDUs correctly constructed and parsed?

9.6 C.4: M N/A z Yes z 

*8208 DA Are ISO8208 Dynamic Assignment circuits

implemented?

8.3 O.1 Yes z No z

RA Adjacency Management

Are the reachable address adjacency manage- ment operations implemented?

8.3.2.2-8.3.5.6 8208 DA:

M N/A 

z Yes z 

Call Establishment Metric Increment

Are non-zero values of the callEstablishment- MetricIncrement supported?

8.3.5 8208 DA:

O N/A 

z  Yes z No z

Reverse Path Cache

Is 8208 reverse path cache implemented? 8.3.3  8208 DA:

O N/A 

z  Yes z No z

Item Functionality/Description References Status Support L2 LS PDU Are L2 LS PDUs correctly constructed and

parsed?

9.9 L2: M N/A z Yes z

L2 CSN PDU Are L2 CSN PDUs correctly constructed and

parsed?

9.11 L2: M N/A z Yes z

L2 PSN PDU Are L2 PSN PDUs correctly constructed and

parsed?

9.13 L2: M N/A z Yes z

ISO/IEC 10589:1992 (E)

115 A.7.3 Level 2 decision process A.7.4 Level 2 forward/receive process

Item Functionality/Description References Status Support L2 Attached Flag Is the setting of the attached flag imple-

mented?

7.2.9.2 L2IS: M N/A z  Yes z

L2 Partition DIS election

Is the election of partition L2 DIS imple- mented?

7.2.10.2 Partition:

M N/A 

z  Yes z 

L2 Partition Area Addresses Com- putation

Is the computation of L1 partition area ad- dresses implemented?

7.2.10.3  Partition:

M N/A 

z  Yes z

L2 DIS Partition Repair

Is partition detection and repair via virtual L1 links implemented?

7.2.10.1 Partition:

M N/A 

z  Yes z

Item Functionality/Description References Status Support L2 NPDU Encapsulation

Is the encapsulation of NPDUs implemented? 7.2.10.4, 7.4.3.2  Partition:

M N/A 

z  Yes z

L2 NPDU Decapsulation

Is the decapsulation of NPDUs implemented? 7.4.4 Partition:

M N/A 

z   Yes z

ISO/IEC 10589:1992 (E)

117 Annex B Supporting technical material (Informative)  B.1 Addressing and routeing In order to ensure the unambiguous identification of Networkand Transport entities across the entire OSIE, some form of ad- dress administration is mandatory. ISO 8348/Add.2 specifies ahierarchical structure for network addresses, with a number of top-level domains responsible for administering addresses on aworld-wide basis. These address registration authorities in turn delegate to sub-authorities the task of administering portions ofthe  address  space.  There  is  a  natural  tendency  to  repeat  this sub-division to a relatively fine level of granularity in order toease the task of each sub-authority, and to assign responsibility for addresses to the most "localised" administrative body feasi-ble. This results in (at least in theory) reduced costs of address administration and reduced danger of massive address duplica-tion through administrative error. Furthermore, political factors come into play which require the creation of sub-authorities inorder to give competing interests the impression of "hierarchi- cal parity". For example at the top level of the ISO geographicaddress space, every country is assigned an equally-sized por- tion of the address space even though some countries are smalland  might  in  practice  never  want  to  undertake  administration of their own addresses. Other examples abound at lower levelsof the hierarchy, where divisions of a corporation each wish to operate  as  an  independent  address  assignment  authority  eventhough  this  is  inefficient  operationally  and  may  waste  monu- mental amounts of potential address space. If  network  topologies  and  traffic  matrices  aligned  naturallywith  the  hierarchical  organisation  of  address  administration authorities,  this  profligate  use  of  hierarchy  would  pose  littleproblem,  given  the  large  size  (20  octets)  of  the  N-address space. Unfortunately, this is not usually the case, especially athigher  levels  of  the  hierarchy.  Network  topologies  may  cross address administration boundaries in many cases, for example:

- Multi-national  Corporations  with  a  backbone  networkthat spans several countries

- Community-of-interest networks, such as academic or re-search  networks,  which  span  organisations  and  geogra-

phies - Military networks, which follow treaty alignments ratherthan geographic or national administrations

- Corporate  networks  where  divisions  at  times  operate  aspart of a contractor's network, such as with trade consor-

tia or government procurements. These  kinds  of  networks  also  exhibit  rich  internal  topologiesand  large  scale  (105  systems),  which  require  sophisticated routeing technology such as that provided by this InternationalStandard. In order to deploy such networks effectively, a con- siderable amount of address space must be left over for assign-

ment in a way which produces efficient routes without undueconsumption  of  memory  and  bandwidth  for  routeing  over- head1). Similarly  important  is  the  inter-connection  of  these  networksvia Inter-domain routeing technology. If all of the assignment flexibility of the addressing scheme is exhausted in purely ad-ministrative  hierarchy  (at  the  high-order  end  of  the  address) and in Intra-Domain routeing assignment (at the low end of theaddress) there may be little or no address space left to custom- ise  to  the  needs  of  inter-domain  routeing.  The  considerationsfor  how  addresses  may  be  structured  for  the  Intra-  and  Inter- domain cases are discussed in more detail in the following twoclauses.

B.1.1 Address structure for intra-domainrouteing The  IS-IS  Intra-domain  routeing  protocol  uses  a  "preferred"addressing scheme. There are a number of reasons the design- ers of this protocol chose to specify a single address structure,rather than leaving the matter entirely open to the address as- signment authorities and the routeing domain administrators:

a) If one address structure is very common and known a pri-ori, the forwarding functions can be made much faster;

b) If part of the address is known to be assigned locally toan end system, then the routeing can be simpler, use less

memory, and be potentially faster, by not having to dis-criminate based on that portion of the address.

c) If  part  of  the  address  can  be  designated  as  globallyunique  by  itself  (as  opposed  to  only  the  entire  address

having this property) a number of benefits accrue: 1) Errors in address administration causing duplicate ad-dresses become much less likely

2) Automatic  and  dynamic  NSAP  address  assignmentbecomes  feasible  without  global  knowledge  or  syn-

chronisation 3) Routeing on this part of the address can be made sim-ple and fast, since no address collisions will occur in

the forwarding database. d) If  a  part  of  the  address  can  be  reserved  for  assignmentpurely on the basis of topological efficiency (as opposed

to  political  or  address  administration  ease),  hierarchicalrouteing becomes much more memory and bandwidth ef- ficient, since the addresses and the topology are in closecorrespondence.

e) If an upper bound can be placed on the amount of addressspace  consumed  by  the  Intra-domain  routeing  scheme,

1) In other words,  hierarchical routeing, with its natural effect on address assignment, is a mandatory requirement for such networks.

ISO/IEC 10589:1992 (E)

118

then  the  use  of  address  space  by  Inter-domain  routeingcan be made correspondingly more flexible. The preferred address format of the Intra-domain IS-IS proto-col achieves these goals by being structured into fields as fol- lows shown in figure B.1 below: The field marked AFI and IDI in the figure are precisely theIDP  specified  in  ISO  8348/Add.2.  The  field  marked  DSP  is treated as logically containing two parts. The high-order part isthat portion of the DSP from ISO 8348/Add.2 whose structure, assignment,  and  meaning  are  not  specified  or  constrained  bythe Intra-domain IS-IS routeing protocol. However, the design presumes  that  the  routeing  domain  administrator  has  at  leastsome  flexibility  in  assigning  a  portion  of  the  DSP  field.  The purpose and usage of the fields specified by the Intra-domainIS-IS  routeing  protocol  is  explained  in  the  following  para- graphs. B.1.1.1 Area address Since the Intra-domain IS-IS protocol is customised for opera-tion with ISO 8473, all addresses are specified to use the pre- ferred binary encoding of ISO 8348/Add.2. B.1.1.2 The Selector (SEL) Field The SEL field is intended for two purposes. Its main use is toallow for multiple higher-layer entities in End systems (such as multiple  transport  entities)  for  those  systems  which  need  thiscapability. This allows up to 256 NSAPs in a single End sys- tem. The advantage of reserving this field exclusively for localsystem  administration  the  Intra-domain  routeing  functions need not store routeing information about, nor even look at thisfield.  If  each  individual  NSAP  were  represented  explicitly  in routeing  tables,  the  size  of  these  tables  would  grow  with  thenumber  of  NSAPs,  rather  than  with  the  number  of  End  sys- tems.  Since  Intra-domain  routeing  routes  to  systems,  explicitrecording  of each  NSAP brings no  efficiency benefit  and po- tentially consumes large amounts of memory in the Intermedi-ate systems.

A  second  use  for  the  SEL  field  is  in  Intermediate  systems.Certain IS-IS functions require that PDUs be encapsulated and sent  to  the  Network  Entity  in  an  Intermediate  system  ratherthan to an NSAP and upward to a Transport entity. An exam- ple of this is the Partition Repair function of this InternationalStandard. In order  to use  a  level 2  path  as  if  it  were  a  single subnetwork  in a level 1 area,  PDUs are  encapsulated  and  ad-

dressed to an IS on the other side of the partition1).  By reserv-ing certain values of the SEL field in Intermediate systems for direct addressing of Intermediate system Network entities, thenormal addressing and relaying functions of other Intermediate systems can be transparently used for such purposes. B.1.1.3 The identifier (id) field The  ID  field  is  a  "flat",  large  identifier  space  for  identifyingOSI  systems.  The  purpose  of  this  field  is  to  allow  very  fast, simple  routeing  to  a  large  (but  not  unconstrained)  number  ofEnd  systems  in  a  routeing  domain.  The  Intra-Domain  IS-IS protocol uses this field for routeing within a area. While thisfield is only required to be unambiguous within a single area, if the values are chosen to be globally unambiguous the Intra-domain  IS-IS  design  can  exploit  this  fact  in  the  following ways. First,  a  certain  amount  of  parallelism  can  be  obtained  duringrelaying. An IS can be simultaneously processing the ID field along with other fields. If the ID is found in the forwarding ta-ble, the IS can initiate forwarding while checking to make sure that the other fields have the expected value. Conversely, if theID  is  not  found  the  IS  can  assume  that  either  the  addressed NSAP  is  unreachable  or  exists  only  in  some  other  area  orrouteing  domain.  In  the  case  where  the  ID  is  not  globally unique, the forwarding table can indicate this fact and relayingdelayed  until  the  entire  address  is  analysed  and  the  route looked up. Second, a considerable savings can be obtained in manual ad-dress administration for all systems in the routeing domain. If the ID is chosen from the ISO 8802 48-bit address space (rep-resented  as  a  sequence  of  6  octets  as  specified  in  ISO/IEC 10039),  the ID  is known  to be  globally  unique.  Furthermore,since  LAN systems  conforming  to  ISO  8802 often  have  their 48-bit MAC  address stored in ROM locally,  each system canbe  guaranteed  to  have  a  globally  unambiguous  NET  and NSAP(s) without centralised address administration at the arealevel.2)  This  not  only  eliminates  administrative  overhead,  but also drastically reduces the possibility of duplicate NSAP ad-dresses, which are illegal, difficult to  diagnose, and often ex- tremely difficult to isolate. An  alternative  to  a  large,  flat  space  for  the  lowest  level  ofrouteing  would  be  to  hierarchically  subdivide  this  field  to  al- low  more  levels  of  routeing  within  a  single  routeing  domain.The  designers  of  the  Intra-domain  IS-IS  protocol  considered that this would lead to an inferior routeing architecture, since:

1) This is a gross oversimplification for the purpose of illustrating the need for the SEL field. See 7.2.10. 2) Note, however, that the use of the ISO 8802 addresses does not avoid the necessity to run ISO 9542 or to maintain tables mapping NSAP addresses toMAC (i.e. SNPA) addresses on the ISO 8802 subnetwork. This is because there is no guarantee that a particular MAC address is always enabled (the LAN

controller may be turned off) or that a system has only a single MAC address.

Used by level 1 routeingUsed by level 2 routeing Figure B.1 - Preferred address format

DSPAFI IDI Area Address (variable length)

ID (1<=ID<=8 octets) SEL(1 octet)

ISO/IEC 10589:1992 (E)

119 a) The  cost  of  memory  in  the  ISs  was  sufficiently  reason-able that large (e.g. 104 systems) areas were quite feasi-

ble, thus requiring at least 2 octets per level to address b) Two  levels  of  routeing  within  a  routeing  domain  weresufficient  (allowing  domains  of  106-107  systems)  be-

cause  it  was  unlikely  that  a  single  organisation  wouldwish  to  operate  and  manage  a  routeing  domain  much larger than that. c) Administrative  boundaries  often  become  the  dominantconcern once routeing domains reach a certain size.

d) The additional burdens and potential for error in manualaddress assignment were deemed serious enough to per-

mit the use of a large, flat space. 

B.2 Use of the area address field inintra-domain routeing

Use  of  a  portion  of  the  DSP  field  provides  for  hierarchicalrouteing within a routeing domain. A value is assigned to a set of ISs in order to group the ISs into a single area for the usualbenefits of hierarchical routeing:

a) Limiting the size of routeing tables in the ISs; b) conserving  bandwidth  by  hierarchical  summarisation  ofrouteing information;

c) designating  portions  of  the  network  which  are  to  haveoptimal routeing within themselves; and d) moderate firewalling of portions of the routeing domainfrom failures in other portions. It is important to note that the assignment of high-order DSPvalues is intended to provide the routeing domain administra- tor  with  a  mechanism  to  optimise  the  routeing  within  a  largerouteing domain. The Intra-domain IS-IS designers did not in- tend the DSP to be entirely consumed by many levels of ad-dress registration authority. Reserving the assignment of a por- tion of the DSP field to the routeing domain administrator alsoallows  the  administrator  to  start  with  a  single  assigned  Area Address and run the routeing domain as a single area. As therouteing domain grows, the routeing domain administrator can then add areas without the need to go back to the address ad-ministration  authority  for  further  assignments.  Areas  can  be added and re-assigned within the routeing domain without in-volving the external address administration authority.

A  useful  field  to  reserve  as  part  of  the  DSP  would  be  2  oc-tets,permitting up to 65 536 areas in a routeing domain. This is viewed as a reasonable compromise between routeing domainsize and address space  consumption. The field  may be speci- fied as flat for the same reasons that the ID field may be flat.

B.2.1 Addressing considerations forinter-domain routeing It is in the Inter-domain arena where the goals of routeing effi-ciency and administrative independence collide most strongly. Although the OSI Routeing Framework explicitly gives prior-ity in Inter-domain routeing to considerations of autonomy and firewalls  over  efficiency,  it  must  be  feasible  to  construct  anInter-Domain  topology  that  both  produces  isolable  domains and relays data at acceptable cost. Since no routeing informa-tion is exchanged across domain boundaries with static route- ing, the practicality of a given Inter-domain topology is essen-tially determined by the size of the routeing tables that are pre- sent at the boundary ISs. If these tables become too large, thememory needed to store them, the processing needed to search them,  and  the  bandwidth  needed  to  transmit  them  within  therouteing domain all combine to disallow certain forms of inter- connection. Inter-domain  routeing  primarily  computes  routes  to  otherrouteing domains1). If there is no correspondence between the address registration hierarchy and the organisation of routeingdomains (and their interconnection) then the task of static table maintenance  quickly  becomes  a  nightmare,  since  each  andevery  routeing  domain  in  the  OSIE  would  need  a  table  entry potentially  at  every  boundary  IS  of  every  other  routeing  do-main.  Luckily,  there  is  some  reason  to  believe  that  a  natural correspondence exists, since at least at the global level the ad-dress registration authorities fall within certain topological re- gions.  For  example,  most  of  the  routeing  domains  which  ob-tained  their  Area  Addresses  from  a  hierarchy  of  French authorities are likely to reside in France and be more stronglyconnected  with  other  routeing  domains  in  France  that  with routeing domains in other countries. There  are  enough  exceptions  to  this  rule,  however,  to  be  acause  for  concern.  The  scenarios  cited  in  B.1  all  exist  today and may be expected to remain common for the foreseeable fu-ture. Consider as a practical case the High Energy Physics Net- work (HEPnet), which contains some 17 000 End systems, andan  unknown  number  of  intermediate  systems2).  This  network operates  as  a  single  routeing  domain  in  order  to  provide  aknown set of services to a known community of users, and is funded and cost-justified on this basis. This network is interna-tional in scope (at least 10 countries in North America, Europe, and the Far East) and yet its topology does not map well ontoexisting  national  boundaries.  Connectivity  is  richer  between CERN and FERMIlab, for example than between many pointswithin the U.S.

More  importantly,  this  network  has  rich  connectivity  with  anumber of other networks, including the PDNs of the various countries, the NSFnet in the U.S., the international ESnet (En-ergy  Sciences  Network),  the  general  research  Internet,  and military  networks  in  the  U.S.  and  elsewhere.  None  of  theseother networks shares a logical part of the NSAP address hier- archy with HEPnet3) . If the only method of routeing from theHEPnet to these other networks was to place each within one and  only  one  of  the  existing  registration  authorities,  and  to

1) This International Standard also uses static Inter-domain tables for routeing to individual End systems across dynamically assigned circuits, and also toEnd systems whose addresses do not conform to the address construction rules.  2) The number of ISs is hard to estimate since some ISs and links are in fact shared with other networks, such as the similarly organised NASA SpacePhysics network, or "SPAN". 3) It is conceivable that ISO would sanction such networks by assigning a top-level IDI from the ISO non-geographic AFI, but this is unlikely and wouldonly exacerbate the problem if many such networks were assigned top-level registrations.

ISO/IEC 10589:1992 (E)

120 build  static  tables  showing  these  relationships,  the  tables would clearly grow as O(n2). 

It  seems  therefore,  that  some  means  must  be  available  to  as-sign addresses in a way that captures the Inter-Domain topol- ogy, and which co-exists cleanly with both the administrativeneeds  of  the  registration  authorities,  and  the  algorithms  em- ployed by both the Intra- and Inter-domain routeing protocols.As  alluded  to  in  an  earlier  clause,  it  seems  prudent  to  leave some portion of the address space (most likely from the highorder part of the DSP) sufficiently undefined and flexible that various  Inter-domain  topologies  may  be  efficiently  con-structed.

ISO/IEC 10589:1992 (E)

121 Annex C Implementation guidelines and examples (Informative)  C.1  Routeing databases Each  database  contains  records  as  defined  in  the  followingsub-clauses. The following datatypes are defined.

FROM CommonMgmt IMPORT NAddress,AddressPrefix, BinaryAbsoluteTime; 

lspID = ARRAY [0..iDLength-1] OF Octet; systemID = ARRAY [0..iDLength] OF Octet; octetTimeStamp = BinaryAbsoluteTime;

C.1.1 Level 1 link state database This database is kept by Level 1 and Level 2 Intermediate Sys-tems, and consists of the latest Level 1 Link State PDUs from each  Intermediate  System  (or  pseudonode)  in  the  area.  TheLevel 1 Link State PDU lists Level 1 links to the Intermediate System that originally generated the Link State PDU. 

RECORD adr: lspID;  (* ID of LSP originator *)type: (Level1IntermediateSystem,

AttachedLevel2IntermediateSystem,UnattachedLevel2IntermediateSystem); seqnum: [0..SequenceModulus - 1];LSPage: [0..MaxAge];  (*Remaining Lifetime *) expirationTime: TimeStamp; (*Time at which LSP age became zero (see 7.3.16.4). *)SRMflags: ARRAY[1..(maximumCircuits + maximumVirtualAdjacencies)]OF BOOLEAN;(*Indicates this LSP to be sent on this circuit.

Note that level 2 Intermediate systems may sendlevel 1 LSPs to other partitions (if any exist). Only one level 2 Intermediate system perpartition does this. For level 1 Intermediate Systems the array is just maximumCircuits long.*) SSNflags: ARRAY[1..maximumCircuits +maximumVirtualAdjacencies] OF BOOLEAN; 

(*Indicates that information about this LSP shallbe included in the next partial sequence number PDU transmitted on this circuit. *) POINTER TO LSP; (*The received LSP *)END;

C.1.2 Level 2 link state database This  database  is  kept  by  Level  2  Intermediate  Systems,  andconsists  of  the  latest  Level  2  Link  State  PDUs  from  each Level  2  Intermediate  System  (or  pseudonode)  in  the  domain.

The Level 2 Link State PDU lists Level 2 links to the Interme-diate System that originally generated the Link State PDU. 

RECORDadr: lspID; (* iDLength + 2 octet ID of LSP originator *)type: (AttachedLevel2IntermediateSystem,

UnattachedLevel2IntermediateSystem);seqnum: [0..SequenceModulus - 1]; LSPage: [0..MaxAge];(*Remaining Lifetime *) expirationTime: TimeStamp;(*Time at which LSP age became zero (see 7.3.16.4). *)SRMflags: ARRAY[1..(maximumCircuits)] OF BOOLEAN;(*Indicates this LSP to be sent on this circuit.

*)SSNflags: ARRAY[1..maximumCircuits] OF BOOLEAN; (*Indicates that information about this LSP must

be included in the next partial sequence numberPDU transmitted on this circuit. *) POINTER TO LSP; (*The received LSP *)END;

C.1.3 Adjacency database This  database  is  kept  by  all  systems.  Its  purpose  is  to  keeptrack of neighbours.

For Intermediate systems, the adjacency database comprises adatabase with an entry for each:

- Adjacency on a Point-to-point circuit.  - Broadcast Intermediate System Adjacency.

- Broadcast End system Adjacency.  - potential SVC on a DED circuit (maximumSVCAdja-cencies for a DA circuit, or 1 for a Static circuit). 

- Virtual Link Adjacency. Each entry contains the parameters in Clause 11 for the Adja-cency  managed  object.  It  also  contains  the  variable  used  to store the remaining holding time for each Adjacency IDEntry,as defined below. 

IDEntry = RECORDID: systemID;

(* The idLength octet System ID of a neighbour

NOTE 67  Both a Level 1 and a Level 2 adjacency canexist between the same pair of systems.

ISO/IEC 10589:1992 (E)

122

End system extracted from the SOURCEADDRESS field of its ESH PDUs. *) entryRemainingTime: Unsigned [1..65535](* The remaining holding time in seconds for this

entry. This value is not accessible to systemmanagement. An implementation may choose to implement the timer rules without an explicitremainingTime being maintained. For example by the use of asynchronous timers. It is presenthere in order to permit a consistent description of the timer rules. *)END

Circuit Database This database is kept by all systems. Its purpose is to keep in-formation  about  a  circuit.  It  comprises  an  AR- RAY[1..maximumCircuits]. Each entry contains the parameters in Clause 11 for a linkagemanaged  object.  It  also  contains  the  remainingHelloTime (WordUnsigned  [1..65535]  seconds)  variable  for  the  Circuit.This variable not accessible to system management. An imple- mentation may choose to implement the timer rules without anexplicit remainingHelloTime being maintained. For example by the use of asynchronous timers. It is present here in order topermit a consistent description of the timer rules. Additionally, for Circuits of type "X.25 Static Outgoing" or "X.25 DA", itcontains  the  recallCount  (Unsigned[0..255])  variable  for  the Circuit. This variable is not accessible to system management.It used to keep track of recall attempts. 

C.1.4 Level 1 shortest paths database  This database is kept by Level 1 and Level 2 Intermediate Sys-tems (unless each circuit is "Level 2 Only"). It is computed by the Level 1 Decision Process, using the Level 1 Link State Da-tabase. The Level 1 Forwarding Database is a subset of this da- tabase. 

RECORDadr: systemId; (*idLength octet ID of destination system *)cost: [1..MaxPathMetric];

(*Cost of best path to destination system *)adjacencies: ARRAY[1..maximumPathSplits] OF POINTER TO Adjacency;(*Pointer to adjacency for forwarding to system adr *)END;

C.1.5 Level 2 shortest paths database  This  database  is  kept  by  Level  2  Intermediate  Systems.  It  iscomputed by the Level 2 Decision Process, using the Level 2 Link  State  Database.  The  Level  2  Forwarding  Database  is  asubset of this database. 

RECORD adr: AddressPrefix; (*destination prefix *)cost: [1..MaxPathMetric]; (*Cost of best path to destination prefix *)adjacencies: ARRAY[1..maximumPathSplits]

OF POINTER TO Adjacency;

(*Pointer to adjacency for forwarding to prefixadr *) END;

C.1.6 Level 1 forwarding database  This database is kept by Level 1 and Level 2 Intermediate Sys-tems (unless each circuit is "Level 2 Only"). It is used to deter- mine  where  to  forward  a  data  NPDU  with  destination  withinthis system's area. It is also used to determine how to reach a Level  2  Intermediate  System  within  the  area,  for  data  PDUswith destinations outside this system's area.

RECORDadr:systemId;

(*idLength octet ID of destination system.Destination "0" is special, meaning"nearest level 2 Intermediate system *)splits: [0..maximumPathSplits]; (* Number of valid output adj's forreachingadr (0 indicates it "is unreachable) *) nextHop: ARRAY[1..maximumPathSplits] OF POINTER TO adjacency; (*Pointer to adjacency for forwarding to

destination system *)END;

C.1.7 Level 2 forwarding database This  database  is  kept  by  Level  2  Intermediate  systems.  It  isused to determine where to forward a data NPDU with destina- tion outside this system's area.

RECORDadr: AddressPrefix;  (*address of destination area. *)splits: [0..maximumPathSplits];

(*Number of valid output adj's for reachingadr (0 indicates it is unreachable) *) nextHop: ARRAY[1..maximumPathSplits] OFPOINTER TO adjacency;

(*Pointer to adjacency for forwarding todestination area. *) END;

C.2 SPF algorithm for computing equalcost paths

An  algorithm  invented  by  Dijkstra  (see  references)  known  asshortest path first (SPF), is used as the basis for the route cal- culation. It has a computational complexity of the square of thenumber  of  nodes,  which  can  be  decreased  to  the  number  of links in the domain  times  the log  of the number of nodes forsparse networks (networks which are not highly connected). 

A number of additional optimisations are possible: 

a) If the routeing metric is defined over a small finite field(as in this International Standard), the factor of log n may

be  removed  by  using  data  structures  which  maintain  a

ISO/IEC 10589:1992 (E)

123 separate list of systems for each value of the metric ratherthan sorting the systems by logical distance.  b) Updates can be performed incrementally without requir-ing  a  complete  recalculation.  However,  a  full  update

must  be  done  periodically  to  recover  from  data  corrup-tion, and studies suggest that with a very small number of link  changes  (perhaps  two)  the  expected  computationcomplexity  of  the  incremental  update  exceeds  the  com- plete  recalculation.  Thus,  this  International  Standardspecifies the algorithm only for the full update. 

c) If  only  End  system  LSP  information  has  changed,  it  isnot  necessary  to  re-compute  the  entire  Dijkstra  tree  for

the  IS.  If  the  proper  data  structures  exist,  End  Systemsmay  be  attached  and  detached  as  leaves  of  the  tree  and their  forwarding  information  base  entries  altered  as  ap-propriate

The  original  SPF  algorithm  does  not  support  load  splittingover  multiple  paths.  The  algorithm  in  this  International  Stan- dard  does  permit  load  splitting  by  identifying  a  set  of  equalcost  paths  to  each  destination  rather  than  a  single  least  cost path.

C.2.1 Databases PATHS  -  This  represents  an  acyclic  directed  graph  ofshortest paths from the system S performing the cal-

culation.  It  is  stored  as  a  set  of  triples  of  the  forma'N,d(N),{Adj(N)}n~, where:

N is a system Identifier. In the level 1 algorithm, N isa (idLength+1) octet ID. For a non-pseudonode it is

the idLength octet system ID, with a 0 appended oc-tet. For a pseudonode it is a true (idLength+1) octet quantity,  comprised  of  the  idLength  octet  Desig-nated Intermediate System ID and the extra octet as- signed  by  the  Designated  Intermediate  System.  Inthe  level  2  algorithm  it  is  either  a (idLength+1)  octet  Intermediate  System  orpseudonode ID (as in the level 1 algorithm), or it is a variable length address prefix (which will always bea leaf, i.e. "End system", in PATHS).

d(N)  is  N's  distance  from  S  (i.e.  the  total  metricvalue from N to S). 

{Adj(N)} is a set of valid adjacencies that S may usefor forwarding to N. When a system is placed on PATHS, the path(s) des-ignated by its position in the graph is guaranteed to be

a shortest path. TENT  -  This  is  a  list  of  triples  of  the  forma'N,d(N),{Adj(N)}n~,  where  N,  d(N)  and  {Adj(N)}  are

as defined above for PATHS. TENT  can  intuitively  be  thought  of  as  a  tentativeplacement  of  a  system  in  PATHS.  In  other  words,

the  triple  a'N,x,{A}n~  in  TENT  means  that  if  N  wereplaced in PATHS, d(N) would be x, but N cannot be placed on PATHS until it is guaranteed that no pathshorter than x exists.

The triple a'N,x,{A,B}n~ in TENT means that if N wereplaced  in  PATHS,  d(N)  would  be  x  via  either  adja-

cency A or B

NOTE 68  As  described  above,  (see  7.2.6),  it  is  suggestedthat the implementation keep the database TENT as a set of lists of triples of the form a'*,Dist,*n~, for each possible dis-tance Dist. In addition it is necessary to be able to process those  systems  which  are  pseudonodes  before  any  non-pseudonodes at the same distance Dist.

C.2.2 Use of metrics in the SPF calculation Internal metrics are not comparable to external metrics. There-fore, the cost of the path from N to S for external routes (routes to  destinations  outside  of  the  routeing  domain)  may  includeboth internal and external metrics. The cost of the path from N to S (called d(N) below in database PATHS) may therefore bemaintained  as  a  two-dimensional  vector  quantity  (specifying internal and external metric values). In  incrementing d(N)  by1, if the internal metric value is less than the maximum value MaxPathMetric, then the internal metric value is incrementedby one and the external metric value left unchanged; if the in- ternal  metric  value  is  equal  to  the  maximum  valueMaxPathMetric, then the internal metric value is set to 0 and the  external  metric  value  is  incremented  by  1.  Note  that  thiscan be implemented in a straightforward manner by maintain- ing the external metric as the high order bits of the distance.

NOTE 69  In  the  code  of  the  algorithm  below,  the  currentpath length is held in a variable tentlength. This variable is a  two-dimensional  quantity  tentlength=(internal,external)and is used for comparing the current path length with d(N) as described above.

C.2.3 Overview of the algorithm The basic algorithm, which builds PATHS from scratch, startsout by putting the system doing the  computation on PATHS (no shorter path to SELF can possibly exist).  TENT is thenpre-loaded from the local adjacency database.

Note that a system is not placed in PATHS unless no shorterpath  to  that  system  exists.  When  a  system  N  is  placed  in PATHS, the path to each neighbour M of N, through N, is ex-amined, as the path to N plus the link from N to M. If a'M,*,*n~ is in PATHS, this new path will be longer, and thus ignored. If a'M,*,*n~ is in TENT, and the new path is shorter, the old en-try  is  removed  from  TENT  and  the  new  path  is  placed  in TENT. If the new path is the same length as the one in TENT,then the set of potential adjacencies {adj(M)} is set to the un- ion of the old set (in TENT) and the new set {adj(N)}. If M isnot in TENT, then the path is added to TENT.

Next  the  algorithm  finds  the  triple  a'N,x,{Adj(N)}n~  in  TENT,with minimal x. 

NOTE 70  This is done efficiently because of the optimisa-tion  described  above.  When  the  list  of  triples  for  distance Dist is exhausted, the algorithm then increments Dist until itfinds a list with a triple of the form a'*,Dist,*n~. 

N  is  placed  in  PATHS.  We  know  that  no  path  to  N  can  beshorter than x  at  this  point because all  paths  through  systems

ISO/IEC 10589:1992 (E)

124 already  in  PATHS  have  already  been  considered,  and  pathsthrough  systems  in  TENT  will  have  to  be  greater  than  x  be- cause x is minimal in TENT. When TENT is empty, PATHS is complete. C.2.4 Algorithm The  Decison  Process  Algorithm  must  be  run  once  for  eachsupported routeing metric. A Level 1 Intermediate System runs the  algorithm  using  the  Level  1  LSP  database  to  computeLevel 1 paths. In addition a Level 2 Intermediate System runs the  algorithm  using  the  Level  2  LSP  database  to  computeLevel 2 paths.

If this system is a Level 2 Intermediate System which supportsthe  partition repair optional function the  Decision Process  al- gorithm for computing Level 1 paths must be run twice for thedefault metric. The first execution is done to determine which of  the  area's  manualAreaAddresses  are  reachable  in  thispartition, and elect a Partition Designated Level 2 Intermediate System for the partition. The Partition Designated Level 2 In-termediate System will determine if the area is partitioned and will  create  virtual  Level  1  links  to  the  other  Partition  Desig-nated Level 2 Intermediate Systems in the area in order to re- pair the Level 1 partition.  This is further described in 7.2.10. 

C.2.5 Step 0: Initialise TENT and PATHS to empty.

Initialise tentlength to (0,0).

(tentlength  is  the  pathlength  of  elements  in  TENT  weare examining.)

a) Add  a'SELF,  0,  Wn~  to  PATHS,  where  W  is  a  specialvalue  indicating  traffic  to  SELF  is  passed  up  to  Trans-

port (rather than forwarded). b) Now pre-load TENT with the local adjacency database.(Each  entry  made  to  TENT  must  be  marked  as  being

either an End system or an Intermediate System to enablethe check at the end of Step 2 to be made correctly.) For each  adjacency  Adj(N),  (including  Manual  Adjacencies,or for Level 2 enabled Reachable Addresses) on enabled circuits, to system N of SELF in state "Up", compute 

d(N) = cost of the parent circuit of the adjacency(N), obtained from metric

k, where k = one ofdefault metric, delay metric, monetary metric,

error metric. Adj(N) = the adjacency number of the adjacency toN

c) If a triple a'N,x,{Adj(M)}n~ is in TENT, then:

If x = d(N), then Adj(M) n^ {Adj(M)} E` Adj(N).

d) If  there  are  now  more  adjacencies  in  {Adj(M)}  thanmaximumPathSplits, then remove excess adjacencies as

described in 7.2.7. e) If x < d(N), do nothing. f) If  x  >  d(N),  remove  a'N,x,{Adj(M)}n~  from  TENT  andadd the triple a'N,d(N),Adj(N)n~.

g) If  no  triple  a'N,  x,{Adj(M)}n~  is  in  TENT,  then  add  a'N,d(N),Adj(N)n~ to TENT.  h) Now  add  any  systems  to  which  the  local  Intermediatesystem  does  not  have  adjacencies,  but  which  are  men-

tioned in neighbouring pseudonode LSPs. The adjacencyfor such systems is set to that of the Designated Interme- diate System. i) For  all  broadcast  circuits  in  state  "On",  find  the  LSPwith  LSP  number  zero  and  with  the  first

 (idLength+1) octets of LSPID equal to the LnCircuitIDfor that circuit (i.e. pseudonode LSP for that circuit). If it is  present,  for  all  the  neighbours  N  reported  in  all  theLSPs  of  this  pseudonode  which  do  not  exist  in  TENT add an entry a'N,d(N),Adj(N)n~ to TENT, where

d(N) = metrick of the circuit. Adj(N) = the adjacency number of the adjacency to theDR.

j) Go to Step 2. C.2.6 Step 1: Examine the zeroth Link State PDU of P,the system just placed on PATHS (i.e. the Link

State PDU with the same first (idLength+1) octets of LSPID as P, and LSP number zero). 

a) If this LSP is present, and the LSP Database Overload

bit is clear, then for each LSP of P (i.e. all the Link State PDUs with the same first (idLength+1) octets of LSPID as P, irrespective of the value of LSP number) compute 

dist(P,N) = d(P) + metrick(P,N). for each neighbour N (both Intermediate System and End system) of the system P. If the LSP Database Over-load

 bit is set, only consider the End system neighbours of the system P. d(P) is the second element of the triple 

a'P,d(P),{Adj(P)n~  and  metrick(P,N)  is  the  cost  of  the  link  from  P  to  N  asreported in P's Link State PDU

b) If dist(P,N) > MaxPathMetric, then do nothing. c) If a'N,d(N),{Adj(N)}n~ is in PATHS, then do nothing.

d) If a triple a'N,x,{Adj(N)}n~ is in TENT, then:

1) If x = dist(P,N), then Adj(N) n^ {Adj(N)} E` Adj(P). 2) If  there  are  now  more  adjacencies  in  {Adj(N)}  thanmaximumPathSplits,  then  remove  excess  adjacen-

cies, as described in 7.2.7. 3) If x < dist(P,N), do nothing.

NOTE 71  d(N) must be less than dist(P,N), or else Nwould  not  have  been  put  into  PATHS.  An  additional sanity check may be done here to ensure d(N) is in factless than dist(P,N).

ISO/IEC 10589:1992 (E)

125 4) If  x  >  dist(P,N),  remove  a'N,x,{Adj(N)}n~  from  TENTand add a'N,dist(P,N),{Adj(P)}n~. e) If  no  triple  a'N,  x,{Adj(N)}n~  is  in  TENT,  then  add  a'N,dist(P,N),{P}n~ to TENT. C.2.7 Step 2: If TENT is empty, stop, else:

a) Find  the  element  a'P,x,{Adj(P)}n~,  with  minimal  x  as  fol-lows:

1) If  an  element  a'*,tentlength,*n~  remains  in  TENT    inthe  list  for  tentlength,  choose  that  element.  If  there

are more than one elements in the list for tentlength,choose  one  of  the  elements  (if  any)  for  a  system which  is  a  pseudonode  in  preference    to  one  for  anon-pseudonode. If there are no more elements in the list  for  tentlength,  increment  tentlength  and  repeatStep 2. 

2) Remove a'P,tentlength,{Adj(P)}n~ from TENT. 3) Add a'P,d(P),{Adj(P)}n~ to PATHS. 4) If  this  is  the  Level  2  Decision  Process  running,  andthe system just added to PATHS listed itself as Parti-

tion  Designated  Level  2  Intermediate  system,  thenadditionally  add  a'AREA.P,  d(P),  {adj(P)}n~  to PATHS, where AREA.P is the Network Entity Titleof the other end of the Virtual Link, obtained by tak- ing the first AREA listed in P's Level 2 LSP and ap-pending P's ID.

5) If the system just added to PATHS was an End sys-tem, go to Step 2, Else go to Step 1.

NOTE 72  In the Level 2 context, the "End systems" are theset  of  Reachable  Address  Prefixes  and  the  set  of areaAddresses with zero cost. 

C.3 Forwarding process

C.3.1 Example pseudo-code for the forwardingprocedure described in 7.4.3

This procedure chooses, from the Level 1 forwarding database- if level is level1, or from the Level 2 forwarding database - if level is level2, an adjacency on which to forward PDUs fordestination dest. A pointer to the adjacency is returned in adj, and the procedure returns the value "True". If no suitable adja-cency exists the procedure returns the value "False", in which case a call should be made to Drop("Destination Address Un-reachable", octetNumber).

If queue length values are available to the forwarding process,the  minimal  queue  length  of  all  candidate  circuits  is  chosen, otherwise, they are used in round robin fashion.

PROCEDURE Forward(level: (level1, level2),

dest: NetworkLayerAddress, VAR adj: POINTER TO adjacency) : BOOLEAN VAR

adjArray: ARRAY OFForwardingDatabaseRecords; 

temp, index, minQueue: CARDINAL;  BEGIN (*Set adjArray to appropriate database} *)  IF level = level1 THEN adjArray := level1ForwardingDatabase  ELSE adjArray := level2ForwardingDatabase  END; (*Perform appropriate hashing function to obtain an index into the database *) IF Hash(level, dest, index) THEN 

IF adjArray[index].splits > 0 THEN(*Find minimum queue size for all equal cost

paths *)minQueue := MaxUnsigned; temp := adjArray[index].lastChosen + 1; (*start off after last time *) FOR i := 1 TO adjArray[index].splits DO(*for all equal cost paths to dest *)

IF temp > adjArray[index].splits THEN(*after end of valid entries, wrap to

first *)temp := 1 ELSEtemp := temp + 1 END;IF QueueSize(adjArray[index].nextHop[temp]) < minQueue THEN

minQueue :=QueueSize(adjArray[index].nextHop[t emp]);adj := adjArray[index].nextHop[temp];adjArray[index].lastChosen := temp; END;Forward := true END;ELSE Forward := false (*There must be at least onevalid output adjacency *) ENDELSE  Forward := false (*Hash returned destinationunknown *) END END forward; 

ISO/IEC 10589:1992 (E)

127 Annex D Congestion control and avoidance (Informative)  D.1 Congestion control The transmit management subroutine handles congestion con-trol.  Transmit  management  consists  of  the  following  compo- nents:

Square  root  limiter.  Reduces  buffer  occupancy  timeper PDU by using a square root limiter algorithm. The square root limiter also queues PDUs for an output cir-cuit, and prevents buffer deadlock by discarding PDUs when  the  buffer  pool  is exhausted.  D.1.1  specifies  theSquare Root Limiter Process. 

Originating  PDU  limiter.  Limits  originating  NPDUtraffic when necessary to ensure that transit NPDUs are not rejected. An originating NPDU is an NPDU result-ing  from  an  NSDU  from  the  Transport  at  this  ES.  A transit  NPDU  is  an  NPDU  from  another  system  to  berelayed to another destination ES.

Flusher.  Flushes  PDUs  queued  for  an  adjacency  thathas gone down. Information  for  higher  layer  (Transport)  congestion  controlprocedures is provided by the setting of the "congestion expe- rienced" bit in the forwarded data NPDUs.

D.1.1 Square root limiter The  square  root  limiter  discards  a  data  NPDU  by  calling  theISO  8473  discard  PDU  function  with  the  reason  "PDU  Dis- carded  due  to  Congestion"  when  the  number  of  data  NPDUson the circuit output queue exceeds the discard threshold, U

d.Ud is given as follows:

where: Nb = Number of  Routeing  Layer  buffers (maximumBuffers)for all output circuits.

Nc  =  Number  of  active  output  circuits  (i.e.  Circuits  in  state"On"). The output queue is a queue of buffers containing data NPDUswhich have been output to that circuit by the forwarding proc- ess, and which have not yet been transmitted by the circuit. Itdoes not include NPDUs which are held by the data link layer for the purpose of retransmission. Where a data NPDU is to be fragmented by this Intermediatesystem over this circuit, each fragment shall occupy a separate buffer and shall be counted as such in the queue length. If theaddition of all the  buffers required  for the fragmentation  of a

Ud = NbN

cpy" z'

single input data NPDU would cause the discard threshold forthat  queue  to  be  exceeded,  it  is  recommended  that  all  those fragments  (including  those  which  could  be  added  withoutcausing the threshold to be exceeded) be discarded. 

D.1.2 Originating PDU limiter The originating PDU limiter first distinguishes between origi-nating NPDUs and transit NPDUs. It then imposes a limit on the number of buffers that originating NPDUs can occupy on aper  circuit  basis.  In  times  of  heavy  load,  originating  NPDUs may  be  rejected  while  transit  NPDUs  continue  to  be  routed.This  is  done  because  originating  NPDUs  have  a  relatively short  wait,  whereas  transit  NPDUs,  if  rejected,  have  a  longwait - a transport retransmission period. 

The originating PDU limiter accepts as input:

- An NSDU received from Transport Layer  - A  transmit  complete  signal  from  the  circuit  for  an  ISO8473 Data PDU.

The originating PDU limiter produces the following as output:

- PDU accepted  - PDU rejected  - Modifications to originating PDU counter There  is  a  counter,  N,  and  an  originating  PDU  limit,originatingQueueLimit, for each active output circuit. Each N is initialised to 0. The originatingQueueLimit is set by man-agement to the number of buffers necessary to prevent the cir- cuit from idling.  D.1.3 Flusher The  flusher  ensures  that  no  NPDU  is  queued  on  a  circuitwhose state is not ON, or on a non-existent adjacency, or one whose state is not Up. 

D.2 Congestion avoidance

D.2.1 Buffer management The Forwarding Process supplies and manages the buffers nec-essary  for  relaying.  PDUs  shall  be  discarded  if  buffer  thresh- olds are exceeded. If the average queue length on the input cir-cuit or the forwarding processor or the output circuit exceeds QueueThreshold,  the  "congestion  experienced"  bit  shall  beset in the QoS maintenance option of the forwarded data PDU (provided the QoS maintenance option is present). 

ISO/IEC 10589:1992 (E)

129 Annex E Syntax imported from ISO 10165-5 (SC6 GMI) (Normative)  --E.1 Generic managed object class definitions MODULE "Rec. X.723 | ISO/IEC 10165-5" --E.1.1 Communication information record

-- The communicationsInformationRecord object class is used to define-- the information stored in a log as a result of receiving event reports -- with a communication information event type. The semantics of the -- object class, namely its attributes and behaviour, are derived from -- the communicationsInformation notification.--

communicationsInformationRecord MANAGED OBJECT CLASSDERIVED FROM "Rec. X.721 | ISO/IEC 10165-2 : 1992":eventLogRecord; CHARACTERIZED BY communicationsInformationRecordP1 PACKAGE      BEHAVIOUR communicationsInformationRecordB1 BEHAVIOUR         DEFINED AS             !Log record class for communicationsInformation events.!;     ;    ATTRIBUTES         informationType GET;    ;; CONDITIONAL PACKAGES    informationDataPackage PACKAGE         ATTRIBUTES             informationData GET;     REGISTERED AS {CommonMgt.poi informationDataPackage(1001)};    PRESENT IF !The informationData parameter is present in the                 communicationsInformation event report corresponding to                the instance of communicationsInformationRecord.!; REGISTERED AS {CommonMgt.moi communicationsInformationRecord(1101)}; --E.1.2 Communications entity -- Summary of changes to 10165-5:-- -- 1. Added CCITT part to document references.-- 2. Gave plural labels to set-valued attributes. -- 3. Fixed typo in label communicationsEentityId.-- 4. Did not register mandatory package. --

ISO/IEC 10589:1992 (E)

130

communicationsEntity MANAGED OBJECT CLASSDERIVED FROM "Rec. X.721 | ISO/IEC 10165-2 : 1992":top; CHARACTERIZED BY communicationsEntityP1 PACKAGE    BEHAVIOUR         communicationsEntityB1 BEHAVIOUR            DEFINED AS              !A communications entity supports the disabled and enabled             values of the operationalState attribute as described in              CCITT Rec. X.731 | ISO/IEC 10164-2 as follows:            - an entity is disabled if it is inoperable or a resource               upon which it depends is inoperable.            - an entity is enabled if it is operable.!;     ;    ATTRIBUTES communicationsEntityId GET,                 localSapNames GET,                         "Rec. X.721 | ISO/IEC 10165-2 : 1992":operationalState GET;     ;; REGISTERED AS {CommonMgt.moi communicationsEntity(1002)};

--E.1.3 Connection -- Summary of changes to 10165-5:-- -- 1. Added CCITT part to document references.-- 2. Gave plural label to set-valued attribute. -- 3. Did not register mandatory package.-- 4. Removed attributes not generally applicable in all layers. --

connection MANAGED OBJECT CLASSDERIVED FROM "Rec. X.721 | ISO/IEC 10165-2 : 1992":top; CHARACTERIZED BY connectionP1 PACKAGE    BEHAVIOUR          connectionB1 BEHAVIOUR            DEFINED AS                  !This managed object class represents the view of a                 single-peer connection between a pair of entities as seen                  by the local entity.!;    ;     ATTRIBUTES connectionId GET,                             underlyingConnectionNames GET;     ;; REGISTERED AS {CommonMgt.moi connection(1003)};

--E.1.4 Connectionless-mode protocol machine -- Summary of changes to 10165-5:-- -- 1. Added CCITT part to document references.-- 2. Did not register mandatory package. -- 3. Changed name of naming attribute to clProtocolMachineId.-- 4. Removed DEFAULT VALUE and REQUIRED VALUES on naming attribute. -- 5. Generalised description.--

ISO/IEC 10589:1992 (E)

131 clProtocolMachine MANAGED OBJECT CLASSDERIVED FROM "Rec. X.721 | ISO/IEC 10165-2 : 1992":top; CHARACTERIZED BY clProtocolMachineP1 PACKAGE    BEHAVIOUR          clProtocolMachineB1 BEHAVIOUR            DEFINED AS                  !A protocol machine which performs connectionless-mode                communications functions.!;     ;    ATTRIBUTES clProtocolMachineId GET,                "Rec. X.721 | ISO/IEC 10165-2 : 1992":operationalState GET;    ;;  REGISTERED AS {CommonMgt.moi clProtocolMachine(1004)}; --E.1.5 Connection-mode protocol machine

-- Summary of changes to 10165-5:-- -- 1. Added CCITT part to document references.-- 2. Did not register mandatory package. -- 3. Changed name of naming attribute to coProtocolMachineId.-- 4. Removed DEFAULT VALUE and REQUIRED VALUES on naming attribute. -- 5. Generalised description.--

coProtocolMachine MANAGED OBJECT CLASSDERIVED FROM "Rec. X.721 | ISO/IEC 10165-2 : 1992":top; CHARACTERIZED BY coProtocolMachineP1 PACKAGE    BEHAVIOUR          coProtocolMachineB1 BEHAVIOUR            DEFINED AS                  !A protocol machine which performs connection-mode                communications functions.!;     ;    ATTRIBUTES coProtocolMachineId GET,                "Rec. X.721 | ISO/IEC 10165-2 : 1992":operationalState GET;    ;;  REGISTERED AS {CommonMgt.moi coProtocolMachine(1005)}; --E.1.6 Sap 1

-- Summary of changes to 10165-5:-- -- 1. Added CCITT part to document references.-- 2. Gave plural label to set-valued attribute. -- 3. Did not register mandatory package.--

ISO/IEC 10589:1992 (E)

132

sap1 MANAGED OBJECT CLASSDERIVED FROM "Rec. X.721 | ISO/IEC 10165-2 : 1992":top; CHARACTERIZED BY sap1P1 PACKAGE    BEHAVIOUR          sap1B1 BEHAVIOUR            DEFINED AS                  !This managed object represents the point at which an                entity provides services to the user entity. Refer to the                 Basic Reference Model for the definition of (N)-sap.!;    ;     ATTRIBUTES sapId GET,               sap1Address GET,                userEntityNames GET;;;  REGISTERED AS {CommonMgt.moi sap1(1008)}; --E.1.7 Sap 2

-- Summary of changes to 10165-5:-- -- 1. Added CCITT part to document references.-- 2. Gave plural labels to set-valued attributes. -- 3. Did not register mandatory package.--

sap2 MANAGED OBJECT CLASSDERIVED FROM "Rec. X.721 | ISO/IEC 10165-2 : 1992":top; CHARACTERIZED BY sap2P1 PACKAGE    BEHAVIOUR          sap2B1 BEHAVIOUR            DEFINED AS                  !A service access point, the address of which is                 independent of the SAP of the underlying layer.!;     ;    ATTRIBUTES sapId GET,                sap2Addresses GET,               userEntityNames GET,                providerEntityNames GET;    ;;  REGISTERED AS {CommonMgt.moi sap2(1009)}; --E.1.8 Subsystem

-- Summary of changes to 10165-5:-- -- 1. Added CCITT part to document references.-- 2. Fixed typo in naming attribute. -- 3. Did not register mandatory package.--

ISO/IEC 10589:1992 (E)

133 subsystem MANAGED OBJECT CLASSDERIVED FROM "Rec. X.721 | ISO/IEC 10165-2 : 1992":top; CHARACTERIZED BY subsystemP1 PACKAGE    BEHAVIOUR          subsystemB1 BEHAVIOUR            DEFINED AS                  !This managed object class represents a portion of a                 system where components are named independently of the                 components of other subsystems.!;    ;     ATTRIBUTES subsystemId GET;    ;;  REGISTERED AS {CommonMgt.moi subsystem(1010)}; --E.1.9 Attributes

clProtocolMachineId ATTRIBUTEWITH ATTRIBUTE SYNTAX CommonMgt.ProtocolMachineId; MATCHES FOR EQUALITY;REGISTERED AS {CommonMgt.aoi clProtocolMachineId(1051)};

communicationsEntityId ATTRIBUTEWITH ATTRIBUTE SYNTAX CommonMgt.CommunicationsEntityId; MATCHES FOR EQUALITY;REGISTERED AS {CommonMgt.aoi communicationsEntityId(1003)};

informationData ATTRIBUTEWITH ATTRIBUTE SYNTAX CommonMgt.InformationData; REGISTERED AS {CommonMgt.aoi informationData(1052)};

informationType ATTRIBUTEWITH ATTRIBUTE SYNTAX CommonMgt.InformationType; MATCHES FOR EQUALITY;REGISTERED AS {CommonMgt.aoi informationType(1053)};

connectionId ATTRIBUTEWITH ATTRIBUTE SYNTAX CommonMgt.ConnectionId; MATCHES FOR EQUALITY;REGISTERED AS {CommonMgt.aoi connectionId(1004)};

coProtocolMachineId ATTRIBUTEWITH ATTRIBUTE SYNTAX CommonMgt.ProtocolMachineId; MATCHES FOR EQUALITY;REGISTERED AS {CommonMgt.aoi coProtocolMachineId(1050)};

localSapNames ATTRIBUTEWITH ATTRIBUTE SYNTAX CommonMgt.ProviderObjects; -- Note: Not derived from DMI.providerobject as in 10165-5.MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION; REGISTERED AS {CommonMgt.aoi localSapNames(1007)};

ISO/IEC 10589:1992 (E) 134

nonWrappingCounter ATTRIBUTEWITH ATTRIBUTE SYNTAX CommonMgt.NonWrappingCounter; MATCHES FOR EQUALITY, ORDERING;BEHAVIOUR      nonWrappingCounterB BEHAVIOUR        DEFINED AS          !Generic non-wrapping counter. Never instantiated - used         to derive specific non-wrapping counter attributes. All counters          derived from nonWrappingCounter shall have a mandatory initial value        of zero. The value of a counter attribute derived from this shall be          incremented by an amount as specified in the behaviour of the refined         attribute, and shall increase monotonically. It shall be implemented           in such a way that under all foreseable circumstances the upper bound         on its value shall not be limited to a value less than 2^64-1. This does not         require the system to maintain a 64-bit counter if the characteristics of the         implementation are such that all achievable count values can be contained         in a smaller number of bits.!;;;-- Note, since this attribute is never instantiated, no object identifier  -- is registered.

providerEntityNames ATTRIBUTEWITH ATTRIBUTE SYNTAX CommonMgt.ProviderObjects; -- Note: Not derived from DMI.providerobject as in 10165-5.MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION; -- Note: The set-valued operations not specified in 10165-5.REGISTERED AS {CommonMgt.aoi providerEntityNames(1011)};

sap1Address ATTRIBUTEWITH ATTRIBUTE SYNTAX CommonMgt.Sap1Address; MATCHES FOR EQUALITY;REGISTERED AS {CommonMgt.aoi sap1Address(1013)};

sap2Addresses ATTRIBUTEWITH ATTRIBUTE SYNTAX CommonMgt.Sap2Addresses; MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION;BEHAVIOUR sap2AddressesB BEHAVIOUR     DEFINED AS         !The set of addresses of a SAP.!;; REGISTERED AS {CommonMgt.aoi sap2Addresses(1014)};

sapId ATTRIBUTEWITH ATTRIBUTE SYNTAX CommonMgt.SapId; MATCHES FOR EQUALITY;REGISTERED AS {CommonMgt.aoi sapId(1015)};

ISO/IEC 10589:1992 (E)

135 timer ATTRIBUTEWITH ATTRIBUTE SYNTAX CommonMgt.Timer; MATCHES FOR EQUALITY, ORDERING;BEHAVIOUR      timerB BEHAVIOUR        DEFINED AS             !A timer whose value may be set and read to the precision             implied by the syntax definition, but whose effect on the              precision with which the protocol events controlled by this            timer are generated is determined by the implementation. The              details of this precision shall be stated in the MOCS. The             exponent of the timer value shall be encoded as a decimal             exponent in the exponent field of the syntax, i.e. the value            of the timer shall be mantissa*10^exponent.!;; ;-- Note, since this attribute is never instaniated, no object identifier-- is registered.

subsystemId ATTRIBUTEWITH ATTRIBUTE SYNTAX CommonMgt.SubsystemId; MATCHES FOR EQUALITY;REGISTERED AS {CommonMgt.aoi subsystemId(1016)};

underlyingConnectionNames ATTRIBUTEWITH ATTRIBUTE SYNTAX CommonMgt.ProviderObjects; -- Note: Not derived from DMI.providerobject as in 10165-5.MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION; REGISTERED AS {CommonMgt.aoi underlyingConnectionNames(1019)};

userEntityNames ATTRIBUTEWITH ATTRIBUTE SYNTAX CommonMgt.UserObjects; -- Note: Not derived from DMI.userobject as in 10165-5.MATCHES FOR EQUALITY, SET-COMPARISON, SET-INTERSECTION; REGISTERED AS {CommonMgt.aoi userEntityNames(1020)}; --E.1.10 Attribute groups

counters ATTRIBUTE GROUP-- Empty group definition. Counters are added to the group in  -- package definitions.DESCRIPTION      !The group of all counter attributes.!;REGISTERED AS {CommonMgt.agoi counters(1001)};

--E.1.11 Actions

ISO/IEC 10589:1992 (E)

136

activate ACTIONBEHAVIOUR activateB BEHAVIOUR     DEFINED AS    !Initializes the operation of the resource. As a result of the action,     the sequence of operations necessary to cause the resource to enter    its operational mode shall be initiated. These may include, for example,      checks against attribute constraint violation and checks on the validity of    relationship attributes (cross-layer and other). If these operations are     successfully initiated, the administrative state (if present) shall be    changed to 'unlocked' and the value 'successResponse' shall be     returned in the responseCode parameter of the action reply. If these    operations cannot be successfully initiated, the value     'failureResponse' shall be returned,together with a failure reason    parameter describing the reason for the failure.

    On successful completion of these operations, the operational state    shall have the value 'enabled'.     Depending on the current state of the resource, some or all of the    above operations may be unneccessary.!;; MODE CONFIRMED;WITH REPLY SYNTAX CommonMgt.ActionReply; REGISTERED AS {CommonMgt.acoi activate(1001)};

deactivate ACTIONBEHAVIOUR deactivateB BEHAVIOUR     DEFINED AS         !Terminates the operation of the resource. As a result of the          action the sequence of operations necessary to cause the resource         to cease operation shall be initiated.  If these operations are          successfully initiated, the administrative state (if present) shall         be changed to 'locked' and the value 'successResponse' shall be          returned in the responseCode parameter of the action reply. If         these operations cannot be successfully initiated, the value         'failureResponse' shall be returned,together with a failure reason         parameter describing the reason for the failure.

        On completion of these operations, the operational state shall have        the value 'disabled'.         Depending on the current state of the resource, some or all of the        above operations may be unneccessary.!;; MODE CONFIRMED;WITH REPLY SYNTAX CommonMgt.ActionReply; REGISTERED AS {CommonMgt.acoi deactivate(1002)};

ISO/IEC 10589:1992 (E)

137 shutdown ACTIONBEHAVIOUR shutdownB BEHAVIOUR      DEFINED AS         !Shuts down the operation of the resource. If at the time, the         resource has existing users, the administrative state shall become        'shutting down', and no new users of the resource shall be         permitted. The value 'successResponse' shall be returned in the        responseCode parameter of the action reply. If the resource cannot         be shut down the value 'failureResponse' shall be returned,together         with a failure reason parameter describing the reason for the          failure.

        When, subsequently, the number of existing users drops to zero,         the sequence of operations necessary to cause the resource to cease         operation shall be initiated.  The administrative state shall be        changed to 'locked'.  When these operations are completed the         operational state shall become 'disabled'.

        If at the time the resource has no existing users, the sequence of        operations necessary to cause the resource to cease operation shall          be initiated.  he administrative state shall be changed to 'locked'.        The value 'successResponse' shall be returned in the responseCode         parameter of the action reply.  If the resource cannot be shut down        the value 'failureResponse' shall be returned,together with a          failure reason parameter describing the reason for the failure.         When the operations initiated above are completed the operational          state shall become 'disabled'.

        Depending on the current state of the resource, some or all of the        above operations may be unneccessary.!;; MODE CONFIRMED;WITH REPLY SYNTAX CommonMgt.ActionReply; REGISTERED AS {CommonMgt.acoi shutdown(1003)};

--E.1.12 Notifications

communicationsInformation NOTIFICATIONBEHAVIOUR communicationsInformationB BEHAVIOUR     DEFINED AS         !This notification may be used to report the occurence of          events pertaining to the normal operation of a managed object.        These are informational events; important enough to report, but         not requiring any further action by a manager. Faults and        abnornal conditions (which may require manager action) shall be          reported using the event types defined in         Rec.X.733 | ISO/IEC 10164-4.!;; WITH INFORMATION SYNTAX CommonMgt.CommunicationsInformationAND ATTRIBUTE IDS     informationType informationType,    informationData informationData; REGISTERED AS {CommonMgt.noi communicationsInformation(1001)};         

ISO/IEC 10589:1992 (E) 138

--E.1.13 Functional unit packages ---- The following object identifier ----    {CommonMgt.fupoi informationEventReports(1000)} ---- is assigned as a value of the ASN.1 type FunctionalUnitPackageId -- defined in CCITT Rec.X.701 | ISO/IEC 10040 to use for negotiating-- use of the following functional unit ----      0 communication information functional unit -- -- where the number identifies the bit position assigned to the  -- functional unit.

END --E.2 ASN.1 definitions

CommonMgt {joint-iso-ccitt network-layer(13) management(0) sc6-gmi(0)            asn1Module(2) 0} DEFINITIONS IMPLICIT TAGS ::= BEGIN

-- EXPORTS everything -- "infrastructure" object identifier definitions cmoi OBJECT IDENTIFIER ::= {joint-iso-ccitt network-layer(13) management(0) sc6-gmi(0)} sseoi OBJECT IDENTIFIER ::= {cmoi standardSpecificExtensions(0)}fupoi OBJECT IDENTIFIER ::= {cmoi functionalUnitPackage(1)} moi OBJECT IDENTIFIER ::= {cmoi managedObjectClass(3)}poi OBJECT IDENTIFIER ::= {cmoi package(4)} proi OBJECT IDENTIFIER ::= {cmoi parameter(5)}aoi OBJECT IDENTIFIER ::= {cmoi attribute(7)} agoi OBJECT IDENTIFIER ::= {cmoi attributeGroup(8)}acoi OBJECT IDENTIFIER ::= {cmoi action(9)} noi OBJECT IDENTIFIER ::= {cmoi notification(10)}

-- other definitions

ISO/IEC 10589:1992 (E)

139 ActionInfo ::= SET OF ParameterActionReply ::= SEQUENCE{     responseCode OBJECT IDENTIFIER,    responseArgs SET OF Parameter OPTIONAL} counterInitialValue NonWrappingCounter ::= 0InformationData ::= SET OF Parameter CommunicationsInformation ::= SEQUENCE{    informationType InformationType,     informationData InformationData OPTIONAL}InformationType ::= OBJECT IDENTIFIER CommunicationsEntityId ::= GraphicStringConnectionId ::= GraphicString failureResponse OBJECT IDENTIFIER ::= {responseCode failureResponse(1001)}informationEventReports OBJECT IDENTIFIER ::= {fupoi                                                informationEventReports(1000)}NonWrappingCounter ::= Integer(0..18446744073709551616) -- (0..2^64-1) NotificationInfo ::= SET OF Parameter

Parameter ::= SEQUENCE{    paramId OBJECT IDENTIFIER,     paramInfo ANY DEFINED BY paramId}ProtocolMachineId ::= GraphicString ProviderObjects ::= SET OF CMIP-1.BaseManagedObjectId-- only the localDistinguishedName form of ObjectInstance is used

responseCode OBJECT IDENTIFIER ::= {proi responseCode(1001)}-- value assignments for specific action response codes are registered  -- under this OID.  

ResponseCode ::= OBJECT IDENTIFIERSap1Address ::= Integer Sap2Addresses ::= SET OF OctetStringSapId ::= GraphicString SubsystemId ::= GraphicStringsuccessResponse OBJECT IDENTIFIER ::= {responseCode successResponse(1002)} Timer ::= Sequence{    exponent [1] INTEGER(-62..63),     mantissa [2] INTEGER(0..65535)}UserObjects ::= SET OF CMIP-1.BaseManagedObjectId -- only the localDistinguishedName form of ObjectInstance is used

END

ISO/IEC 10589:1992 (E)

141 Annex F Bibliography (Informative)  [1] McQuillan, J.  et. al., The New Routeing Algorithm forthe  ARPANET,  IEEE  Transactions  on  Communica-

tions, May 1980. [2] Perlman, Radia, Fault-Tolerant Broadcast of RouteingInformation,  Computer  Networks,  Dec.  1983.  Also  in

IEEE INFOCOM 83, Apr. 83. [3] Aho, Hopcroft, and Ullman, Data Structures and Algo-rithms,  pp.204-208, The Dijkstra algorithm.

ISO/IEC 10589:1992 (E)

143 Index A

ActionInfo, 139 ActionReply, 139 activate, 136 address

encoding

level 2, 12 extraction, 41 addressPrefix, 68, 93 AddressPrefix, 98 addressPrefixes, 35 address prefix, 19, 48

matching, 12 address prefix field, 59 adjacency, 3, 9, 12, 15, 35

end system, 47 manual, 20, 47 state, 37, 45 type, 15 virtual, 16, 17, 22, 34 adjacencyCostChange, 43 adjacencyId, 43, 88, 89 adjacencyState, 45, 46, 88, 89 AdjacencyState, 98 adjacencyStateChange, 36, 37, 38, 39, 40, 43,45, 46, 47

adjacencyStateChange-B, 88 adjacencyUsage, 22, 38, 39, 40, 89, 90 AdjacencyUsage::=, 98 adjacency managed object, 88 adjacency-linkage, 89 adjacency-linkage-B, 89 adjacency-linkage-management, 89 adjacency-linkage-management-B, 89 adjacency-P, 88 administrative domain, 5. See alsoadministrative domain

AFI, 10 AllEndSystems, 48 AllIntermediateSystems, 44, 48 AllL1ISs, 30, 44, 45, 48, 49 AllL2ISs, 30, 44, 45, 48

area, 3

partition, 16AreaAddress, 98

areaAddresses, 12, 17, 18, 22, 73, 75AreaAddresses, 98 areaAddressesOfNeighbour, 45, 89, 90areaMismatch, 80, 98 areaReceivePasswords, 25, 26, 75areaTransmitPassword, 22, 25, 26, 27, 28, 74,

75 area address, 10, 12, 16, 18, 19, 22, 23, 33, 38,45, 48, 52, 54, 55, 58, 59, 100, 125

comparison, 13 area addresses field, 12, 14, 18, 21, 22, 23, 40,45, 50, 52, 53, 55, 58, 59, 80

area address field, 33 attached, 16, 17AttachedFlag, 16, 19, 33

attemptsToExceedMaximumSequenceNumber,73, 75 attemptToExceedMaximumSequenceNumber,29, 71, 98 authenticationFailure, 25, 26, 38, 44, 45, 74, 84,98 authenticationFailures, 68, 75, 84 authentication information field, 22, 23, 25, 26,27, 28, 37, 38, 44, 46, 50, 52, 54, 56, 59, 61,

62, 63, 64, 100authentication type sub-field, 22, 23, 25, 26, 27, 28, 37, 38, 44, 46, 51, 52, 54, 57, 59, 61, 62,63, 65 authentication value field, 51, 52, 54, 57, 59,60, 61, 62, 63, 65

B

broadcastISAdjacency-P, 89

C

callEstablishementMetric, 42, 43callEstablishmentDefaultMetricIncrement, 82,

84 callEstablishmentDelayMetricIncrement, 82, 84

ISO/IEC 10589:1992 (E) 144

callEstablishmentErrorMetricIncrement, 82, 84callEstablishmentExpenseMetricIncrement, 82,

84callEstablishmentMetricIncrement, 100 callEstablishmentMetricIncrement-Default, 99call userdata, 41 changesInAdjacencyState, 81, 85checksum, 19, 24, 29

generation, 23checksum field, 27, 54, 55, 57, 60, 61, 62, 63, 64 circuit, 3external-Domain, 5

ID, 15, 22, 40, 124CircuitID, 98 circuitReceivePasswords, 38, 44, 45, 84, 85circuitTransmitPassword, 37, 44, 46, 84, 85 CircuitType, 98circuit type field, 37, 40, 49, 50, 51, 53 cLNSISISAuthentication-P, 74cLNSISISAuthentication-P-ImportedAlarmNotif

ications-B, 74cLNSISISBasicImportedAlarmNotifications-B, 70cLNSISISBasicImportedInfoNotifications-B, 71 cLNSISISBasic-P, 70cLNSISISLevel2Authentication-P, 75 cLNSISISLevel2ImportedAlarmNotifications-B,73 cLNSISISLevel2-P, 73cLNSISISPartitionRepair-P, 74 cLNSISISPartitionRepair-P-ImportedInfoNotifications-B, 74 clProtocolMachineId, 133clProtocolMachineP1, 131 clProtocolMachine MO, 131communicationsEntityId, 133 CommunicationsEntityId, 139communicationsEntityP1, 130 communicationsEntity MO, 130communicationsInformation, 137 CommunicationsInformation, 139communicationsInformationRecordP1, 129 communicationsInformationRecord MO, 129completeSNPInterval, 27, 32, 72, 76 completeSNPInterval-Default, 99connectionId, 133 ConnectionId, 139connectionP1, 130 connection MO, 130constraintViolation, 68 constraintViolation-B, 69coProtocolMachineId, 133 coProtocolMachineP1, 131coProtocolMachine MO, 131 corruptedLSPDetected, 30, 71corruptedLSPReceived, 24

corruptedLSPsDetected, 73, 76, 98counterInitialValue, 139 counters, 135CSNP, 30

D

DA, 43. See also link, dynamically assignedDatabaseState, 98

database validation, 30dataLinkBlocksize, 37, 44, 49, 51, 52 deactivate, 136decapsulation, 18, 34 decision process, 8, 13DED, 6. 

See also link, dynamically establisheddefaultESHelloTimer, 47

DefaultESHelloTimer, 102defaultMetric, 93, 95 defaultMetricOutputAdjacencies, 91defaultMetricPathCost, 91 defaultMetricType, 94, 95defaultMetric-Default, 99 DefaultMetric-Permitted, 99default metric, 13, 15, 19, 22, 33, 34

field, 56, 58, 59delayMetric, 93, 95 delayMetricOutputAdjacencies, 91, 92delayMetricPathCost, 91, 92 delayMetricType, 94, 95delay metric, 13

field, 56, 58, 59DesignatedISChange, 98 designated intermediate system, 3, 14, 21, 46,47, 110

election, 14, 46, 47resign, 14 destinationArea managed object, 93destinationArea-cLNS, 93 destinationSystem managed object, 92destinationSystem-cLNS, 93 destination address field, 18, 34destination managed object, 91 determinism, 15domain

administrative. See administrative domainrouteing. 

See routeing domaindomainReceivePasswords, 25, 26, 75, 76

domainTransmitPassword, 23, 25, 26, 27, 28, 75,76 downstream path, 15dRISISHelloTimer, 46, 72, 76 dRISISHelloTimer-Default, 99DSP, 10

E

encapsulation, 18, 34

ISO/IEC 10589:1992 (E)

145 endSystemIDs, 22, 47end LSPID field, 27 end LSP ID field, 27, 60, 61, 62end system, 4

adjacency, 47 configuration, 47end system neighbours field, 21, 22

entryRemainingTime, 47errorMetric, 93, 95 errorMetricOutputAdjacencies, 91, 92 errorMetricPathCost, 91, 92errorMetricType, 94, 95

error metric, 13field, 56, 58, 59 error report flag, 18 expenseMetric, 93, 96expenseMetricOutputAdjacencies, 91, 92

expenseMetricPathCost, 91, 92expenseMetricType, 94, 96 expense metric, 13

field, 56, 58, 59explicitSNPA-P, 94

explicit mapping type, 36, 41externalDomain, 24, 26, 37, 38, 44, 46, 81, 85 externalDomain-Default, 99 external metric, 14, 19, 20extractDSP mapping type, 36, 41

extractDSP-P, 94extractIDI mapping type, 36, 41

F

failureResponse, 139forwarding process, 10

fragmentation, 18 G

GraphicString, 98

H

HDLC, 6helloTimer, 47

HoldingMultiplier, 47holdingTimer, 40, 45, 89, 90 holding time field, 36, 45, 47, 49, 50, 51, 52, 53HopMetric, 98

I

iDFieldLengthMismatch, 24, 26, 38, 44, 71, 80,98

iDFieldLengthMismatches, 73, 76, 81 IDLength, 98idleTimer, 41

IDP, 41ID field, 11, 40, 49, 51, 53, 54, 57, 60, 61, 63,

64, 118, 119length, 11 id field length, 109ID length field, 24, 26, 38, 44, 49, 51, 53, 54, 57,

60, 61, 62, 63, 64id length field, 71 informationData, 133, 139InformationData, 139 informationDataPackage, 129informationEventReports, 139 informationType, 133, 139InformationType, 139 initialisationFailure, 38, 39, 40, 45initialisationFailures, 81, 85 IntermediateSystemPriority, 98intermediate system

designated. See designated intermediatesystem level 1, 4level 2, 5 intermediate system neighbours field, 16, 21, 22,23, 50, 52, 55, 56, 58, 59 internal metric, 14, 19, 20IntraDomainRouteingPD, 34 IntradomainRouteingPD, 35IntraDomainRouteingSelector, 34 IntradomainRouteingSelector, 35intradomain routeing protocol discriminator

field, 49, 51, 53, 54, 57, 60, 61, 62, 64iSAdjacency-P, 89 iSISControlPDUsReceived, 81, 85iSISControlPDUsSent, 81, 85 iSISHelloTimer, 35, 37, 44, 46, 47, 81, 85, 102iSISHelloTimer-Default, 99 ISISHoldingMultiplier, 35, 46, 102ISO TR 9575, 2, 5, 6, 8 ISO TR 9577, 2, 35ISO 10039, 2, 48, 49, 118 ISO 10165-1, 2ISO 10165-4, 2, 67 ISO 10733, 2, 67, 70, 80, 84ISO 7498, 1, 2 ISO 8208, 1, 7, 35, 40, 41, 42, 100pics entries, 110 ISO 8348, 1Addendum 2, 10, 11, 12, 117, 118 ISO 8473, 1, 5, 6, 7, 10, 12, 13, 14, 16, 18, 23,33, 34, 100, 101, 118, 127

discard PDU function, 41, 42requirements on, 66 SNDCF, 35, 40, 41subnetwork dependent convergence

functions, 6ISO 8648, 1 ISO 8802, 2, 6, 7, 47ISO 9314, 2, 49

ISO/IEC 10589:1992 (E) 146

ISO 9542, 2, 3, 6, 7, 10, 34, 35, 36, 42, 44, 48,66, 118

pics entry, 109redirects, 34 ISO-SAP, 35iSType, 37, 38, 39, 40, 72, 76 ISType, 98IS Type field, 14, 21, 54, 55, 57, 58

J

jitter, 3, 21, 27, 28, 31, 35, 46, 66, 109

L

LANpartition, 47

lANAddress, 15, 44, 45, 46LANLAN address field, 50 lanLevel1DesignatedIntermediateSystemChange, 46 lanLevel2DesignatedIntermediateSystemChange, 46 lanL1DesignatedIntermediateSystemChange, 82,98 lanL1DesignatedIntermediateSystemChanges,82, 87 lanL2DesignatedIntermediateSystemChange, 83lanL2DesignatedIntermediateSystemChanges,

83, 87lANPriority, 46 lan address field, 49LAN address field, 50, 52 LAN ID field, 44, 47, 49, 51lan id field, 47, 50, 52 lastSent, 24length indicator field, 49, 51, 53, 54, 57, 60, 61,

62, 63, 64level 1 Intermediate System, 4 level 2 intermediate system, 5Level 2 Intermediate System

attached, 16nearest, 16, 34, 101, 122 lifetime, 25lifetime field, 18 link, 3dynamically assigned, 5, 42

dynamically established, 5multipoint, 5 point-to-point, 5static, 5 virtual, 13, 16, 17, 18, 27, 28, 34, 121, 125.

See also link, virtuallinkageISISAuthentication-P, 84

linkageISISAuthentication-P-ImportedAlarmNotifications-B, 84 linkageISISBasicImportedAlarmNotifications-B,

80linkageISISBasic-P, 80 linkageISISBroadcastImportedInfoNotifications-B, 81 linkageISISBroadcast-P, 81linkageISISDACallEstablishmentMetricIncreme

nt-P, 82linkageISISDACallEstablishmentMetricIncreme nt-P-B, 82linkageISISlevel2BroadcastImportedInfoNotific ations-B, 83linkageISISlevel2Broadcast-P, 83 linkageISISLevel2-P, 83linkageISISPtToPt-P, 82 linkageISISStatic-P, 82load splitting, 34 LocalDistinguishedName, 98localSapNames, 133 local circuit id, 44, 47local circuit ID field, 37, 40, 53 LSP expiration, 29

generationevent driven, 21

periodic, 21move adjacency, 21 multiple, 14, 20pseudonode, 14, 22, 23, 46, 55, 58, 101, 124 purge, 14zero, 14, 16, 18, 21, 31, 55, 58, 59, 124 LSPBufferSize, 37LSPDBOL, 55, 58 LSPID, 98lSPL1DatabaseOverload, 31, 70, 98 lSPL1DatabaseOverloads, 73, 77lSPL2DatabaseOverload, 31, 73, 98 lSPL2DatabaseOverloads, 73, 74, 77LSP database overload, 14, 15, 23, 26, 31 LSP Database Overload bit, 21, 31, 124LSP entries field, 60, 62, 63, 64 LSP ID field, 54, 55, 57, 60, 62, 63, 64LSP number field, 20, 55, 57 l1CircuitID, 15, 22, 82, 85l1DefaultMetric, 81, 86 l1DelayMetric, 81, 86l1DesignatedIntermediateSystem, 82, 86 l1ErrorMetric, 81, 86l1ExpenseMetric, 81, 86 l1IntermediateSystemPriority, 82, 86l1IntermediateSystemPriority-Default, 99 l1State, 31, 73, 76l2CircuitID, 15, 22, 83, 86 l2DefaultMetric, 83, 86l2DelayMetric, 83, 87 l2DesignatedIntermediateSystem, 83, 87l2ErrorMetric, 83, 87

ISO/IEC 10589:1992 (E)

147 l2ExpenseMetric, 83, 87l2IntermediateSystemPriority, 83, 87 l2IntermediateSystemPriority-Default, 99 l2State, 31, 73, 74, 76

M

manualAddressDroppedFromArea, 18, 71, 98 manualAddressesDroppedFromArea, 73, 77 manualAreaAddresses, 11, 12, 18, 20, 21, 38, 44,45, 50, 52, 53, 72, 77, 124

manualAreaAddresses-Default, 99 manualL2OnlyMode, 27, 37, 38, 39, 40, 44, 46,50, 51, 53, 83, 87

manualL2OnlyMode-Default, 99manual adjacencies, 20 manual area address, 12 mappingType, 36, 41, 43, 93, 96 MappingType, 98 MaxAge, 29, 32, 35, 121 maximumAreaAddresses, 12, 18, 24, 26, 38, 45,51, 53, 54, 57, 60, 61, 63, 64, 72, 77, 80

MaximumAreaAddresses, 98 maximumAreaAddressesMismatch, 25, 26, 38,45, 71, 80, 98

maximumAreaAddressesMismatches, 73, 77, 81 MaximumAreaAddresses-Default, 98maximumLSPGenerationInterval, 21, 30, 31, 32,

72, 77, 102 maximumLSPGenerationInterval-Default, 99 maximumPathSplits, 15, 16, 72, 77, 122, 124 MaximumPathSplits, 98 maximumPathSplits-Default, 99 maximumVirtualAdjacencies, 74, 77 MaximumVirtualAdjacencies, 98 maximumVirtualAdjacencies-Default, 99 maximum area addresses, 51 maximum area addresses field, 24, 26, 38, 53,54, 57, 60, 61, 63, 64, 71, 80

maximum area addressses field, 45, 50 MaxLinkMetric, 35 maxLinkMetric, 98 MaxPathCost, 122 MaxPathMetric, 15, 35 maxPathMetric, 98 metric, 13, 16, 22, 91

default, 109. See also default metric delay, 109. See also delay metric error, 109. See also error metricexpense, 109. 

See also expense metric external. See external metric internal, 18, 42. See also internal metric selection, 33 MetricType, 98 metricType-Default, 99 metric sum, 15

minimumBroadcastLSPTransmissionInterval,27, 28, 72, 78 minimumBroadcastLSPTransmissionInterval,,102 minimumBroadcastLSPTransmissionInterval-Default, 99 minimumLSPGenerationInterval, 21, 32, 72, 78 minimumLSPGenerationInterval-Default, 99 minimumLSPTransmissionInterval, 24, 28, 32,72, 78

minimumLSPTransmissionInterval-Default, 99 multidestinaion address

AllL1ISs, 45 multidestination address

AllEndSystems, 48 AllIntermediateSystems, 44, 48, 66 AllL1ISs, 30, 44, 48, 49 AllL2ISs, 30, 45, 48

N

NAddress, 98 neighborSNPAAddress, 26 neighbour, 3, 14

ID, 15, 56, 58 neighbourAreas, 40, 45 neighbourID, 37, 45 neighbourSNPAAddress, 25, 41, 45, 83, 88, 90 neighbourSNPAAddress-Default, 99 neighbourSystemID, 21, 22, 23, 40, 45 neighbourSystemIds, 88, 90 neighbourSystemType, 21, 22, 23, 37, 38, 39,40, 44, 45, 50, 52, 88, 90

NeighbourSystemType, 98 neighbour id, 59 neighbour id field, 56 networkEntityTitle, 68, 91, 92, 93 networkEntityTitle;, 91 Network Entity

virtual, 16, 17, 18 network entity title, 4, 5, 10, 11, 16, 18, 22, 37,47, 48, 49, 51, 53, 54, 57, 60, 61, 63, 64, 118,

141

virtual. See virtual network entity title NLPID, 34 nonWrappingCounter, 134 NonWrappingCounter, 139 notification

adjacencyStateChange, 36, 37, 38, 39, 40,43, 45, 46, 47

attemptToExceedMaximumSequenceNumber, 29 authenticationFailure, 25, 26, 38, 44, 45 corruptedLSPDetected, 30 corruptedLSPReceived, 24 iDFieldLengthMismatch, 24, 26, 38, 44

ISO/IEC 10589:1992 (E) 148

initialisationFailure, 38, 39, 40, 45lanLevel1DesignatedIntermediateSystemCh

ange, 46 lanLevel2DesignatedIntermediateSystemChange, 46

lSPL1DatabaseOverload, 31 lSPL2DatabaseOverload, 31 manualAddressDroppedFromArea, 18 partitionVirtualLinkChange, 17 rejectedAdjacency, 46 notificationAreaAddress, 69, 73 notificationAreaAddresses, 69, 81 notificationAreaAddresses-B, 69notificationAreaAddress-B, 69

notificationDesignatedIntermediateSystemChange, 70, 82, 83 notificationDesignatedIntermediateSystemChange-B, 70 notificationIDLength, 69, 73, 81 notificationIDLength-B, 69 NotificationInfo, 139 notificationMaximumAreaAddresses, 69, 73, 81 notificationMaximumAreaAddresses-B, 69 notificationOverloadStateChange, 70, 73, 74 notificationOverloadStateChange-B, 70notificationReceivingAdjacency, 69, 73

notificationReceivingAdjacency-B, 69 notificationSourceId, 69, 73, 74, 81 notificationSourceId-B, 69 notificationSystemId, 69, 73, 75, 81, 84 notificationSystemId-B, 70 notificationVersion, 70, 81 notificationVersion-B, 70 notificationVirtualLinkAddress, 69, 74 notificationVirtualLinkAddress-B, 69notificationVirtualLinkChange, 69, 74

notificationVirtualLinkChange-B, 69 NSAP, 5, 10, 47

O

ObjectIdentifier, 99 OctetString, 99 optionalMetric-Default, 99 OriginatingLSPBufferSize, 99 originatingL1LSPBufferSize, 20, 27, 30, 37, 44,49, 52, 72, 78

originatingL1LSPBufferSize-Default, 99originatingL2LSPBufferSize, 20, 27, 30, 37, 44,

51, 53, 73, 78 originatingL2LSPBufferSize-Default, 99 outgoingCallIVMO, 82, 88 OutputAdjacencies, 99 OverloadStateChange, 99 ownLSPPurge, 71, 98 ownLSPPurges, 73, 78

P

padding, 37 pad field, 37, 44, 49 parition repair, 100 partialSNPInterval, 27, 72, 78 partialSNPInterval-Default, 99 partition, 16 partitionAreaAddresses, 17, 18, 55, 58, 74, 79 partitionDesignatedL2IntermediateSystem, 74,79

partitionVirtualLinkChange, 17, 74, 98 partitionVirtualLinkChanges, 74, 79partition designated level 2 intermediate system,

13 Partition Designated Level 2 Intermediate

System, 16, 17, 19, 58, 125

election, 17 partition designated level 2 IS, 16, 17, 18, 22, 34 Password, 99 passwords-Default, 99 password-Default, 99 path

asymmetric, 15 downstream, 15equal minimum cost, 15

minimum cost, 15 PathMetric, 99 pDUDiscard, 70 PDU Length field, 49, 50, 51, 52, 53, 54, 55, 57,60, 61, 62, 63, 64

PDU type field, 49, 51, 53, 54, 57, 60, 61, 62,63, 64 PICS, 100 poll, 47 pollESHelloRate, 47, 72, 79 pollESHelloRate-Default, 99prefixAddresses, 23

prefix neighbours field, 22, 55, 56, 58, 59 priorityOfNeighbour, 45, 89, 90 priority field, 49, 50, 51, 52 process

decision, 8 forwarding, 10 receive, 10 update, 9 ProtocolMachineId, 139providerEntityNames, 134

ProviderObjects, 139 pseudonode, 3, 14, 20, 21, 22, 25, 47, 54, 55, 56,57, 58, 59, 100, 111, 121, 123, 124, 125. 

See also designated intermediate system pseudonodeID, 14 pseudonode ID field, 55, 57 PSNP, 30 ptPtCircuitID, 15, 82, 83, 88

ISO/IEC 10589:1992 (E)

149 Q

QoS, 18, 19

maintenance field, 13, 14, 33 QoS maintenance field, 18

R

reachableAddress, 23, 43, 95 reachableAddressId, 43, 93, 95, 96 reachableAddressId;, 94 reachableAddress managed object, 93 reachableAddress-linkage-imported, 94 reachableAddress-linkage-management, 95 reachableAddress-P, 93 reachable address, 19, 20, 35, 41, 42, 43, 100 reachable address prefix, 5 Reason, 99 recallCount, 122 recallTimer, 42 ReceiveLSPBufferSize, 20, 24, 35 receive process, 10, 34 redirect cache, 41 rejectedAdjacencies, 81, 88 rejectedAdjacency, 46, 80, 98 remainingHelloTime, 122 remaining lifetime, 25 remaining lifetime field, 23, 27, 28, 29, 31, 54,55, 57, 60, 62, 63, 64

replaceOnlyWhileDisabled-B, 68 reservedName, 70 reservedName-B, 70 reservedName;, 89 reserved field, 48 reserveTimer, 41, 42, 43 reserveTimer-Default, 99 resettingTimer-B, 68 resourceLimiting-B, 68 responseArgs, 139 responseCode, 139 ResponseCode, 139 reverse path cache, 41, 42 route

asymmetric, 15 routeingDomainIDLength, 24, 26, 38, 44 routeing domain, 5 routeing metric, 13

S

sapId, 134 SapId, 139 sap1Address, 134 Sap1Address, 139 sap1P1, 132 sap1 MO, 132 sap2Addresses, 134

Sap2Addresses, 139sap2P1, 132 sap2 MO, 132 segmentation permitted field, 18 SEL, 11, 18, 33, 34, 118, 123, 124 SequenceModulus, 28, 29, 35, 121sequenceNumberSkip, 72, 98

sequenceNumberSkips, 73, 79 sequence number field, 27, 31, 54, 55, 57 shutdown, 137 SNARE, 41sNPAAddress, 43

SNPAAddress, 46, 99 sNPAAddresses, 41, 43, 94, 97 sNPAAddresses-Default, 99 sNPAMask, 36, 94, 96sNPAMask-Default, 99

sNPAPrefix, 36, 94, 96 SNPAPrefix, 99 sNPAPrefix-Default, 99 sourceID, 14, 20SourceId, 99

source address field, 18 source ID field, 23, 40, 45, 49, 50, 51, 53, 55, 57,60, 61, 62, 63, 64

source id field, 40 SPF, 14SRMflag, 21, 23, 24, 25, 26, 27, 28, 29, 30, 31,

121 SSNflag, 24, 25, 26, 27, 28, 29, 30, 121 start LSPID field, 27 start LSP ID field, 27, 60, 61, 62 state adjacency, 52

circuit, 127 subnetwork

broadcast, 5, 6, 14, 35 general topology, 3, 5, 6ISO 8202, 110

point-to-point, 110 subsystemId, 135 SubsystemId, 139 subsystemP1, 133subsystem MO, 133

successResponse, 139 supplyValueOnCreate-B, 68 SVC, 41 systemID, 12, 21, 22, 23, 25, 40, 44, 121systemId, 72, 79

SystemId, 99 T

timer, 135 Timer, 139timer resolution, 66

ISO/IEC 10589:1992 (E) 150

two-way connectivity check, 14, 15type, 81, 88

circuit, 122 U

underlyingConnectionNames, 135update process, 9, 19

userEntityNames, 135user ECO field, 49

V

version, 72, 79Version, 99

versionSkew, 80, 98version field, 49, 51, 53, 54, 57, 60, 61, 62, 63,

64version/protocol ID extension field, 49, 51, 53, 54, 57, 60, 61, 62, 63, 64virtualAdjacency managed object, 91 virtualAdjacency-cLNS, 91virtualAdjacency-cLNS-B, 91 virtualAdjacency-P, 91VirtualLinkChange, 99 virtual adjacency, 16. See also adjacency, virtualvirtual flag, 16, 17, 22, 56, 58 virtual link, 16. See also link, virtualVirtual Network Entity. 

See network entity,virtual

virtual network entity title, 16 W

waitingTime, 31, 72, 79waitingTime-Default, 99

waiting state, 21, 26, 31 Z

ZeroAgeLifetime, 29, 32, 35

ISO/IEC 10589:1992 (E)

UDC 681.3:621.39 Descriptors: data processing, information interchange, network interconnection, open systems interconnection, telecommuni-cations, data transmission, network layer, communication procedures, protocols.

Price based on 151 pages