% -*- texinfo -*- vim: ft=texinfo
% vim: ft=texinfo nosmartindent nocindent noautoindent tw=100
% =========================================================================
%
% @(#) $Id$
%
% =========================================================================
%
% Copyright (c) 2008-2009  Monavacon Limited <http://www.monavacon.com/>
% Copyright (c) 2001-2008  OpenSS7 Corporation <http://www.openss7.com/>
% Copyright (c) 1997-2001  Brian F. G. Bidulock <bidulock@openss7.org>
%
% All Rights Reserved.
%
% Permission is granted to copy, distribute and/or modify this document
% under the terms of the GNU Free Documentation License, Version 1.3 or
% any later version published by the Free Software Foundation; with no
% Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
% copy of the license is included in the section entitled "GNU Free
% Documentation License".
%
% Permission to use, copy and distribute this documentation without
% modification, for any purpose and without fee or royalty is hereby
% granted, provided that both the above copyright notice and this
% permission notice appears in all copies and that the name of OpenSS7
% Corporation not be used in advertising or publicity pertaining to
% distribution of this documentation or its contents without specific,
% written prior permission.  OpenSS7 Corporation makes no representation
% about the suitability of this documentation for any purpose.  It is
% provided "as is" without express or implied warranty.
% 
% Permission is granted to process this file through Tex and print the
% results, provided the printed document carries copying permission
% notice identical to this one except for the removal of this paragraph
% (this paragraph not being relevant to the printed manual).
% 
% OPENSS7 CORPORATION DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS
% DOCUMENTATION INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY,
% FITNESS FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT, OR TITLE; THAT THE
% CONTENTS OF THE DOCUMENT ARE SUITABLE FOR ANY PURPOSE, OR THAT THE
% IMPLEMENTATION OF SUCH CONTENTS WILL NOT INFRINGE ON ANY THIRD PARTY
% PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.  IN NO EVENT SHALL
% OPENSS7 CORPORATION BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR
% CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF
% USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
% OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH ANY USE OF
% THIS DOCUMENT OR THE PERFORMANCE OR IMPLEMENTATION OF THE CONTENTS
% THEREOF.
% 
% Since the Linux kernel and libraries are constantly changing, this
% manual page may be incorrect or out-of-date.  The author(s) assume no
% responsibility for errors or omissions, or for damages resulting from
% the use of the information contained herein.  The author(s) may not
% have taken the same level of care in the production of this manual,
% which is licensed free of charge, as they might when working
% professionally.
% 
% Formatted or processed versions of this manual, if unaccompanied by
% the source, must acknowledge the copyright and authors of this work.
%
% -------------------------------------------------------------------------
%
% U.S. GOVERNMENT RESTRICTED RIGHTS.  If you are licensing this Software
% on behalf of the U.S. Government ("Government"), the following
% provisions apply to you.  If the Software is supplied by the Department
% of Defense ("DoD"), it is classified as "Commercial Computer Software"
% under paragraph 252.227-7014 of the DoD Supplement to the Federal
% Acquisition Regulations ("DFARS") (or any successor regulations) and the
% Government is acquiring only the license rights granted herein (the
% license rights customarily provided to non-Government users).  If the
% Software is supplied to any unit or agency of the Government other than
% DoD, it is classified as "Restricted Computer Software" and the
% Government's rights in the Software are defined in paragraph 52.227-19
% of the Federal Acquisition Regulations ("FAR") (or any successor
% regulations) or, in the cases of NASA, in paragraph 18.52.227-86 of the
% NASA Supplement to the FAR (or any successor regulations).
%
% =========================================================================
% 
% Commercial licensing and support of this software is available from
% OpenSS7 Corporation at a fee.  See http://www.openss7.com/
% 
% =========================================================================
%
% Last Modified $Date$ by $Author$
%
% =========================================================================

\input texinfo
@setfilename sdli.info
@include ../../../scripts/texi/args.texi
@set MANUAL_TITLE Signalling Data Link Interface (SDLI)
@set MANUAL_TYPE Specification
@settitle @value{MANUAL_TITLE}

@dircategory OpenSS7
@direntry
* SDLI: (sdli).			Signalling Data Link Interface
@end direntry

@include ../../../scripts/texi/args.texi
@set MANUAL_TITLE Signalling Data Link Interface (SDLI)
@set MANUAL_TYPE Specification

@comment The following copyright information goes at the head of each .info file.
@ifinfo
This file provides the @value{MANUAL_TYPE} for @value{MANUAL_TITLE}.

This is Edition @value{PACKAGE_RELEASE}@value{PACKAGE_PATCHLEVEL}, last updated @value{PACKAGE_DATE}, of the
@cite{@value{MANUAL_TITLE} @value{MANUAL_TYPE}}, for Version @value{PACKAGE_VERSION}
Release @value{PACKAGE_RELEASE}@value{PACKAGE_PATCHLEVEL}.

Copyright @copyright{} 2008-2009  @uref{http://www.monavacon.com/, Monavacon Limited} @*
Copyright @copyright{} 2001-2008  @uref{http://www.openss7.com/, OpenSS7 Corporation} @*
Copyright @copyright{} 1997-2001  @email{bidulock@@openss7.org, Brian F. G. Bidulock} @*

All Rights Reserved.

Permission is granted to copy, distribute and/or modify this document under the terms of the GNU
Free Documentation License, Version 1.3 or any later version published by the Free Software
Foundation; with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A copy of
the license is included in the section entitled @ref{GNU Free Documentation License}.

Permission to use, copy and distribute this documentation without modification, for any purpose and
without fee or royalty is hereby granted, provided that both the above copyright notice and this
permission notice appears in all copies and that the name of @cite{OpenSS7 Corporation} not be used in
advertising or publicity pertaining to distribution of this documentation or its contents without
specific, written prior permission.  @cite{OpenSS7 Corporation} makes no representation about the
suitability of this documentation for any purpose.  It is provided ``as is'' without express or
implied warranty.

@ignore
Permission is granted to process this file through Tex and print the results, provided the printed
document carries copying permission notice identical to this one except for the removal of this
paragraph (this paragraph not being relevant to the printed manual).

@end ignore
OPENSS7 CORPORATION DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS DOCUMENTATION INCLUDING ALL IMPLIED
WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT, OR TITLE; THAT
THE CONTENTS OF THE DOCUMENT ARE SUITABLE FOR ANY PURPOSE, OR THAT THE IMPLEMENTATION OF SUCH
CONTENTS WILL NOT INFRINGE ON ANY THIRD PARTY PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.  IN
NO EVENT SHALL OPENSS7 CORPORATION BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL
DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION
OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH ANY USE OF
THIS DOCUMENT OR THE PERFORMANCE OR IMPLEMENTATION OF THE CONTENTS THEREOF.
@end ifinfo

@include ../../../scripts/texi/args.texi
@set MANUAL_TITLE Signalling Data Link Interface (SDLI)
@set MANUAL_TYPE Specification

@set PART Signalling Data Link
@set LONG Signalling Data Link
@set SHORT SDL
@set INTERFACE SDLI

@shorttitlepage @value{MANUAL_TITLE} @value{MANUAL_TYPE}
@titlepage
@titlefont{@value{MANUAL_TITLE}}
@sp 0.5
@title @value{MANUAL_TYPE}
@subtitle Version @value{PACKAGE_VERSION} Edition @value{PACKAGE_RELEASE}@value{PACKAGE_PATCHLEVEL}
@subtitle Updated @value{PACKAGE_DATE}
@sp 0.2
@subtitle Distributed with Package @value{PACKAGE}-@value{VERSION}
@sp 2
@subtitle Copyright @copyright{} 2008-2009  Monavacon Limited
@subtitle All Rights Reserved.
@sp 4
@quotation
@subheading Abstract
This document is a @value{MANUAL_TYPE} containing technical details concerning the implementation of
the @value{MANUAL_TITLE} for OpenSS7.  It contains recommendations on software architecture as well
as platform and system applicability of the @value{MANUAL_TITLE}.  It provides abstraction of the
@value{LONG} (@value{SHORT}) interface to these components as well as providing a basis for
@value{LONG} control for other @value{LONG} protocols.
@end quotation
@author Brian Bidulock <@email{bidulock@@openss7.org}> for
@sp 0.2
@author The OpenSS7 Project <@uref{http://www.openss7.org/}>

@page
@vskip 0pt plus 1filll

@subsubheading Published by:

@sp 1

@noindent
@uref{http://www.openss7.com/,OpenSS7 Corporation} @*
1469 Jefferys Crescent @*
Edmonton, Alberta  T6L 6T1 @*
Canada @*

@noindent
Copyright @copyright{} 2008-2009  @uref{http://www.monavacon.com/, Monavacon Limited} @*
Copyright @copyright{} 2001-2008  @uref{http://www.openss7.com/, OpenSS7 Corporation} @*
Copyright @copyright{} 1997-2000  @email{bidulock@@openss7.org, Brian F. G. Bidulock} @*

@noindent
All Rights Reserved.

@sp 1

@noindent
Unauthorized distribution or duplication is prohibited.

@sp 1

@noindent
Permission is granted to copy, distribute and/or modify this document under the terms of the GNU
Free Documentation License, Version 1.3 or any later version published by the Free Software
Foundation; with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A copy of
the license is included in the section entitled @ref{GNU Free Documentation License}.

@noindent
Permission to use, copy and distribute this documentation without modification, for any purpose and
without fee or royalty is hereby granted, provided that both the above copyright notice and this
permission notice appears in all copies and that the name of @cite{OpenSS7 Corporation} not be used in
advertising or publicity pertaining to distribution of this documentation or its contents without
specific, written prior permission.  @cite{OpenSS7 Corporation} makes no representation about the
suitability of this documentation for any purpose.  It is provided ``as is'' without express or
implied warranty.

@subsubheading Notice:

@noindent
@strong{OPENSS7 CORPORATION DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS DOCUMENTATION INCLUDING ALL
IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, NON-INFRINGEMENT, OR TITLE;
THAT THE CONTENTS OF THE DOCUMENT ARE SUITABLE FOR ANY PURPOSE, OR THAT THE IMPLEMENTATION OF SUCH
CONTENTS WILL NOT INFRINGE ON ANY THIRD PARTY PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.  IN
NO EVENT SHALL OPENSS7 CORPORATION BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL
DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION
OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH ANY USE OF
THIS DOCUMENT OR THE PERFORMANCE OR IMPLEMENTATION OF THE CONTENTS THEREOF.}

@vskip 0pt
@end titlepage
@iftex
@headings off
@everyheading @thistitle @| @thisfile @| @thischaptername
@evenheading @thischapter @| @| @thisfile
@oddheading @thistitle @| @| @thischaptername
@everyfooting Version @value{PACKAGE_VERSION} Rel. @value{PACKAGE_RELEASE}@value{PACKAGE_PATCHLEVEL} @| @value{PACKAGE_DATE} @| @thispage
@evenfooting @thispage @| @| Version @value{PACKAGE_VERSION} Rel. @value{PACKAGE_RELEASE}@value{PACKAGE_PATCHLEVEL}
@oddfooting @value{PACKAGE_DATE} @| @| @thispage
@end iftex
@page

@c Define an index of primitives
@defcodeindex pr
@c Define an index of primitive values
@defcodeindex pv
@c Define an index of primitive error values
@defcodeindex pe
@c Define an index of protocol states
@defcodeindex st
@c Define an index of input-output controls
@defcodeindex ct
@c Define an index of manual pages.
@defcodeindex mp
@c Define an index of MIB objects.
@defcodeindex mo

@c frags out automake
@c @ifnottex
@c @c concatenate indices for text, html and info
@syncodeindex pr cp
@syncodeindex pv cp
@syncodeindex pe cp
@syncodeindex st cp
@syncodeindex mp cp
@syncodeindex tp cp
@syncodeindex vr cp
@syncodeindex ct cp
@syncodeindex mo cp
@c @end ifnottex

@include texi/macros.texi
@include texi/versions.texi

@iftex

@macro prim{name}
@code{\name\}@prindex \name\
@end macro

@macro pval{name}
@code{\name\}@pvindex \name\
@end macro

@macro perr{name}
@code{[\name\]}@peindex \name\
@end macro

@macro psta{name}
@code{\name\}@stindex \name\
@end macro

@macro parm{name}
@var{\name\}@vrindex \name\
@end macro

@macro pioc{name}
@code{\name\}@ctindex \name\
@end macro

@macro mobj{name}
@code{\name\}@moindex \name\
@end macro

@end iftex

@ifnottex
@c skip deep indexing for plain text, html and info
@c it messes up column with maximums (texinfo bug)

@macro prim{name}
@code{\name\}
@end macro

@macro pval{name}
@code{\name\}
@end macro

@macro perr{name}
@code{[\name\]}
@end macro

@macro psta{name}
@code{\name\}
@end macro

@macro parm{name}
@var{\name\}
@end macro

@macro pioc{name}
@code{\name\}
@end macro

@macro mobj{name}
@code{\name\}
@end macro

@end ifnottex

@ifnottex
@node Top
@top @value{MANUAL_TITLE} @value{MANUAL_TYPE}
@unnumbered About This Manual
This is Edition @value{PACKAGE_RELEASE}@value{PACKAGE_PATCHLEVEL}, last updated @value{PACKAGE_DATE}, of
@cite{The @value{MANUAL_TITLE} @value{MANUAL_TYPE}}, for Version
@value{PACKAGE_VERSION} release @value{PACKAGE_RELEASE}@value{PACKAGE_PATCHLEVEL} of the
@value{PACKAGE_TITLE} package.
@end ifnottex

@menu
* Preface::
* Introduction::
* The Signalling Data Link Layer::
* SDLI Services Definition::
* SDLI Primitives::
* Diagnostics Requirements::
@c * Addendum for ITU-T Q.703 Conformance::
@c * Addendum for ANSI T1.111.3 Conformance::
@c * Addendum for ETSI Conformance::
@c * Mapping of SDLI Primitives to ITU-T Q.703::
@c * Mapping of SDLI Primitives to ANSI T1.111.3::
@c * State/Event Tables::
@c * Primitive Precedence Tables::
* SDLI Input-Output Controls::
* SDLI Management Information Base::
* SDLI Header Files::
* SDLI Drivers and Modules::
* SDLI Applications::
* SDLI Utilities::
* SDLI File Formats::
* Glossary::
* Acronyms::
* References::
* Licenses::
@c @iftex
@c * Indices::
@c @end iftex
@c @ifnottex
* Index::
@c @end ifnottex
@end menu

@iftex
@c insert list of figures and tables for printed manuals
@page
@heading List of Figures
@listoffloats Figure
@page
@heading List of Tables
@listoffloats Table
@end iftex

@node Preface
@unnumbered Preface

@section Notice

Software in this document and related software is released under the AGPL (@pxref{GNU Affero General
Public License}).  Please note, however, that there are different licensing terms for some of the
manual package and some of the documentation.  Consult permission notices contained in the
documentation of those components for more information.

This document is released under the FDL (@pxref{GNU Free Documentation License}) with no invariant
sections, no front-cover texts and no back-cover texts.

@section Abstract

This document is a @value{MANUAL_TYPE} containing technical details concerning the implementation of
the @value{MANUAL_TITLE} for OpenSS7.  It contains recommendations on software architecture as well
as platform and system applicability of the @value{MANUAL_TITLE}.

@noindent
This document specifies a @value{MANUAL_TITLE} Specification in support of the OpenSS7 @value{LONG}
(@value{SHORT}) protocol stacks.  It provides abstraction of the @value{PART} interface to these
components as well as providing a basis for @value{PART} control for other @value{PART} protocols.

@subsection Purpose
@cpindex STREAMS

The purpose of this document is to provide technical documentation of the @value{MANUAL_TITLE}.
This document is intended to be included with the OpenSS7 @cite{STREAMS} software package released
by @cite{OpenSS7 Corporation}.  It is intended to assist software developers, maintainers and users
of the @value{MANUAL_TITLE} with understanding the software architecture and technical interfaces
that are made available in the software package.

@subsection Intent

It is the intent of this document that it act as the primary source of information concerning the
@value{MANUAL_TITLE}.  This document is intended to provide information for writers of OpenSS7
@value{MANUAL_TITLE} applications as well as writers of OpenSS7 @value{MANUAL_TITLE} Users.

@subsection Audience

The audience for this document is software developers, maintainers and users and integrators of the
@value{MANUAL_TITLE}.  The target audience is developers and users of the OpenSS7 SS7 stack.

@section Revision History

Take care that you are working with a current version of this documentation: you will not be
notified of updates.  To ensure that you are working with a current version, check the
@uref{http://www.openss7.org/,OpenSS7 Project} website for a current version.

A current version of this specification is normally distributed with the @cite{@value{PACKAGE_TITLE}}
package, @file{@value{PACKAGE}-@value{VERSION}}.@footnote{@url{http://www.openss7.org/repos/tarballs/@value{PACKAGE}-@value{VERSION}.tar.bz2}}

@subsection Version Control

@noindent
Although the author has attempted to ensure that the information in this document is complete and
correct, neither the Author nor OpenSS7 Corporation will take any responsibility in it.
@cite{OpenSS7 Corporation} is making this documentation available as a reference point for the
industry.  While @cite{OpenSS7 Corporation} believes that these interfaces are well defined in this
release of the document, minor changes may be made prior to products conforming to the interfaces
being made available.  @cite{OpenSS7 Corporation} reserves the right to revise this software and
documentation for any reason, including but not limited to, conformity with standards promulgated by
various agencies, utilization of advances in the state of the technical arts, or the reflection of
changes in the design of any techniques, or procedures embodied, described, or referred to herein.
@cite{OpenSS7 Corporation} is under no obligation to provide any feature listed herein.

@smallexample
@verbatim
$Log$
Revision 0.9.2.13  2009-05-01 04:50:32  brian
- update documentation for release

Revision 0.9.2.12  2009-04-30 06:07:38  brian
- more documentation updates for release

Revision 0.9.2.11  2009-04-29 18:05:20  brian
- updated documentation for release

Revision 0.9.2.10  2008-12-06 09:03:37  brian
- corrections and updates

Revision 0.9.2.9  2008-11-26 12:01:34  brian
- updated to FDL 1.3

Revision 0.9.2.8  2008-09-20 11:04:30  brian
- added package patchlevel

Revision 0.9.2.7  2008-08-03 06:03:31  brian
- protected agains texinfo commands in log entries

Revision 0.9.2.6  2008-08-03 05:05:16  brian
- conditional @syncodeindex frags out automake, fails distcheck

Revision 0.9.2.5  2008-07-11 09:36:12  brian
- updated documentation

Revision 0.9.2.4  2008-04-29 07:10:39  brian
- updating headers for release

Revision 0.9.2.3  2007/08/14 12:17:01  brian
- GPLv3 header updates

Revision 0.9.2.2  2007/07/09 09:23:04  brian
- working up SDLI specification

Revision 0.9.2.1  2007/07/04 08:24:57  brian
- added new files
@end verbatim
@end smallexample

@section ISO 9000 Compliance

Only the @TeX{}, texinfo, or roff source for this maual is controlled.  An opaque (printed,
postscript or portable document format) version of this manual is a @strong{UNCONTROLLED VERSION}.

@subsection Disclaimer

@noindent
@strong{@cite{OpenSS7 Corporation} disclaims all warranties with regard to this documentation
including all implied warranties of merchantability, fitness for a particular purpose,
non-infrincement, or title; that the contents of the manual are suitable for any purpose, or that
the implementation of such contents will not infringe on any third party patents, copyrights,
trademarks or other rights.  In no event shall @cite{OpenSS7 Corporation} be liable for any direct,
indirect, special or consequential damages or any damages whatsoever resulting from loss of use,
data or profits, whether in an action or contract, negligence or other tortious action, arising out
of or in connection with any use of this documentation or the performance or implementation of the
contents thereof.}

@subsection U.S. Government Restricted Rights

If you are licensing this Software on behalf of the U.S. Government ("Government"), the following
provisions apply to you.  If the Software is supplied by the Department of Defense ("DoD"), it is
classified as "Commercial Computer Software" under paragraph 252.227-7014 of the DoD Supplement to
the Federal Aquisition Regulations ("DFARS") (or any successor regulations) and the Government is
acquiring only the license rights granded herein (the license rights customarily provided to
non-Government users).  If the Software is supplied to any unit or agency of the Government other
than DoD, it is classified as "Restricted Computer Software" and the Government's rights in the
Software are defined in paragraph 52.227-19 of the Federal Acquisition Regulations ("FAR") (or any
successor regulations) or, in the cases of NASA, in paragraph 18.52.227-86 of the NASA Supplerment
to the FAR (or any successor regulations).

@section Acknowledgements

@url{http://www.openss7.org/,The OpenSS7 Project} was funded in part by:

@itemize @bullet
@item @url{http://www.monavacon.com/,Monavacon Limited}
@item @url{http://www.openss7.com/,OpenSS7 Corporation}
@end itemize

Thanks to the subscribers to and sponsors of @url{http://www.openss7.org/, The OpenSS7 Project}.
Without their support, open software like this would not be possible.

As with most open source projects, this project would not have been possible without the valiant
efforts and productive software of the @url{http://www.fsf.org/,Free Software Foundation}, the
@url{http://www.kernel.org/,Linux Kernel Community}, and the open source software movement at large.

@node Introduction
@chapter Introduction
@cpindex STREAMS

This document specifies a @cite{STREAMS}-based kernel-level instantiation of the
@value{MANUAL_TITLE} definition.  The @value{MANUAL_TITLE} enables the user of a signalling data
link service to access and use any of a variety of conforming signalling data link providers without
specific knowledge of the provider's protocol.  The service interface is designed to support any
network signalling data link protocol and user signalling data link protocol.  This interface only
specifies access to signalling data link service providers, and does not address issues concerning
signalling data link management, protocol performance, and performance analysis tools.

This specification assumes that the reader is familiar with ITU-T state machines and signalling data
link interfaces (e.g.  Q.703, Q.2210), and @cite{STREAMS}.

@section Related Documentation

@itemize ---
@item @strong{ITU-T Recommendation Q.703 (White Book)}
@item @strong{ITU-T Recommendation Q.2210 (White Book)}
@item @strong{ANSI T1.111.3/2002}
@item @strong{System V Interface Definition, Issue 2 - Volume 3}
@end itemize

@subsection Role

This document specifies an interface that supports the services provided by the @dfn{Signalling
System No. 7 (SS7)} for ITU-T, ANSI and ETSI applications as described in ITU-T Recommendation
Q.703, ITU-T Recommendation Q.2210, ANSI T1.111.3, ETSI ETS 300 008-1.  These specifications are
targeted for use by developers and testers of protocol modules that require signalling data link
service.

@section Definitions, Acronyms, Abbreviations
@cpindex STREAMS

@table @dfn
@item LM
Local Management.
@item LMS
Local Management Service.
@item LMS User
A user of Local Management Services.
@item LMS Provider
A provider of Local Management Services.
@item Originating SDL User
A SDL-User that initiates a Signalling Data Link.
@item Destination SDL User
A SDL-User with whom an originating SDL user wishes to establish a Signalling Data Link.
@item ISO
International Organization for Standardization
@item SDL User
Kernel level protocol or user level application that is accessing the services of the Signalling
Data Link sub-layer.
@item SDL Provider
Signalling Data Link sub-layer entity/entities that provide/s the services of the Signalling Data
Link interface.
@item SDLI
Signalling Data Link Interface
@item TIDU
Signalling Data Link Interface Data Unit
@item TSDU
Signalling Data Link Service Data Unit
@item OSI
Open Systems Interconnection
@item QOS
Quality of Service
@item STREAMS
A communication services development facility first available with UNIX System V Release 3.
@end table

@node The Signalling Data Link Layer
@chapter The Signalling Data Link Layer

@menu
* Model of the SDLI::
* SDLI Services::
* Purpose of the SDLI::
@end menu

The Signalling Data Link Layer provides the means to manage the association of SDL-Users into
connections.  It is responsible for the routing and management of data to and from signalling data
link connections between SDL-user entities.

@node Model of the SDLI
@section Model of the SDLI
@cpindex STREAMS

The SDLI defines the services provided by the signalling data link layer to the signalling data link
user at the boundary between the signalling data link provider and the signalling data link user
entity.  The interface consists of a set of primitives defined as @cite{STREAMS} messages that
provide access to the signalling data link layer services, and are transferred between the SDLS user
entity and the SDLS provider.  These primitives are of two types; ones that originate from the SDLS
user, and others that originate from the SDLS provider.  The primitives that originate from the SDLS
user make requests to the SDLS provider, or respond to an indication of an event of the SDLS
provider.  The primitives that originate from the SDLS provider are either confirmations of a
request or are indications to the SDLS user that an event has occurred.  @figref{1} shows the model
of the SDLI.

@figuresized{sdli01,1,Model of the SDLI,3.0in}

The SDLI allows the SDLS provider to be configured with any signalling data link layer user (such as
a signalling data terminal application) that also conforms to the SDLI.  A signalling data link
layer user can also be a user program that conforms to the SDLI and accesses the SDLS provider via
@command{@b{putmsg}(2s)} and @command{@b{getmsg}(2s)} system calls.  The typical configuration,
however, is to place a signalling data terminal module above the signalling data link layer.

@node SDLI Services
@section Services

The features of the SDLI are defined in terms of the services provided by the SDLS provider, and the
individual primitives that may flow between the SDLS user and the SDLS provider.

The SDLI Services are broken into two groups: local management services and protocol services.
Local management services are responsible for the local management of Streams, assignment of Streams
to physical points of attachment, enabling and disabling of Streams, management of options
associated with a Stream, and general acknowledgement and event reporting for the Stream.  Protocol
services consist of connecting a Stream to a medium, exchanging bits with the medium, and
disconnecting the Stream from the medium.

@subsection Local Management

Local management services are listed in @tabref{1}.

@tabfig{lmit01,1,Local Management Services}

The local management services interface is described in @ref{Local Management Services}, and the
primitives are detailed in @ref{Local Management Service Primitives}.  The local management services
interface is defined by the @file{ss7/lmi.h} header file (@pxref{LMI Header File Listing}).

@subsection Protocol

Protocol services are listed in @tabref{2}.

@tabfig{sdlit02,2,Protocol Services}

The protocol services interface is described in @ref{Protocol Services}, and the primitives are
detailed in @ref{Protocol Service Primitives}.  The protocol services interface is defined by the
@file{ss7/sdli.h} header file (@pxref{SDLI Header File Listing}).

@node Purpose of the SDLI
@section Purpose of the SDLI

The SDLI is typically implemented as a device driver controlling a TDM (Time Division Multiplexing)
device that provides access to channels.  The purpose behind exposing this low level interface is
that almost all communications channel devices can be placed into a @emph{raw} mode, where a bit
stream can be exchanged between the driver and the medium.  The SDLI provides an interface that, once
implemented as a driver for a new device, can provide complete and verified SS7 signalling link
capabilities by pushing generic SDT (Signalling Data Terminal) and SL (Signalling Link) modules over
an open device Stream.

This allows SDT and SL modules to be verified independently for correct operation and then simply
used for all manner of new device drivers that can implement the SDLI interface.

@node SDLI Services Definition
@chapter Services Definition

@menu
* Local Management Services::
* Protocol Services::
@end menu

@node Local Management Services
@section Local Management Services

@menu
* Acknowledgement Service::
* Information Reporting Service::
* Physical Point of Attachment Service::
* Initialization Service::
* Options Management Service::
* Error Reporting Service::
* Statistics Reporting Service::
* Event Reporting Service::
@end menu

@node Acknowledgement Service
@subsection Acknowledgement Service

The acknowledgement service provides the LMS user with the ability to receive positive and negative
acknowledgements regarding the successful or unsuccessful completion of services.

@itemize @bullet

@item @b{@prim{LMI_OK_ACK}}:
The @prim{LMI_OK_ACK} message is used by the LMS provider to indicate successful receipt and
completion of a service primitive request that requires positive acknowledgement.

@item @b{@prim{LMI_ERROR_ACK}}:
The @prim{LMI_ERROR_ACK} message is used by the LMS provider to indicate successful receipt and
failure to complete a service primitive request that requires negative acknowledgement.

@end itemize

A successful invocation of the acknowledgement service is illustrated in @figref{15}.

@figuresized{lmi15,15,Message Flow: Successful Acknowledgement Service,4.0in}

As illustrated in @figref{15}, the
service primitives for which a positive acknowledgement may be returned are the
@prim{LMI_ATTACH_REQ} and @prim{LMI_DETACH_REQ}.

An unsuccessful invocation of the acknowledgement service is illustrated in @figref{16}.

@figuresized{lmi16,16,Message Flow: Unsuccessful Acknowledgement Service,4.0in}

As illustrated in @figref{16}, the service primitives for which a negative acknowledgement may be
returned are the @prim{LMI_INFO_REQ}, @prim{LMI_ATTACH_REQ}, @prim{LMI_DETACH_REQ},
@prim{LMI_ENABLE_REQ}, @prim{LMI_DISABLE_REQ} and @prim{LMI_OPTMGMT_REQ} messages.

@node Information Reporting Service
@subsection Information Reporting Service

The information reporting service provides the LMS user with the ability to elicit information from
the LMS provider.

@itemize @bullet

@item @b{@prim{LMI_INFO_REQ}}:
The @prim{LMI_INFO_REQ} message is used by the LMS user to request information about the LMS
provider.

@item @b{@prim{LMI_INFO_ACK}}:
The @prim{LMI_INFO_ACK} message is issued by the LMS provider to provide requested information about
the LMS provider.

@end itemize

A successful invocation of the information reporting service is illustrated in @figref{2}.

@figuresized{lmi02,2,Message Flow: Successful Information Reporting Service,4.0in}

@node Physical Point of Attachment Service
@subsection Physical Point of Attachment Service

The local management interface provides the LMS user with the ability to associate a Stream to a
physical point of appearance (@dfn{PPA}) or to disassociate a Stream from a PPA.  The local
management interface provides for two styles of LMS provider:

@subsubheading Style 1 LMS Provider

A @dfn{Style 1} LMS provider is a provider that associates a Stream with a PPA at the time of the
first @manref{open(2)} call for the device, and disassociates a Stream from a PPA at the time of the
last @manref{close(2)} call for the device.

Physical points of attachment (PPA) are assigned to major and minor device number combinations.
When the major and minor device number combination is opened, the opened Stream is automatically
associated with the PPA for the major and minor device number combination.  The last close of the
device disassociates the PPA from the Stream.

Freshly opened @dfn{Style 1} LMS provider Streams start life in the @psta{LMI_DISABLED} state.

This approach is suitable for LMS providers implemented as real or pseudo-device drivers and is
applicable when the number of minor devices is small and static.

@subsubheading Style 2 LMS Provider

A @dfn{Style 2} LMS provider is a provider that associates a Stream with a PPA at the time that the
LMS user issues the @prim{LMI_ATTACH_REQ} message.  Freshly opened Streams are not associated with
any PPA.  The @dfn{Style 2} LMS provider Stream is disassociated from a PPA when the Stream is
closed or when the LMS user issues the @prim{LMI_DETACH_REQ} message.

Freshly opened @dfn{Style 2} LMS provider Streams start life in the @psta{LMI_UNATTACHED} state.

This approach is suitable for LMS providers implemented as clone real or pseudo-device drivers  and
is applicable when the number of minor devices is large or dynamic.

@menu
* PPA Attachment Service::
* PPA Detachment Service::
@end menu

@node PPA Attachment Service
@subsubsection PPA Attachment Service

The PPA attachment service provides the LMS user with the ability to attach a @dfn{Style 2} LMS
provider Stream to a physical point of appearance (PPA).

@itemize @bullet

@item @b{@prim{LMI_ATTACH_REQ}}:
The @prim{LMI_ATTACH_REQ} message is issued by the LMS user to request that a @dfn{Style 2} LMS
provider Stream be attached to a specified physical point of appearance (PPA).

@item @b{@prim{LMI_OK_ACK}}:
Upon successful receipt and processing of the @prim{LMI_ATTACH_REQ} message, the LMS provider
acknowledges the success of the service completion with a @prim{LMI_OK_ACK} message.

@item @b{@prim{LMI_ERROR_ACK}}:
Upon successful receipt but failure to process the @prim{LMI_ATTACH_REQ} message, the LMS provider
acknowledges the failure of the service completion with a @prim{LMI_ERROR_ACK} message.

@end itemize

A successful invocation of the attachment service is illustrated in @figref{3}.

@figuresized{lmi03,3,Message Flow: Successful Attachment Service,4.0in}


@node PPA Detachment Service
@subsubsection PPA Detachment Service

The PPA detachment service provides the LMS user with the ability to detach a @dfn{Style 2} LMS
provider Stream from a physical point of attachment (PPA).

@itemize @bullet

@item @b{@prim{LMI_DETACH_REQ}}:
The @prim{LMI_DETACH_REQ} message is issued by the LMS user to request that a @dfn{Style 2} LMS
provider Stream be detached from the attached physical point of appearance (PPA).

@item @b{@prim{LMI_OK_ACK}}:
Upon successful receipt and processing of the @prim{LMI_DETACH_REQ} message, the LMS provider
acknowledges the success of the service completion with a @prim{LMI_OK_ACK} message.

@item @b{@prim{LMI_ERROR_ACK}}:
Upon successful receipt but failure to process the @prim{LMI_DETACH_REQ} message, the LMS provider
acknowledges the failure of the service completion with a @prim{LMI_ERROR_ACK} message.

@end itemize

A successful invocation of the detachment service is illustrated in @figref{4}.

@figuresized{lmi04,4,Message Flow: Successful Detachment Service,4.0in}

@node Initialization Service
@subsection Initialization Service

The initialization service provides the LMS user with the abilty to enable and disable the Stream
for the associated PPA.

@menu
* Interface Enable Service::
* Interface Disable Service::
@end menu

@node Interface Enable Service
@subsubsection Interface Enable Service

The interface enable service provides the LMS user with the ability to enable an LMS provider
Stream that is associated with a PPA.  Enabling the interface permits the LMS user to exchange
protocol service interface messages with the LMS provider.

@itemize @bullet

@item @b{@prim{LMI_ENABLE_REQ}}:
The @prim{LMI_ENABLE_REQ} message is issued by the LMS user to request that the protocol service
interface be enabled.

@item @b{@prim{LMI_ENABLE_CON}}:
Upon successful enabling of the protocol service interface, the LMS provider acknowledges successful
completion of the service by issuing a @prim{LMI_ENABLE_CON} message to the LMS user.

@item @b{@prim{LMI_ERRORK_ACK}}:
Upon unsuccessful enabling of the protocol service interface, the LMS provider acknowledges the
failure to complete the service by issuing an @prim{LMI_ERROR_ACK} message to the LMS user.

@end itemize

A successful invocation of the enable service is illustrated in @figref{5}.

@figuresized{lmi05,5,Message Flow: Successful Enable Service,4.0in}

@node Interface Disable Service
@subsubsection Interface Disable Service

The interface disable service provides the LMS user with the ability to disable an LMS provider
Stream that is associated with a PPA.  Disabling the interface withdraws the LMS user's ability to
exchange protocol service interface messages with the LMS provider.

@itemize @bullet

@item @b{@prim{LMI_DISABLE_REQ}}:
The @prim{LMI_DISABLE_REQ} message is issued by the LMS user to request that the protocol service
interface be disabled.

@item @b{@prim{LMI_DISABLE_CON}}:
Upon successful disabling of the protocol service interface, the LMS provider acknowledges
successful completion of the service by issuing a @prim{LMI_DISABLE_CON} message to the LMS user.

@item @b{@prim{LMI_ERRORK_ACK}}:
Upon unsuccessful disabling of the protocol service interface, the LMS provider acknowledges the
failure to complete the service by issuing an @prim{LMI_ERROR_ACK} message to the LMS user.

@end itemize

A successful invocation of the disable service is illustrated in @figref{6}.

@figuresized{lmi06,6,Message Flow: Successful Disable Service,4.0in}

@node Options Management Service
@subsection Options Management Service

The options management service provides the LMS user with the ability to control and affect various
generic and provider-specific options associated with the LMS provider.

@itemize @bullet

@item @b{@prim{LMI_OPTMGMT_REQ}}:
The LMS user issues a @prim{LMI_OPTMGMT_REQ} message when it wishes to interrogate or affect the
setting of various generic or provider-specific options associated with the LMS provider for the
Stream upon which the message is issued.

@item @b{@prim{LMI_OPTMGMT_ACK}}:
Upon successful receipt of the @prim{LMI_OPTMGMT_REQ} message, and successful options processing, the
LMS provider acknowledges the successful completion of the service with an @prim{LMI_OPTMGMT_ACK}
message.

@item @b{@prim{LMI_ERROR_ACK}}:
Upon successful receipt of the @prim{LMI_OPTMGMT_REQ} message, and unsuccessful options processing, the
LMS provider acknowledges the failure to complete the service by issuing an @prim{LMI_ERROR_ACK}
message to the LMS user.

@end itemize

A successful invocation of the options management service is illustrated in @figref{7}.

@figuresized{lmi07,7,Message Flow: Successful Options Management Service,4.0in}

@node Error Reporting Service
@subsection Error Reporting Service

The error reporting service provides the LMS provider with the ability to indicate asynchronous
errors to the LMS user.

@itemize @bullet

@item @b{@prim{LMI_ERROR_IND}}:
The LMS provider issues the @prim{LMI_ERROR_IND} message to the LMS user when it needs to indicate an
asynchronous error (such as the unusability of the communications medium).

@end itemize

A successful invocation of the error reporting service is illustrated in @figref{8}.

@figuresized{lmi08,8,Message Flow: Successful Error Reporting Service,4.0in}

@node Statistics Reporting Service
@subsection Statistics Reporting Service

@itemize @bullet

@item @b{@prim{LMI_STATS_IND}}:

@end itemize

A successful invocation of the statistics reporting service is illustrated in @figref{9}.

@figuresized{lmi09,9,Message Flow: Successful Statistics Reporting Service,4.0in}

@node Event Reporting Service
@subsection Event Reporting Service

The event reporting service provides the LMS provider with the ability to indicate specific
asynchronous management events to the LMS user.

@itemize @bullet

@item @b{@prim{LMI_EVENT_IND}}:
The LMS provider issues the @prim{LMI_EVENT_IND} message to the LMS user when it wishes to indicate
an asynchronous (management) event to the LMS user.

@end itemize

A successful invocation of the event reporting service is illustrated in @figref{10}.

@figuresized{lmi10,10,Message Flow: Successful Event Reporting Service,4.0in}

@node Protocol Services
@section Protocol Services

Protocol services are specific to the Signalling Data Link interface.  These services consist of
connection services that permit the transmit and receive directions to be connected to or
disconnected from the medium, and data transfer services that permit the exchange of bits between SDLS
users.

The service primitives that implement the protocol services are described in detail in @ref{Protocol
Service Primitives}.

@menu
* Connection Service::
* Data Transfer Service::
* Disconnection Service::
@end menu

@node Connection Service
@subsection Connection Service

The connection service provides the ability for the SDLS user to connect to the medium for the
purpose of transmitting bits, receiving bits, or both.  In SS7, this is a Level 1 function, possibly
the responsibility of multiplex or digital cross-connect switch.

@itemize @bullet

@item @b{@prim{SDL_CONNECT_REQ}}:
The @prim{SDL_CONNECT_REQ} message is used by the SDLS user to request that the Stream be connected to
the medium.  Connection to the medium might require some switching or other mechanism to prepare the
Stream for data transmission and reception.  Connections can be formed for the receive direction or
the transmit direction independently.

@end itemize

A successful invocation of the connection service is illustrated in @figref{11}.

@figuresized{sdli11,11,Message Flow: Successful Connection Service,4.0in}

@node Data Transfer Service
@subsection Data Transfer Service

The data transfer service provides the SDLS user with the ability to request that bits be
transmitted on the medium, and the SDLS provider with the ability to indicate bits that have been
received from the medium.

@itemize @bullet

@item @b{@prim{SDL_BITS_FOR_TRANSMISSION_REQ}}:
The @prim{SDL_BITS_FOR_TRANSMISSION_REQ} message is used by the SDLS user to place raw bits onto
the medium.  The Stream must have first been successfully activated in the transmit direction using
the @prim{SDL_CONNECT_REQ} message.

@item @b{@prim{SDL_RECEIVED_BITS_IND}}:
The @prim{SDL_RECEIVED_BITS_IND} message is issued by the SDLS provider when activated for the
receive direction with the @prim{SDL_CONNECT_REQ} message, to indicate bits received on the medium.

@end itemize

A successful invocation of the data transfer service is illustrated in @figref{12}.

@figuresized{sdli12,12,Message Flow: Successful Data Transfer Service,4.0in}

@node Disconnection Service
@subsection Disconnection Service

The disconnection service provides the ability for the SDLS user to disconnect from the medium,
withdrawing from the purpose of transmitting bits, receiving bits, or both.  It allows the
SDLS provider to autonomously indicate that the medium has been disconnected from the Stream.  In
SS7, this is a Level 1 function, possibly the responsibility of a multiplex or digital cross-connect
switch.

@itemize @bullet

@item @b{@prim{SDL_DISCONNECT_REQ}}:
The @prim{SDL_DISCONNECT_REQ} message is used by the SDLS user to request that the Stream be
disconnected from the medium.  Disconnection from the medium might require some switching or other
mechanism.  Disconnection can be performed for the receive direction or the transmit direction
independently.

@item @b{@prim{SDL_DISCONNECT_IND}}:
The @prim{SDL_DISCONNECT_IND} message is used by the SDLS provider to indicate to the SDLS user
that the Stream has been disconnected from the medium.  Disconnection is indicated for both the
receive and transmit directions.

@end itemize

A successful invocation of the disconnection service by the SDLS user is illustrated in @figref{13}.

@figuresized{sdli13,13,Message Flow: Successful Disconnection Service by SDLS User,4.0in}

A successful invocation of the disconnection service by  the SDLS provider is illustrated in @figref{14}.

@figuresized{sdli14,14,Message Flow: Successful Disconnection Service by SDLS Provider,4.0in}

@node SDLI Primitives
@chapter Primitives

@menu
* Local Management Service Primitives::
* Protocol Service Primitives::
@end menu

@node Local Management Service Primitives
@section Local Management Service Primitives

These service primitives implement the local management services (@pxref{Local Management
Services}).

@menu
* Acknowledgement Service Primitives::
* Information Reporting Service Primitives::
* Physical Point of Attachment Service Primitives::
* Initialization Service Primitives::
* Options Management Service Primitives::
* Event Reporting Service Primitives::
@end menu

@node Acknowledgement Service Primitives
@subsection Acknowledgement Service Primitives

These service primitives implement the acknowledgement service (@pxref{Acknowledgement Service}).

@menu
* LMI_OK_ACK::
* LMI_ERROR_ACK::
@end menu

@node LMI_OK_ACK
@subsubsection LMI_OK_ACK

@subsubheading Description

This primitive is used to acknowledge receipt and successful service completion for
primitives requiring acknowledgement that have no confirmation primitive.

@subsubheading Format
@tpindex lmi_ok_ack_t

This primitive consists of one @msg{M_PCPROTO} message block, structured as follows:

@display
@verbatim
typedef struct {
    lmi_long lmi_primitive;
    lmi_long lmi_correct_primitive;
    lmi_ulong lmi_state;
} lmi_ok_ack_t;
@end verbatim
@end display

@subsubheading Parameters

The service primitive contains the following parameters:

@table @parm

@item lmi_primitive
Indicates the service primitive type.  Always @prim{LMI_OK_ACK}.

@item lmi_correct_primitive
Indicates the service primitive that was received and serviced correctly.  This field can be one of
the following values:

@table @prim

@ignore
@item LMI_INFO_REQ
Information request.
@end ignore
@item LMI_ATTACH_REQ
Attach request.
@item LMI_DETACH_REQ
Detach request.
@ignore
@item LMI_ENABLE_REQ
Enable request.
@item LMI_DISABLE_REQ
Disable request.
@item LMI_OPTMGMT_REQ
Options management request.
@item LMI_INFO_ACK
Information acknowledgement.
@item LMI_OK_ACK
Successful receipt acknowledgement.
@item LMI_ERROR_ACK
Error acknowledgement.
@item LMI_ENABLE_CON
Enable confirmation.
@item LMI_DISABLE_CON
Disable confirmation.
@item LMI_OPTMGMT_ACK
Options Management acknowledgement.
@item LMI_ERROR_IND
Error indication.
@item LMI_STATS_IND
Statistics indication.
@item LMI_EVENT_IND
Event indication.
@end ignore

@end table

@item lmi_state

Indicates the current state of the LMS provider at the time that the primitive was issued.
This field can be one of the following values:

@table @psta

@item LMI_UNATTACHED
No PPA attached, awaiting @prim{LMI_ATTACH_REQ}.
@ignore
@item LMI_ATTACH_PENDING
Waiting for attach.
@end ignore
@item LMI_UNUSABLE
Device cannot be used, Stream in hung state.
@item LMI_DISABLED
PPA attached, awaiting @prim{LMI_ENABLE_REQ}.
@ignore
@item LMI_ENABLE_PENDING
Waiting to send @prim{LMI_ENABLE_CON}.
@end ignore
@item LMI_ENABLED
Ready for use, awaiting primitive exchange.
@ignore
@item LMI_DISABLE_PENDING
Waiting to send @prim{LMI_DISABLE_CON}.
@item LMI_DETACH_PENDING
Waiting for detach.
@end ignore

@end table

@end table

@subsubheading State

This primitive is issued by the LMS provider in the @psta{LMI_ATTACH_PENDING} or
@psta{LMI_DETACH_PENDING} state.

@subsubheading New State

The new state is @psta{LMI_UNATTACHED} or @psta{LMI_DISABLED}, depending on the primitive to
which the message is responding.

@page
@node LMI_ERROR_ACK
@subsubsection LMI_ERROR_ACK

@subsubheading Description

The error acknowledgement primitive is used to acknowledge receipt and unsuccessful service
completion for primitives requiring acknowledgement.

@subsubheading Format
@tpindex lmi_error_ack_t

The error acknowledgement primitive consists of one @msg{M_PCPROTO} message block, structured as follows:

@display
@verbatim
typedef struct {
    lmi_long lmi_primitive;
    lmi_ulong lmi_errno;
    lmi_ulong lmi_reason;
    lmi_long lmi_error_primitive;
    lmi_ulong lmi_state;
} lmi_error_ack_t;
@end verbatim
@end display

@subsubheading Parameters

The error acknowledgement primitive contains the following parameters:

@table @parm

@item lmi_primitive

Indicates the primitive type.  Always @prim{LMI_ERROR_ACK}.

@item lmi_errno

Indicates the LM error number.
This field can have one of the following values:

@table @perr
@item LMI_UNSPEC
Unknown or unspecified.
@item LMI_BADADDRESS
Address was invalid.
@item LMI_BADADDRTYPE
Invalid address type.
@item LMI_BADDIAL
(Not used.)
@item LMI_BADDIALTYPE
(Not used.)
@item LMI_BADDISPOSAL
Invalid disposal parameter.
@item LMI_BADFRAME
Defective SDU received.
@item LMI_BADPPA
Invalid PPA identifier.
@item LMI_BADPRIM
Unrecognized primitive.
@item LMI_DISC
Disconnected.
@item LMI_EVENT
Protocol-specific event occurred.
@item LMI_FATALERR
Device has become unusable.
@item LMI_INITFAILED
Link initialization failed.
@item LMI_NOTSUPP
Primitive not supported by this device.
@item LMI_OUTSTATE
Primitive was issued from invalid state.
@item LMI_PROTOSHORT
@msg{M_PROTO} block too short.
@item LMI_SYSERR
UNIX system error.
@item LMI_WRITEFAIL
Unitdata request failed.
@item LMI_CRCERR
CRC or FCS error.
@item LMI_DLE_EOT
DLE EOT detected.
@item LMI_FORMAT
Format error detected.
@item LMI_HDLC_ABORT
Aborted frame detected.
@item LMI_OVERRUN
Input overrun.
@item LMI_TOOSHORT
Frame too short.
@item LMI_INCOMPLETE
Partial frame received.
@item LMI_BUSY
Telephone was busy.
@item LMI_NOANSWER
Connection went unanswered.
@item LMI_CALLREJECT
Connection rejected.
@item LMI_HDLC_IDLE
HDLC line went idle.
@item LMI_HDLC_NOTIDLE
HDLC link no longer idle.
@item LMI_QUIESCENT
Line being reassigned.
@item LMI_RESUMED
Line has been reassigned.
@item LMI_DSRTIMEOUT
Did not see DSR in time.
@item LMI_LAN_COLLISIONS
LAN excessive collisions.
@item LMI_LAN_REFUSED
LAN message refused.
@item LMI_LAN_NOSTATION
LAN no such station.
@item LMI_LOSTCTS
Lost Clear to Send signal.
@item LMI_DEVERR
Start of device-specific error codes.
@end table

@item lmi_reason

Indicates the reason for failure.  This field is protocol-specific.  When the @parm{lmi_errno} field
is @perr{LMI_SYSERR}, the @parm{lmi_reason} field is the UNIX error number as described in
@manref{errno(3)}.

@item lmi_error_primitive

Indicates the primitive that was in error.
This field can have one of the following values:

@table @prim
@item LMI_INFO_REQ
Information request.
@item LMI_ATTACH_REQ
Attach request.
@item LMI_DETACH_REQ
Detach request.
@item LMI_ENABLE_REQ
Enable request.
@item LMI_DISABLE_REQ
Disable request.
@item LMI_OPTMGMT_REQ
Options management request.
@item LMI_INFO_ACK
Information acknowledgement.
@item LMI_OK_ACK
Successful receipt acknowledgement.
@item LMI_ERROR_ACK
Error acknowledgement.
@item LMI_ENABLE_CON
Enable confirmation.
@item LMI_DISABLE_CON
Disable confirmation.
@item LMI_OPTMGMT_ACK
Options Management acknowledgement.
@item LMI_ERROR_IND
Error indication.
@item LMI_STATS_IND
Statistics indication.
@item LMI_EVENT_IND
Event indication.
@end table

@item lmi_state

Indicates the state of the LMS provider at the time that the primitive was issued.  This field can
have one of the following values:

@table @psta
@item LMI_UNATTACHED
No PPA attached, awaiting @prim{LMI_ATTACH_REQ}.
@item LMI_ATTACH_PENDING
Waiting for attach.
@item LMI_UNUSABLE
Device cannot be used, STREAM in hung state.
@item LMI_DISABLED
PPA attached, awaiting @prim{LMI_ENABLE_REQ}.
@item LMI_ENABLE_PENDING
Waiting to send @prim{LMI_ENABLE_CON}.
@item LMI_ENABLED
Ready for use, awaiting primitive exchange.
@item LMI_DISABLE_PENDING
Waiting to send @prim{LMI_DISABLE_CON}.
@item LMI_DETACH_PENDING
Waiting for detach.
@end table

@end table

@subsubheading State

This primitive can be issued in any state for which a local acknowledgement is not pending.  The
LMS provider state at the time that the primitive was issued is indicated in the primitive.

@subsubheading New State

The new state remains unchanged.

@page
@node Information Reporting Service Primitives
@subsection Information Reporting Service Primitives

These service primitives implement the information reporting service (@pxref{Information Reporting
Service}).

@menu
* LMI_INFO_REQ::
* LMI_INFO_ACK::
@end menu

@node LMI_INFO_REQ
@subsubsection LMI_INFO_REQ

@subsubheading Description

This LMS user originated primitive is issued by the LMS user to request that the LMS provider
return information concerning the capabilities and state of the LMS provider.

@subsubheading Format
@tpindex lmi_info_req_t

The primitive consists of one @msg{M_PROTO} or @msg{M_PCPROTO} message block, structured as follows:

@display
@verbatim
typedef struct {
    lmi_ulong lmi_primitive;
} lmi_info_req_t;
@end verbatim
@end display

@subsubheading Parameters

This primitive contains the following parameters:

@table @parm

@item lmi_primitive
Specifies the primitive type.  Always @prim{LMI_INFO_REQ}.

@end table

@subsubheading State

This primitive may be issued in any state but only when a local acknowledgement is not pending.

@subsubheading New State

The new state remains unchanged.

@subsubheading Response

This primitive requires the LMS provider to acknowledge receipt of the primitive as follows:

@itemize @minus

@item @b{Successful}:
The LMS provider is required to acknowledge receipt of the primitive and provide the requested
information using the @prim{LMI_INFO_ACK} primitive.

@item @b{Unsuccessful (non-fatal errors)}:
The LMS provider is required to negatively acknowledge the primitive using the @prim{LMI_ERROR_ACK}
primitive, and include the reason for failure in the primitive.

@end itemize

@subsubheading Reasons for Failure

@b{Non-Fatal Errors}: applicable non-fatal errors are as follows:

@table @perr

@item LMI_UNSPEC
Unknown or unspecified.
@item LMI_BADADDRESS
Address was invalid.
@item LMI_BADADDRTYPE
Invalid address type.
@item LMI_BADDIAL
(Not used.)
@item LMI_BADDIALTYPE
(Not used.)
@item LMI_BADDISPOSAL
Invalid disposal parameter.
@item LMI_BADFRAME
Defective SDU received.
@item LMI_BADPPA
Invalid PPA identifier.
@item LMI_BADPRIM
Unrecognized primitive.
@item LMI_DISC
Disconnected.
@item LMI_EVENT
Protocol-specific event occurred.
@item LMI_FATALERR
Device has become unusable.
@item LMI_INITFAILED
Link initialization failed.
@item LMI_NOTSUPP
Primitive not supported by this device.
@item LMI_OUTSTATE
Primitive was issued from invalid state.
@item LMI_PROTOSHORT
@msg{M_PROTO} block too short.
@item LMI_SYSERR
UNIX system error.
@item LMI_WRITEFAIL
Unitdata request failed.
@item LMI_CRCERR
CRC or FCS error.
@item LMI_DLE_EOT
DLE EOT detected.
@item LMI_FORMAT
Format error detected.
@item LMI_HDLC_ABORT
Aborted frame detected.
@item LMI_OVERRUN
Input overrun.
@item LMI_TOOSHORT
Frame too short.
@item LMI_INCOMPLETE
Partial frame received.
@item LMI_BUSY
Telephone was busy.
@item LMI_NOANSWER
Connection went unanswered.
@item LMI_CALLREJECT
Connection rejected.
@item LMI_HDLC_IDLE
HDLC line went idle.
@item LMI_HDLC_NOTIDLE
HDLC link no longer idle.
@item LMI_QUIESCENT
Line being reassigned.
@item LMI_RESUMED
Line has been reassigned.
@item LMI_DSRTIMEOUT
Did not see DSR in time.
@item LMI_LAN_COLLISIONS
LAN excessive collisions.
@item LMI_LAN_REFUSED
LAN message refused.
@item LMI_LAN_NOSTATION
LAN no such station.
@item LMI_LOSTCTS
Lost Clear to Send signal.
@item LMI_DEVERR
Start of device-specific error codes.

@end table

@page
@node LMI_INFO_ACK
@subsubsection LMI_INFO_ACK

@subsubheading Description

This LMS provider originated primitive acknowledges receipt and successful processing of the
@prim{LMI_INFO_REQ} primitive and provides the requested information concerning the LMS provider.

@subsubheading Format
@tpindex lmi_info_ack_t

This message is formatted a one @msg{M_PROTO} or @msg{M_PCPROTO} message block, structured as follows:

@display
@verbatim
typedef struct {
    lmi_long lmi_primitive;
    lmi_ulong lmi_version;
    lmi_ulong lmi_state;
    lmi_ulong lmi_max_sdu;
    lmi_ulong lmi_min_sdu;
    lmi_ulong lmi_header_len;
    lmi_ulong lmi_ppa_style;
    lmi_uchar lmi_ppa_addr[0];
} lmi_info_ack_t;
@end verbatim
@end display

@subsubheading Parameters

The information acknowledgement service primitive has the following parameters:

@table @parm

@item lmi_primitive
Indicates the service primitive type.  Always @prim{LMI_INFO_ACK}.

@item lmi_version
Indicates the version of this specification that is being used by the LMS provider.

@item lmi_state
Indicates the state of the LMS provider at the time that the information acknowledgement service
primitive was issued.  This field can be one of the following values:

@table @psta

@item LMI_UNATTACHED
No PPA attached, awaiting @prim{LMI_ATTACH_REQ}.
@item LMI_ATTACH_PENDING
Waiting for attach.
@item LMI_UNUSABLE
Device cannot be used, STREAM in hung state.
@item LMI_DISABLED
PPA attached, awaiting @prim{LMI_ENABLE_REQ}.
@item LMI_ENABLE_PENDING
Waiting to send @prim{LMI_ENABLE_CON}.
@item LMI_ENABLED
Ready for use, awaiting primitive exchange.
@item LMI_DISABLE_PENDING
Waiting to send @prim{LMI_DISABLE_CON}.
@item LMI_DETACH_PENDING
Waiting for detach.

@end table

@item lmi_max_sdu
Indicates the maximum size of a Service Data Unit.

@item lmi_min_sdu
Indicates the minimum size of a Service Data Unit.

@item lmi_header_len
Indicates the amount of header space that should be reserved for placing LMS provider headers.

@item lmi_ppa_style
Indicates the PPA style of the LMS provider.  This value can be one of the following values:

@table @pval

@item LMI_STYLE1
PPA is implicitly attached by @manref{open(2)}.

@item LMI_STYLE2
PPA must be explicitly attached using @prim{LMI_ATTACH_REQ}.

@end table

@item lmi_ppa_addr
This is a variable length field.  The length of the field is determined by the length of the
@msg{M_PROTO}
or @msg{M_PCPROTO} message block.

For a @dfn{Style 2} driver, when @parm{lmi_ppa_style} is @pval{LMI_STYLE2}, and when in an attached state,
this field provides the current PPA associated with the Stream; the length is typically 4 bytes.

For a @dfn{Style 1} driver, when @parm{lmi_ppa_style} is @pval{LMI_STYLE1}, the length it 0 bytes.

@end table

@subsubheading State

This primitive can be issued in any state where a local acknowledgement is not pending.

@subsubheading New State

The new state remains unchanged.

@page
@node Physical Point of Attachment Service Primitives
@subsection Physical Point of Attachment Service Primitives

These service primitives implement the physical point of attachment service (@pxref{Physical Point
of Attachment Service}).

@menu
* LMI_ATTACH_REQ::
* LMI_DETACH_REQ::
@end menu

@node LMI_ATTACH_REQ
@subsubsection LMI_ATTACH_REQ

@subsubheading Description

This LMS user originated primitive requests that the Stream upon which the primitive is issued be
associated with the specified Physical Point of Attachment (PPA).  This primitive is only applicable
to @dfn{Style 2} LMS provider Streams, that is, Streams that return @pval{LMI_STYLE2} in the
@parm{lmi_ppa_style} field of the @prim{LMI_INFO_ACK}.

@subsubheading Format
@tpindex lmi_attach_req_t

This primitive consists of one @msg{M_PROTO} message block, structured as follows:

@display
@verbatim
typedef struct {
    lmi_long lmi_primitive;
    lmi_uchar lmi_ppa[0];
} lmi_attach_req_t;
@end verbatim
@end display

@subsubheading Parameters

The attach request primitive contains the following parameters:

@table @parm

@item lmi_primitive
Specifies the service primitive type.  Always @prim{LMI_ATTACH_REQ}.

@item lmi_ppa
Specifies the Physical Point of Attachment (PPA) to which to associate the @dfn{Style 2} Stream.
This is a variable length identifier whose length is determined by the length of the @msg{M_PROTO} message
block.

@end table

@subsubheading State

This primitive is only valid in state @psta{LMI_UNATTACHED} and when a local acknowledgement is not
pending.

@subsubheading New State

Upon success, the new state is @psta{LMI_ATTACH_PENDING}.  Upon failure, the state remains unchanged.

@subsubheading Response

The attach request service primitive requires that the LMS provider respond as follows:

@itemize @minus

@item @b{Successful}:
The LMS provider acknowledges receipt of the primitive and successful outcome of the attach service
with a @prim{LMI_OK_ACK} primitive.  The new state is @psta{LMI_DISABLED}.

@item @b{Unsuccessful (non-fatal errors)}:
The LMS provider acknowledges receipt of the primitive and failure of the attach service with a
@prim{LMI_ERROR_ACK} primitive containing the reason for failure.  The new state remains unchanged.

@end itemize

@subsubheading Reasons for Failure

@b{Non-Fatal Errors}:  applicable non-fatal errors are as follows:

@table @perr

@item LMI_UNSPEC
Unknown or unspecified.
@item LMI_BADADDRESS
Address was invalid.
@item LMI_BADADDRTYPE
Invalid address type.
@item LMI_BADDIAL
(Not used.)
@item LMI_BADDIALTYPE
(Not used.)
@item LMI_BADDISPOSAL
Invalid disposal parameter.
@item LMI_BADFRAME
Defective SDU received.
@item LMI_BADPPA
Invalid PPA identifier.
@item LMI_BADPRIM
Unrecognized primitive.
@item LMI_DISC
Disconnected.
@item LMI_EVENT
Protocol-specific event occurred.
@item LMI_FATALERR
Device has become unusable.
@item LMI_INITFAILED
Link initialization failed.
@item LMI_NOTSUPP
Primitive not supported by this device.
@item LMI_OUTSTATE
Primitive was issued from invalid state.
@item LMI_PROTOSHORT
@msg{M_PROTO} block too short.
@item LMI_SYSERR
UNIX system error.
@item LMI_WRITEFAIL
Unitdata request failed.
@item LMI_CRCERR
CRC or FCS error.
@item LMI_DLE_EOT
DLE EOT detected.
@item LMI_FORMAT
Format error detected.
@item LMI_HDLC_ABORT
Aborted frame detected.
@item LMI_OVERRUN
Input overrun.
@item LMI_TOOSHORT
Frame too short.
@item LMI_INCOMPLETE
Partial frame received.
@item LMI_BUSY
Telephone was busy.
@item LMI_NOANSWER
Connection went unanswered.
@item LMI_CALLREJECT
Connection rejected.
@item LMI_HDLC_IDLE
HDLC line went idle.
@item LMI_HDLC_NOTIDLE
HDLC link no longer idle.
@item LMI_QUIESCENT
Line being reassigned.
@item LMI_RESUMED
Line has been reassigned.
@item LMI_DSRTIMEOUT
Did not see DSR in time.
@item LMI_LAN_COLLISIONS
LAN excessive collisions.
@item LMI_LAN_REFUSED
LAN message refused.
@item LMI_LAN_NOSTATION
LAN no such station.
@item LMI_LOSTCTS
Lost Clear to Send signal.
@item LMI_DEVERR
Start of device-specific error codes.

@end table

@page
@node LMI_DETACH_REQ
@subsubsection LMI_DETACH_REQ

@subsubheading Description

This LMS user originated primitive requests that the Stream upon which the primitive is issued be
disassociated from the Physical Point of Appearance (PPA) to which it is currently attached.  This
primitive is only applicable to @dfn{Style 2} LMS provider Streams, that is, Streams that return
@pval{LMI_STYLE2} in the @parm{lmi_ppa_style} field of the @prim{LMI_INFO_ACK}.

@subsubheading Format
@tpindex lmi_detach_req_t

The detach request service primitive consists of one @msg{M_PROTO} message block, structured as follows:

@display
@verbatim
typedef struct {
    lmi_long lmi_primitive;
} lmi_detach_req_t;
@end verbatim
@end display

@subsubheading Parameters

The detach request service primitive contains the following parameters:

@table @parm

@item lmi_primitive
Specifies the service primitive type.  Always @prim{LMI_DETACH_REQ}.

@end table

@subsubheading State

This primitive is valid in the @psta{LMI_DISABLED} state and when no local acknowledgement is pending.

@subsubheading New State

Upon success, the new state is @psta{LMI_DETACH_PENDING}.  Upon failure, the state remains unchanged.

@subsubheading Response

The detach request service primitive requires that the LMS provider respond as follows:

@itemize @minus

@item @b{Successful}:
The LMS provider acknowledges receipt of the primitive and successful outcome of the detach service
with a @prim{LMI_OK_ACK} primitive.  The new state is @psta{LMI_UNATTACHED}.

@item @b{Unsuccessful (non-fatal errors)}:
The LMS provider acknowledges receipt of the primitive and failure of the detach service with a
@prim{LMI_ERROR_ACK} primitive containing the reason for failure.  The new state remains unchanged.

@end itemize

@subsubheading Reasons for Failure

@b{Non-Fatal Errors}:  applicable non-fatal errors are as follows:

@table @perr

@item LMI_UNSPEC
Unknown or unspecified.
@item LMI_BADADDRESS
Address was invalid.
@item LMI_BADADDRTYPE
Invalid address type.
@item LMI_BADDIAL
(Not used.)
@item LMI_BADDIALTYPE
(Not used.)
@item LMI_BADDISPOSAL
Invalid disposal parameter.
@item LMI_BADFRAME
Defective SDU received.
@item LMI_BADPPA
Invalid PPA identifier.
@item LMI_BADPRIM
Unrecognized primitive.
@item LMI_DISC
Disconnected.
@item LMI_EVENT
Protocol-specific event occurred.
@item LMI_FATALERR
Device has become unusable.
@item LMI_INITFAILED
Link initialization failed.
@item LMI_NOTSUPP
Primitive not supported by this device.
@item LMI_OUTSTATE
Primitive was issued from invalid state.
@item LMI_PROTOSHORT
@msg{M_PROTO} block too short.
@item LMI_SYSERR
UNIX system error.
@item LMI_WRITEFAIL
Unitdata request failed.
@item LMI_CRCERR
CRC or FCS error.
@item LMI_DLE_EOT
DLE EOT detected.
@item LMI_FORMAT
Format error detected.
@item LMI_HDLC_ABORT
Aborted frame detected.
@item LMI_OVERRUN
Input overrun.
@item LMI_TOOSHORT
Frame too short.
@item LMI_INCOMPLETE
Partial frame received.
@item LMI_BUSY
Telephone was busy.
@item LMI_NOANSWER
Connection went unanswered.
@item LMI_CALLREJECT
Connection rejected.
@item LMI_HDLC_IDLE
HDLC line went idle.
@item LMI_HDLC_NOTIDLE
HDLC link no longer idle.
@item LMI_QUIESCENT
Line being reassigned.
@item LMI_RESUMED
Line has been reassigned.
@item LMI_DSRTIMEOUT
Did not see DSR in time.
@item LMI_LAN_COLLISIONS
LAN excessive collisions.
@item LMI_LAN_REFUSED
LAN message refused.
@item LMI_LAN_NOSTATION
LAN no such station.
@item LMI_LOSTCTS
Lost Clear to Send signal.
@item LMI_DEVERR
Start of device-specific error codes.

@end table

@page
@node Initialization Service Primitives
@subsection Initialization Service Primitives

Initialization service primitives allow the LMS user to enable or disable the protocol service
interface.  Enabling the protocol service interface may require that some action be taken to prepare
the protocol service interface for use or to remove it from use.  For example, where the PPA
corresponds to a signalling data link identifier as defined in Q.704, it may be necessary to perform
switching to connect or disconnect the circuit identification code associated with the signalling
data link identifier.

These service primitives implement the initialization service (@pxref{Initialization Service}).

@menu
* LMI_ENABLE_REQ::
* LMI_ENABLE_CON::
* LMI_DISABLE_REQ::
* LMI_DISABLE_CON::
@end menu

@node LMI_ENABLE_REQ
@subsubsection LMI_ENABLE_REQ

@subsubheading Description

This LMS user originated primitive requests that the LMS provider perform the actions necessary to
enable the protocol service interface and confirm that it is enabled.  This primitive is applicable
to both styles of PPA.

@subsubheading Format
@tpindex lmi_enable_req_t

The enable request service primitive consists of one @msg{M_PROTO} message block, structured as follows:

@display
@verbatim
typedef struct {
    lmi_long lmi_primitive;
    lmi_uchar lmi_rem[0];
} lmi_enable_req_t;
@end verbatim
@end display

@subsubheading Parameters

The enable request service primitive contains the following parameters:

@table @parm

@item lmi_primitive
Specifies the service primitive type.  Always @prim{LMI_ENABLE_REQ}.

@item lmi_rem
Specifies a remote address to which to connect the PPA.  The need for and form of this address is
provider-specific.  The length of the field is determined by the length of the @msg{M_PROTO} message
block.  This remote address could be a circuit identification code, an IP address, or some other
form of circuit or channel identifier.

@end table

@subsubheading State

This primitive is valid in the @psta{LMI_DISABLED} state and when no local acknowledgement is pending.

@subsubheading New State

Upon success the new state is @psta{LMI_ENABLE_PENDING}.  Upon failure, the state remains unchanged.

@subsubheading Response

The enable request service primitive requires that the LMS provider acknowledge receipt of the
primitive as follows:

@itemize @minus

@item @b{Successful}:
When successful, the LMS provider acknowledges successful completion of the enable service with an
@prim{LMI_ENABLE_CON} primitive.  The new state is @psta{LMI_ENABLED}.

@item @b{Unsuccessful (non-fatal errors)}:
When unsuccessful, the LMS provider acknowledges the failure of the enable service wtih an
@prim{LMI_ERROR_ACK} primitive containing the error.  The new state remains unchanged.

@end itemize

@subsubheading Reasons for Failure

@b{Non-Fatal Errors}:  applicable non-fatal errors are as follows:

@table @perr

@item LMI_UNSPEC
Unknown or unspecified.
@item LMI_BADADDRESS
Address was invalid.
@item LMI_BADADDRTYPE
Invalid address type.
@item LMI_BADDIAL
(Not used.)
@item LMI_BADDIALTYPE
(Not used.)
@item LMI_BADDISPOSAL
Invalid disposal parameter.
@item LMI_BADFRAME
Defective SDU received.
@item LMI_BADPPA
Invalid PPA identifier.
@item LMI_BADPRIM
Unrecognized primitive.
@item LMI_DISC
Disconnected.
@item LMI_EVENT
Protocol-specific event occurred.
@item LMI_FATALERR
Device has become unusable.
@item LMI_INITFAILED
Link initialization failed.
@item LMI_NOTSUPP
Primitive not supported by this device.
@item LMI_OUTSTATE
Primitive was issued from invalid state.
@item LMI_PROTOSHORT
@msg{M_PROTO} block too short.
@item LMI_SYSERR
UNIX system error.
@item LMI_WRITEFAIL
Unitdata request failed.
@item LMI_CRCERR
CRC or FCS error.
@item LMI_DLE_EOT
DLE EOT detected.
@item LMI_FORMAT
Format error detected.
@item LMI_HDLC_ABORT
Aborted frame detected.
@item LMI_OVERRUN
Input overrun.
@item LMI_TOOSHORT
Frame too short.
@item LMI_INCOMPLETE
Partial frame received.
@item LMI_BUSY
Telephone was busy.
@item LMI_NOANSWER
Connection went unanswered.
@item LMI_CALLREJECT
Connection rejected.
@item LMI_HDLC_IDLE
HDLC line went idle.
@item LMI_HDLC_NOTIDLE
HDLC link no longer idle.
@item LMI_QUIESCENT
Line being reassigned.
@item LMI_RESUMED
Line has been reassigned.
@item LMI_DSRTIMEOUT
Did not see DSR in time.
@item LMI_LAN_COLLISIONS
LAN excessive collisions.
@item LMI_LAN_REFUSED
LAN message refused.
@item LMI_LAN_NOSTATION
LAN no such station.
@item LMI_LOSTCTS
Lost Clear to Send signal.
@item LMI_DEVERR
Start of device-specific error codes.

@end table

@page
@node LMI_ENABLE_CON
@subsubsection LMI_ENABLE_CON

@subsubheading Description

This LMS provider originated primitive is issued by the LMS provider to confirm the successful
completion of the enable service.

@subsubheading Format
@tpindex lmi_enable_con_t

The enable confirmation service primitive consists of one @msg{M_PROTO} message block, structured as
follows:

@display
@verbatim
typedef struct {
    lmi_long lmi_primitive;
    lmi_ulong lmi_state;
} lmi_enable_con_t;
@end verbatim
@end display

@subsubheading Parameters

The enable confirmation service primitive contains the following parameters:

@table @parm

@item lmi_primitive
Indicates the service primitive type.  Always @prim{LMI_ENABLE_CON}.

@item lmi_state
Indicates the state following issuing the enable confirmation primitive.  This field can take on one
of the following values:

@table @psta

@ignore
@item LMI_UNATTACHED
No PPA attached, awaiting @prim{LMI_ATTACH_REQ}.
@item LMI_ATTACH_PENDING
Waiting for attach.
@item LMI_UNUSABLE
Device cannot be used, STREAM in hung state.
@item LMI_DISABLED
PPA attached, awaiting @prim{LMI_ENABLE_REQ}.
@item LMI_ENABLE_PENDING
Waiting to send @prim{LMI_ENABLE_CON}.
@end ignore
@item LMI_ENABLED
Ready for use, awaiting primitive exchange.
@ignore
@item LMI_DISABLE_PENDING
Waiting to send @prim{LMI_DISABLE_CON}.
@item LMI_DETACH_PENDING
Waiting for detach.
@end ignore

@end table

@end table

@subsubheading State

This primitive is issued by the LMS provider in the @psta{LMI_ENABLE_PENDING} state.

@subsubheading New State

The new state is @psta{LMI_ENABLED}.

@page
@node LMI_DISABLE_REQ
@subsubsection LMI_DISABLE_REQ

@subsubheading Description

This LMS user originated primitive requests that the LMS provider perform the actions necessary to
disable the protocol service interface and confirm that it is disabled.  The primitive is applicable
to both styles of PPA.

@subsubheading Format
@tpindex lmi_disable_req_t

The disable request service primitive consists of one @msg{M_PROTO} message block, structured as follows:

@display
@verbatim
typedef struct {
    lmi_long lmi_primitive;
} lmi_disable_req_t;
@end verbatim
@end display

@subsubheading Parameters

The disable request service primitive contains the following parameters:

@table @parm

@item lmi_primitive
Specifies the service primitive type.  Always @prim{LMI_DISABLE_REQ}.

@end table

@subsubheading State

The disable request service primitive is valid in the @psta{LMI_ENABLED} state and when no local
acknowledgement is pending.

@subsubheading New State

Upon success, the new state is @psta{LMI_DISABLE_PENDING}.  Upon failure, the state remains unchanged.

@subsubheading Response

The disable request service primitive requires the LMS provider to acknowledge receipt of the
primitive as follows:

@itemize @minus

@item @b{Successful}:
When successful, the LMS provider acknowledges successful completion of the disable service with an
@prim{LMI_DISABLE_CON} primitive.  The new state is @psta{LMI_DISABLED}.

@item @b{Unsuccessful (non-fatal errors)}:
When unsuccessful, the LMS provider acknowledges the failure of the disable service with an
@prim{LMI_ERROR_ACK} primitive containing the error.  The new state remains unchanged.

@end itemize

@subsubheading Reasons for Failure

@b{Non-Fatal Errors}:  applicable non-fatal errors are as follows:

@table @perr

@item LMI_UNSPEC
Unknown or unspecified.
@item LMI_BADADDRESS
Address was invalid.
@item LMI_BADADDRTYPE
Invalid address type.
@item LMI_BADDIAL
(Not used.)
@item LMI_BADDIALTYPE
(Not used.)
@item LMI_BADDISPOSAL
Invalid disposal parameter.
@item LMI_BADFRAME
Defective SDU received.
@item LMI_BADPPA
Invalid PPA identifier.
@item LMI_BADPRIM
Unrecognized primitive.
@item LMI_DISC
Disconnected.
@item LMI_EVENT
Protocol-specific event occurred.
@item LMI_FATALERR
Device has become unusable.
@item LMI_INITFAILED
Link initialization failed.
@item LMI_NOTSUPP
Primitive not supported by this device.
@item LMI_OUTSTATE
Primitive was issued from invalid state.
@item LMI_PROTOSHORT
@msg{M_PROTO} block too short.
@item LMI_SYSERR
UNIX system error.
@item LMI_WRITEFAIL
Unitdata request failed.
@item LMI_CRCERR
CRC or FCS error.
@item LMI_DLE_EOT
DLE EOT detected.
@item LMI_FORMAT
Format error detected.
@item LMI_HDLC_ABORT
Aborted frame detected.
@item LMI_OVERRUN
Input overrun.
@item LMI_TOOSHORT
Frame too short.
@item LMI_INCOMPLETE
Partial frame received.
@item LMI_BUSY
Telephone was busy.
@item LMI_NOANSWER
Connection went unanswered.
@item LMI_CALLREJECT
Connection rejected.
@item LMI_HDLC_IDLE
HDLC line went idle.
@item LMI_HDLC_NOTIDLE
HDLC link no longer idle.
@item LMI_QUIESCENT
Line being reassigned.
@item LMI_RESUMED
Line has been reassigned.
@item LMI_DSRTIMEOUT
Did not see DSR in time.
@item LMI_LAN_COLLISIONS
LAN excessive collisions.
@item LMI_LAN_REFUSED
LAN message refused.
@item LMI_LAN_NOSTATION
LAN no such station.
@item LMI_LOSTCTS
Lost Clear to Send signal.
@item LMI_DEVERR
Start of device-specific error codes.

@end table

@page
@node LMI_DISABLE_CON
@subsubsection LMI_DISABLE_CON

@subsubheading Description

This LMS provider originated primitive is issued by the LMS provider to confirm the successful
completion of the disable service.

@subsubheading Format
@tpindex lmi_disable_con_t

The disable confirmation service primitive consists of one @msg{M_PROTO} message block, structured as
follows:

@display
@verbatim
typedef struct {
    lmi_long lmi_primitive;
    lmi_ulong lmi_state;
} lmi_disable_con_t;
@end verbatim
@end display

@subsubheading Parameters

The disable confirmation service primitive contains the following parameters:

@table @parm

@item lmi_primitive
Indicates the service primitive type.  Always @prim{LMI_DISABLE_CON}.

@item lmi_state
Indicates the state following issuing the disable confirmation primitive.  This field can take on one
of the following values:

@table @psta

@ignore
@item LMI_UNATTACHED
No PPA attached, awaiting @prim{LMI_ATTACH_REQ}.
@item LMI_ATTACH_PENDING
Waiting for attach.
@item LMI_UNUSABLE
Device cannot be used, STREAM in hung state.
@end ignore
@item LMI_DISABLED
PPA attached, awaiting @prim{LMI_ENABLE_REQ}.
@ignore
@item LMI_ENABLE_PENDING
Waiting to send @prim{LMI_ENABLE_CON}.
@item LMI_ENABLED
Ready for use, awaiting primitive exchange.
@item LMI_DISABLE_PENDING
Waiting to send @prim{LMI_DISABLE_CON}.
@item LMI_DETACH_PENDING
Waiting for detach.
@end ignore

@end table

@end table

@subsubheading State

This primitive is issued by the LMS provider in the @psta{LMI_DISABLE_PENDING} state.

@subsubheading New State

The new state is @psta{LMI_DISABLED}.

@page
@node Options Management Service Primitives
@subsection Options Management Service Primitives

The options management service primitives allow the LMS user to negotiate options with the LMS
provider, retrieve the current and default values of options, and check that values specified for
options are correct.

The options management service primitive implement the options management service (@pxref{Options
Management Service}).

@menu
* LMI_OPTMGMT_REQ::
* LMI_OPTMGMT_ACK::
@end menu

@node LMI_OPTMGMT_REQ
@subsubsection LMI_OPTMGMT_REQ

@subsubheading Description

This LMS user originated primitive requests that LMS provider options be managed.

@subsubheading Format
@tpindex lmi_optmgmt_req_t

The option management request service primitive consists of one @msg{M_PROTO} or @msg{M_PCPROTO} message block,
structured as follows:

@display
@verbatim
typedef struct {
    lmi_long lmi_primitive;
    lmi_ulong lmi_opt_length;
    lmi_ulong lmi_opt_offset;
    lmi_ulong lmi_mgmt_flags;
} lmi_optmgmt_req_t;
@end verbatim
@end display

@subsubheading Parameters

The option management request service primitive contains the following parameters:

@table @parm

@item lmi_primitive
Specifies the service primitive type.  Always @prim{LMI_OPTMGMT_REQ}.

@item lmi_opt_length
Specifies the length of the options.

@item lmi_opt_offset
Specifies the offset, from the beginning of the @msg{M_PROTO} message block, of the start of the options.

@item lmi_mgmt_flags
Specifies the management flags that determine what operation the LMS provider is expected to
perform on the specified options.  This field can assume one of the following values:

@table @pval

@item LMI_NEGOTIATE
Negotiate the specified value of each specified option and return the negotiated value.

@item LMI_CHECK
Check the validity of the specified value of each specified option and return the result.  Do not
alter the current value assumed by the LMS provider.

@item LMI_DEFAULT
Return the default value for the specified options (or all options).  Do not alter the current value
assumed by the LMS provider.

@item LMI_CURRENT
Return the current value for the specified options (or all options).  Do not alter the current value
assumed by the LMS provider.

@end table

@end table

@subsubheading State

This primitive is valid in any state where a local acknowledgement is not pending.

@subsubheading New State

The new state remains unchanged.

@subsubheading Response

The option management request service primitive requires the LMS provider to acknowledge receipt of
the primitive as follows:

@itemize @minus

@item @b{Successful}:
Upon success, the LMS provider acknowledges receipt of the service primitive and successful
completion of the options management service with an @prim{LMI_OPTMGMT_ACK} primitive containing the
options management result.  The state remains unchanged.

@item @b{Unsuccessful (non-fatal errors)}:
Upon failure, the LMS provider acknowledges receipt of the service primitive and failure to
complete the options management service with an @prim{LMI_ERROR_ACK} primitive containing the error.
The state remains unchanged.

@end itemize

@subsubheading Reasons for Failure

@b{Non-Fatal Errors}:  applicable non-fatal errors are as follows:

@table @perr

@item LMI_UNSPEC
Unknown or unspecified.
@item LMI_BADADDRESS
Address was invalid.
@item LMI_BADADDRTYPE
Invalid address type.
@item LMI_BADDIAL
(Not used.)
@item LMI_BADDIALTYPE
(Not used.)
@item LMI_BADDISPOSAL
Invalid disposal parameter.
@item LMI_BADFRAME
Defective SDU received.
@item LMI_BADPPA
Invalid PPA identifier.
@item LMI_BADPRIM
Unrecognized primitive.
@item LMI_DISC
Disconnected.
@item LMI_EVENT
Protocol-specific event occurred.
@item LMI_FATALERR
Device has become unusable.
@item LMI_INITFAILED
Link initialization failed.
@item LMI_NOTSUPP
Primitive not supported by this device.
@item LMI_OUTSTATE
Primitive was issued from invalid state.
@item LMI_PROTOSHORT
@msg{M_PROTO} block too short.
@item LMI_SYSERR
UNIX system error.
@item LMI_WRITEFAIL
Unitdata request failed.
@item LMI_CRCERR
CRC or FCS error.
@item LMI_DLE_EOT
DLE EOT detected.
@item LMI_FORMAT
Format error detected.
@item LMI_HDLC_ABORT
Aborted frame detected.
@item LMI_OVERRUN
Input overrun.
@item LMI_TOOSHORT
Frame too short.
@item LMI_INCOMPLETE
Partial frame received.
@item LMI_BUSY
Telephone was busy.
@item LMI_NOANSWER
Connection went unanswered.
@item LMI_CALLREJECT
Connection rejected.
@item LMI_HDLC_IDLE
HDLC line went idle.
@item LMI_HDLC_NOTIDLE
HDLC link no longer idle.
@item LMI_QUIESCENT
Line being reassigned.
@item LMI_RESUMED
Line has been reassigned.
@item LMI_DSRTIMEOUT
Did not see DSR in time.
@item LMI_LAN_COLLISIONS
LAN excessive collisions.
@item LMI_LAN_REFUSED
LAN message refused.
@item LMI_LAN_NOSTATION
LAN no such station.
@item LMI_LOSTCTS
Lost Clear to Send signal.
@item LMI_DEVERR
Start of device-specific error codes.

@end table

@page
@node LMI_OPTMGMT_ACK
@subsubsection LMI_OPTMGMT_ACK

@subsubheading Description

This LMS provider originated primitive is issued by the LMS provider upon successful completion of
the options management service.  It indicates the outcome of the options management operation
requested by the LMS user in a @prim{LMI_OPTMGMT_REQ} primitive.

@subsubheading Format
@tpindex lmi_optmgmt_ack_t

The option management acknowledgement service primitive consists of one @msg{M_PCPROTO} message block,
structured as follows:

@display
@verbatim
typedef struct {
    lmi_long lmi_primitive;
    lmi_ulong lmi_opt_length;
    lmi_ulong lmi_opt_offset;
    lmi_ulong lmi_mgmt_flags;
} lmi_optmgmt_ack_t;
@end verbatim
@end display

@subsubheading Parameters

The option management acknowledgement service primitive contains the following parameters:

@table @parm

@item lmi_primitive
Indicates the service primitive type.  Always @prim{LMI_OPTMGMT_ACK}.

@item lmi_opt_length
Indicates the length of the returned options.

@item lmi_opt_offset
Indicates the offset of the returned options from the start of the @msg{M_PCPROTO} message block.

@item lmi_mgmt_flags
Indicates the returned management flags.  These flags indicate the overall success of the options
management service.  This field can assume one of the following values:

@table @pval

@item LMI_SUCCESS
The LMS provider succeeded in negotiating or returning all of the options specified by the LMS
user in the @prim{LMI_OPTMGMT_REQ} primitive.

@item LMI_FAILURE
The LMS provider failed to negotiate one or more of the options specified by the LMS user.

@item LMI_PARTSUCCESS
The LMS provider negotiated a value of lower quality for one or more of the options specified by
the LMS user.

@item LMI_READONLY
The LMS provider failed to negotiate one or more of the options specified by the LMS user because
the option is treated as read-only by the LMS provider.

@item LMI_NOTSUPPORT
The LMS provider failed to recognize one or more of the options specified by the LMS user.

@end table

@end table

@subsubheading State

This primitive is issued by the LMS provider in direct response to an @prim{LMI_OPTMGMT_REQ} primitive.

@subsubheading New State

The new state remains unchanged.

@subsubheading Rules

The LMS provider observes the following rules when processing option management service requests:

@itemize ---

@item
When the @parm{lmi_mgmt_flags} field in the @prim{LMI_OPTMGMT_REQ} primitive is set to @pval{LMI_NEGOTIATE},
the LMS provider will attempt to negotiate a value for each of the options specified in the
request.

@item
When the flags are @pval{LMI_DEFAULT}, the LMS provider will return the default values of the specified
options, or the default values of all options known to the LMS provider if no options were
specified.

@item
When the flags are @pval{LMI_CURRENT}, the LMS provider will return the current values of the specified
options, or all options.

@item
When the flags are @pval{LMI_CHECK}, the LMS provider will attempt to negotiate a value for each of the
options specified in the request and return the resulg of the negotiation, but will not affect the
current value of the option.

@end itemize

@page
@node Event Reporting Service Primitives
@subsection Event Reporting Service Primitives

The event reporting service primitives allow the LMS provider to indicate asynchronous errors,
events and statistics collection to the LMS user.

These service primitives implement the event reporting service (@pxref{Event Reporting Service}).

@menu
* LMI_ERROR_IND::
* LMI_STATS_IND::
* LMI_EVENT_IND::
@end menu

@node LMI_ERROR_IND
@subsubsection LMI_ERROR_IND

@subsubheading Description

This LMS provider originated service primitive is issued by the LMS provider when it detects and
asynchronous error event.  The service primitive is applicable to all styles of PPA.

@subsubheading Format
@tpindex lmi_error_ind_t

The error indication service primitive consists of one @msg{M_PROTO} message block, structured as follows:

@display
@verbatim
typedef struct {
    lmi_long lmi_primitive;
    lmi_ulong lmi_errno;
    lmi_ulong lmi_reason;
    lmi_ulong lmi_state;
} lmi_error_ind_t;
@end verbatim
@end display

@subsubheading Parameters

The error indication service primitive contains the following parameters:

@table @parm

@item lmi_primitive
Indicates the service primitive type.  Always @prim{LMI_ERROR_IND}.

@item lmi_errno
Indicates the LMI error number describing the error.  This field can have one of the following
values:

@table @perr

@item LMI_UNSPEC
Unknown or unspecified.
@item LMI_BADADDRESS
Address was invalid.
@item LMI_BADADDRTYPE
Invalid address type.
@item LMI_BADDIAL
(Not used.)
@item LMI_BADDIALTYPE
(Not used.)
@item LMI_BADDISPOSAL
Invalid disposal parameter.
@item LMI_BADFRAME
Defective SDU received.
@item LMI_BADPPA
Invalid PPA identifier.
@item LMI_BADPRIM
Unrecognized primitive.
@item LMI_DISC
Disconnected.
@item LMI_EVENT
Protocol-specific event occurred.
@item LMI_FATALERR
Device has become unusable.
@item LMI_INITFAILED
Link initialization failed.
@item LMI_NOTSUPP
Primitive not supported by this device.
@item LMI_OUTSTATE
Primitive was issued from invalid state.
@item LMI_PROTOSHORT
@msg{M_PROTO} block too short.
@item LMI_SYSERR
UNIX system error.
@item LMI_WRITEFAIL
Unitdata request failed.
@item LMI_CRCERR
CRC or FCS error.
@item LMI_DLE_EOT
DLE EOT detected.
@item LMI_FORMAT
Format error detected.
@item LMI_HDLC_ABORT
Aborted frame detected.
@item LMI_OVERRUN
Input overrun.
@item LMI_TOOSHORT
Frame too short.
@item LMI_INCOMPLETE
Partial frame received.
@item LMI_BUSY
Telephone was busy.
@item LMI_NOANSWER
Connection went unanswered.
@item LMI_CALLREJECT
Connection rejected.
@item LMI_HDLC_IDLE
HDLC line went idle.
@item LMI_HDLC_NOTIDLE
HDLC link no longer idle.
@item LMI_QUIESCENT
Line being reassigned.
@item LMI_RESUMED
Line has been reassigned.
@item LMI_DSRTIMEOUT
Did not see DSR in time.
@item LMI_LAN_COLLISIONS
LAN excessive collisions.
@item LMI_LAN_REFUSED
LAN message refused.
@item LMI_LAN_NOSTATION
LAN no such station.
@item LMI_LOSTCTS
Lost Clear to Send signal.
@item LMI_DEVERR
Start of device-specific error codes.

@end table

@item lmi_reason

Indicates the reason for failure.  This field is protocol-specific.  When the @parm{lmi_errno} field
is @perr{LMI_SYSERR}, the @parm{lmi_reason} field is the UNIX error number as described in
@manref{errno(3)}.

@item lmi_state

Indicates the state of the LMS provider at the time that the primitive was issued.
This field can have one of the following values:

@table @psta
@item LMI_UNATTACHED
No PPA attached, awaiting @prim{LMI_ATTACH_REQ}.
@item LMI_ATTACH_PENDING
Waiting for attach.
@item LMI_UNUSABLE
Device cannot be used, STREAM in hung state.
@item LMI_DISABLED
PPA attached, awaiting @prim{LMI_ENABLE_REQ}.
@item LMI_ENABLE_PENDING
Waiting to send @prim{LMI_ENABLE_CON}.
@item LMI_ENABLED
Ready for use, awaiting primitive exchange.
@item LMI_DISABLE_PENDING
Waiting to send @prim{LMI_DISABLE_CON}.
@item LMI_DETACH_PENDING
Waiting for detach.
@end table

@end table

@subsubheading State

This primitive can be issued in any state for which a local acknowledgement is not pending.  The
LMS provider state at the time that the primitive was issued is indicated in the primitive.

@subsubheading New State

The new state remains unchanged.

@page
@node LMI_STATS_IND
@subsubsection LMI_STATS_IND

@subsubheading Description

This LMS provider originated primitive is issued by the LMS provider to indicate a periodic
statistics collection event.  The service primitive is applicable to all styles of PPA.

@subsubheading Format
@tpindex lmi_stats_ind_t

The statistics indication service primitive consists of one @msg{M_PROTO} message block, structured as
follows:

@display
@verbatim
typedef struct {
    lmi_long lmi_primitive;
    lmi_ulong lmi_interval;
    lmi_ulong lmi_timestamp;
} lmi_stats_ind_t;
@end verbatim
@end display

Following this structure within the @msg{M_PROTO} message block is the provider-specific statistics.

@subsubheading Parameters

The statistics indication service primitive contains the following parameters:

@table @parm

@item lmi_primitive
Indicates the service primitive type.  Always @prim{LMI_STATS_IND}.

@item lmi_interval
Indicates the statistics collection interval to which the statistics apply.  This interval is
specified in milliseconds.

@item lmi_timestamp
Indicates the UNIX time (from epoch) at which statistics were collected.  The timestamp is given in
milliseconds from epoch.

@end table

@subsubheading State

This service primitive may be issued by the LMS provider in any state in which a local
acknowledgement is not pending.

@subsubheading New State

The new state remains unchanged.

@page
@node LMI_EVENT_IND
@subsubsection LMI_EVENT_IND

@subsubheading Description

This LMS provider originated primitive is issued by the LMS provider to indicate an asynchronous
event.  The service primitive is applicable to all styles of PPA.

@subsubheading Format
@tpindex lmi_event_ind_t

The event indication service primitive consists of one @msg{M_PROTO} message block, structured as follows:

@display
@verbatim
typedef struct {
    lmi_long lmi_primitive;
    lmi_ulong lmi_objectid;
    lmi_ulong lmi_timestamp;
    lmi_ulong lmi_severity;
} lmi_event_ind_t;
@end verbatim
@end display

Following this structure within the @msg{M_PROTO} message block is the provider-specific event
information.

@subsubheading Parameters

THe event indication service primitive contains the following parameters:

@table @parm

@item lmi_primitive
Indicates the service primitive type.  Always @prim{LMI_EVENT_IND}.

@item lmi_objectid
Indicates the provider-specific object identifier that identifies the managed object to which the
event is associated.

@item lmi_timestamp
Indicates the UNIX time from epoch (in milliseconds).

@item lmi_severity
Indicates the provider-specific severity of the event.

@end table

@subsubheading State

This service primitive can be issued by the LMS provider in any state where a local
acknowledgement is not pending.  Normally the LMS provider must be in the @psta{LMI_ENABLED} state for
event reporting to occur.

@subsubheading New State

The new state remains unchanged.

@page
@node Protocol Service Primitives
@section Protocol Service Primitives

Protocol service primitives implement the Signalling Data Link Interface protocol.  Protocol service
primitives provide the SDLS user with the ability to connect transmission or reception directions of
the bit stream, pass bits for transmission and accept received bits.

These service primitives implement the protocol services (@pxref{Protocol Services}).

@menu
* Connection Service Primitives::
* Data Transfer Service Primitives::
* Disconnection Service Primitives::
@end menu

@node Connection Service Primitives
@subsection Connection Service Primitives

The connection service primitives permit the SDLS user to establish a connection between the line
(circuit or channel) and the SDLS user in the transmit, receive, or both, directions.

These service primitives implement the connection service (@pxref{Connection Service}).

@menu
* SDL_CONNECT_REQ::
@end menu

@node SDL_CONNECT_REQ
@subsubsection SDL_CONNECT_REQ

@subsubheading Description

This SDLS user originated service primitive allows the SDLS user to connect the user Stream to the
medium in the transmit, receive, or both, directions.

@subsubheading Format
@tpindex sdl_connect_req_t

The connect request primitive consists of one @msg{M_PROTO} message block, structured as follows:

@display
@verbatim
typedef struct {
    sdl_long sdl_primitive;
    sdl_ulong sdl_flags;
} sdl_connect_req_t;
@end verbatim
@end display

@subsubheading Parameters

The connect request service primitive contains the following parameters:

@table @parm

@item sdl_primitive
Specifies the service primitive type.  Always @prim{SDL_CONNECT_REQ}.

@item sdl_flags
Specifies the direction in which to connect.  This field can contain a bitwise OR of one or more of
the following flags:

@table @pval

@item SDL_RX_DIRECTION
Specifies that the SDLS user Stream is to be connected to the medium in the receive direction.

@item SDL_TX_DIRECTION
Specifies that the SDLS user Stream is to be connected to the medium in the transmit direction.

@end table

@end table

@subsubheading State

This service primitive is only valid in the @psta{LMI_ENABLED} state.

@subsubheading New State

The state remains unchanged.

@subsubheading Response

The connection request service primitive is not acknowledged.  However, the primitive may result in
a non-fatal error as follows:

@itemize @minus

@item @b{Successful:}
Upon success, the connection request service primitive is not acknowledged.

@item @b{Unsuccessful (non-fatal errors):}
Upon failure, the SDLS provider indicates a non-fatal error with a @prim{LMI_ERROR_ACK} message
containing the error.

@end itemize

@subsubheading Reasons for Failure

@page
@node Data Transfer Service Primitives
@subsection Data Transfer Service Primitives

The data transfer service primitives permit the SDLS user to pass bits for transmission to the SDLS
provider and accept received bits from the SDLS provider.

These service primitives implement the data transfer service (@pxref{Data Transfer Service}).

@menu
* SDL_BITS_FOR_TRANSMISSION_REQ::
* SDL_RECEIVED_BITS_IND::
@end menu

@node SDL_BITS_FOR_TRANSMISSION_REQ
@subsubsection SDL_BITS_FOR_TRANSMISSION_REQ

@subsubheading Description

This SDLS user originated primitive allows the SDLS user to specify bits for transmission on the
medium.

@subsubheading Format
@tpindex sdl_bits_for_transmission_req_t

The transmission request service primitive consists of one optional @msg{M_PROTO} message block followed
by one or more @msg{M_DATA} message blocks containing the bits for transmission.  The @msg{M_PROTO} message
block is structured as follows:

@display
@verbatim
typedef struct {
    sdl_long sdl_primitive;
} sdl_bits_for_transmission_req_t;
@end verbatim
@end display

@subsubheading Parameters

The transmission request service primitive contains the following parameters:

@table @parm

@item sdl_primitive
Specifies the service primitive type.  Always @prim{SDL_BITS_FOR_TRANSMISSION_REQ}.

@end table

@subsubheading State

This primitive is only valid in the @psta{LMI_ENABLED} state.

@subsubheading New State

The state remains unchanged.

@subsubheading Response
@subsubheading Reasons for Failure

@page
@node SDL_RECEIVED_BITS_IND
@subsubsection SDL_RECEIVED_BITS_IND

@subsubheading Description

This SDLS provider originated primitive is issued by the SDLS provider to indicate bits that were
received on the medium.

@subsubheading Format
@tpindex sdl_received_bits_ind_t

The receive indication service primitive consists of one optional @msg{M_PROTO} message block followed by
one or more @msg{M_DATA} message blocks containing the received bits.  The @msg{M_PROTO} message block is
structured as follows:

@display
@verbatim
typedef struct {
    sdl_long sdl_primitive;
} sdl_received_bits_ind_t;
@end verbatim
@end display

@subsubheading Parameters

The receive indication service primitive contains the following parameters:

@table @parm

@item sdl_primitive
Indicates the service primitive type.  Always @prim{SDL_RECEIVED_BITS_IND}.

@end table

@subsubheading State

This primitive is only issued by the SDLS provider in the @psta{LMI_ENABLED} state.

@subsubheading New State

The state remains unchanged.

@subsubheading Response
@subsubheading Reasons for Failure

@page
@node Disconnection Service Primitives
@subsection Disconnection Service Primitives

The disconnection service primitives permit the SDLS user to disconnect the Stream from the line
(circuit or channel) for the transmit, receive, or both, directions.  They also allow the SDLS
provider to indicate that a disconnection has occured outside of SDLS user control.

These service primitives implement the disconnection service (@pxref{Disconnection Service}).

@menu
* SDL_DISCONNECT_REQ::
* SDL_DISCONNECT_IND::
@end menu

@node SDL_DISCONNECT_REQ
@subsubsection SDL_DISCONNECT_REQ

@subsubheading Description

This SDLS user originated service primitive allows the SDLS user to disconnect the SDLS user Stream
from the bit-stream in the transmit, receive, or both, directions.

@subsubheading Format
@tpindex sdl_disconnect_req_t

The disconnect request primitive consists of one @msg{M_PROTO} message block, structured as follows:

@display
@verbatim
typedef struct {
    sdl_long sdl_primitive;
    sdl_ulong sdl_flags;
} sdl_disconnect_req_t;
@end verbatim
@end display

@subsubheading Parameters

The disconnect request service primitive contains the following parameters:

@table @parm

@item sdl_primitive
Specifies the service primitive type.  Always @prim{SDL_DISCONNECT_REQ}.

@item sdl_flags
Specifies the direction from which to disconnect.  This field can be a bitwise OR of one or more of
the following flags:

@table @pval

@item SDL_RX_DIRECTION
Specifies that the SDLS user Stream is to be disconnected from the medium in the receive direction.

@item SDL_TX_DIRECTION
Specifies that the SDLS user Stream is to be disconnected from the medium in the transmit direction.

@end table

@end table

@subsubheading State

This service primitive is only valid in the @psta{LMI_ENABLED} state.

@subsubheading New State

The state remains unchanged.

@subsubheading Response
@subsubheading Reasons for Failure

@page
@node SDL_DISCONNECT_IND
@subsubsection SDL_DISCONNECT_IND

@subsubheading Description

This SDLS provider originated primitive is issued by the SDLS provider if an autonomous event
results in the disconnection of the transmit and receive bit-streams from the SDLS user without
an explicit SDLS user request.

@subsubheading Format
@tpindex sdl_disconnect_ind_t

The disconnect indication primitive consists of one @msg{M_PROTO} message block, structured as follows:

@display
@verbatim
typedef struct {
    sdl_long sdl_primitive;
} sdl_disconnect_ind_t;
@end verbatim
@end display

@subsubheading Parameters
@subsubheading State
@subsubheading New State
@subsubheading Response
@subsubheading Reasons for Failure

@node Diagnostics Requirements
@chapter Diagnostics Requirements

Two error handling facilities should be provided to the SDLS user: one to handle non-fatal errors,
and the other to handle fatal errors.

@section Non-Fatal Error Handling Facility

These are errors that do not change the state of the SDLS interface as seen by the SDLS user and
provide the user with the option of reissuing the SDL primitive with the corrected options
specification.  The non-fatal error handling is provided only to those primitives that require
acknowledgements, and uses the @prim{LMI_ERROR_ACK} to report these errors.  These errors retain the
state of the SDLS interface the same as it was before the SDL provider received the primitive that
was in error.  Syntax errors and rule violations are reported via the non-fatal error handling
facility.

@section Fatal Error Handling Facility

These errors are issued by the SDL provider when it detects errors that are not correctable by the
SDL user, or if it is unable to report a correctible error to the SDLS user.  Fatal errors are
indicated via the STREAMS message type @msg{M_ERROR} with the UNIX system error @errno{EPROTO}.  The
@msg{M_ERROR} STREAMS message type will result in the failure of all the UNIX system calls on the
Stream.  The SDLS user can recover from a fatal error by having all the processes close the files
associated with the Stream, and then reopening them for processing.

@ignore
@node Addendum for ITU-T Q.703 Conformance
@unnumbered Addendum for ITU-T Q.703 Conformance

@node Addendum for ANSI T1.111.3 Conformance
@unnumbered Addendum for ANSI T1.111.3 Conformance

@node Addendum for ETSI Conformance
@unnumbered Addendum for ETSI Conformance

@node Mapping of SDLI Primitives to ITU-T Q.703
@appendix Mapping of SDLI Primitives to ITU-T Q.703

@node Mapping of SDLI Primitives to ANSI T1.111.3
@appendix Mapping of SDLI Primitives to ANSI T1.111.3

@node State/Event Tables
@appendix State/Event Tables

@node Primitive Precedence Tables
@appendix Primitive Precedence Tables
@end ignore

@node SDLI Input-Output Controls
@chapter Input-Output Controls

@menu
* SDLI Configuration::
* SDLI Options::
* SDLI State::
* SDLI Statistics::
* SDLI Events::
* SDLI Commands::
@end menu

These input-output controls can be used to interrogate, negotiate, reset, collect and manage a given
signalling data link or group of signalling data links.  When issued on a SDL user Stream, they can
only be used to affect the data link or links associated with the SDL user Stream.  Detached
@dfn{Style 2} Streams have no associated data links.  When issued on a mangement Stream, they can be
used to affect the configuration of any data link or links accessible to the management Stream (i.e.
provided by the same driver or module, or temporarily linked from the control Stream).

Data links can have characteristics at the data link level, as well as characteristics at the group
level.  For example, the data link may not be looped back at the data link, but may be looped back
at the link group (span).  Where the data link represents a link within a multiplexed medium (such
as PCM TDM facility), the MXI input-output controls might be available to interrogate, negotiate and
otherwise manage the link group characteristics providing that the SDL user has sufficient privilege
to do so.

Note that these input-output controls are not normally issued on the global management Stream by
user processes.  Rather, the Management Agent (@acronym{SNMP} Agent) for the driver or module is
normally responsible for managing channels within the driver or module using these input-output
controls.  Normally these input-output controls would only be issued by user processes to affect the
data link or links associated with the attached SDL user Stream.

@node SDLI Configuration
@section Configuration

These input-output controls can be used to interrogate or negotiate the configuration of a given
data link or group of data links.

@smalldisplay
@verbatim
typedef struct sdl_config {
} sdl_config_t;
@end verbatim
@end smalldisplay

The signalling data link configuration structure, @type{sdl_config_t}, contains the following
members:

@subsection Get Configuration
@subsubheading @pioc{SDL_IOCGCONFIG}

Gets the signalling data link configuration.  Upon success, the signalling data link configuration
is written to the memory extent indicated by the pointer argument to the @manref{ioctl(2)} call.

@subsection Set Configuration
@subsubheading @pioc{SDL_IOCSCONFIG}

Sets the signalling data link configuration.  Upon success, the signalling data link configuration
is read from the memory extent pointed to by the pointer argument to the @manref{ioctl(2)} call.

@subsection Test Configuration
@subsubheading @pioc{SDL_IOCTCONFIG}

Test the signalling data link configuration.  Upon success, the signalling data link configuration
is read from the memory extent specified by the pointer argument to the @manref{ioctl(2)} call,
values adjusted according to the rules for configuration, and the resulting configuraiton written
back to the memory extent specified by the pointer argumnet to the @manref{ioctl(2)} call.  Actual
configuration is not changed.

@subsection Commit Configuration
@subsubheading @pioc{SDL_IOCCCONFIG}

Confirms the signalling data link configuration.  Upon success, the signalling data link
configuration is read from the memory extent specified by the pointer argument to the
@manref{ioctl(2)} call, values adjusted according to the rules for configuration, the configuration
applied, and then the resulting configuration written back to the memory extent specified by the
pointer argument to the @manref{ioctl(2)} call.

Normally, the argument to the @pioc{SDL_IOCCCONFIG} call is the same as to an immediately preceding
@pioc{SDL_IOCTCONFIG} call.

@node SDLI Options
@section Options

These input-output controls can used to interrogate or negotiate the options associated with a
given data link or group of data links.

@node SDLI State
@section State

These input-output controls can be used to interrotate or reset the state associated with a data
link or a group of data links.

State input-output controls all take an argument containing a poitner to a @type{sdl_statem_t}
structure, formatted as follows:

@smalldisplay
@verbatim
typedef struct sdl_statem {
} sdl_statem_t;
@end verbatim
@end smalldisplay

The signalling data link state structure, @type{sdl_statem_t}, contains the following members:

@table @member
@end table

@subsection Get State
@subsubheading @pioc{SDL_IOCGSTATEM}

Requests that the state information be obtained and written to the @type{sdl_statem_t} structure
pointed to by the argument to the input-output control.

@subsection Reset State
@subsubheading @pioc{SDL_IOCCMRESET}

Request that the state associated with the data link be reset.  This input-output control takes no
argument.

@node SDLI Statistics
@section Statistics

These input-output controls can be used to collect statistics or set statistics collection intervals
associated with a data link or group of data links.

Statistic input-output controls all take an argument containing a pointer to a @type{sdl_stats_t}
structure, formatted as follows:

@smalldisplay
@verbatim
typedef struct sdl_stats {
} sdl_stats_t;
@end verbatim
@end smalldisplay

The signalling data link statistics structure, @type{sdl_stats_t}, contains the following members:

@table @member
@end table

@node SDLI Events
@section Events

These input-output controls can be used to specify the events that will be reported by a data link or
data links.

Notification input-output controls all take an argument containing a pointer to a @type{sdl_notify_t}
structure, formatted as follows:

@smalldisplay
@verbatim
typedef struct sdl_notify {
    sdl_ulong events;
} sdl_notify_t;
@end verbatim
@end smalldisplay

The signalling data link events structure, @type{sdl_notify_t}, contains the following members:

@table @member
@item events
Specifies or indicates a bitwise OR of the events associated wtih the data link.  When a bit is set,
it specifies that event reporting for the specific event is enabled for the data link; when clear,
that the event reporting is disabled.
@end table

@subsection Get Notify
@subsubheading @pioc{SDL_IOCGNOTIFY}

Requests that the events associated with the data link be obtained and written to the
@type{sdl_notify_t} structure pointed to by the argument to the input-output control.

@subsection Set Notify
@subsubheading @pioc{SDL_IOCSNOTIFY}

Requests that the events associated with the data link be read from the @type{sdl_notify_t} structure
pointed to by the argument to the input-output control and set for the data link.  Each bit set in the
@member{events} member specifies an event for which notification is to be set.

@subsection Clear Notify
@subsubheading @pioc{SDL_IOCCNOTIFY}

Request that the events associated with the data link be read from the @type{sdl_notify_t} structure
pointed to by the argument to the input-output control and cleared for the data link.  Each bit set in
the @member{events} member specifies an event for which notification is to be cleared.

@node SDLI Commands
@section Commands

These input-output controls can be used to manage a data link or data links.

Management input-output controls all take an argument containing a pointer to a @type{sdl_mgmt_t}
structure, formatted as follows:

@smalldisplay
@verbatim
typedef struct sdl_mgmt {
    sdl_ulong cmd;
} sdl_mgmt_t;
@end verbatim
@end smalldisplay

The signalling data link management structure, @type{sdl_mgmt_t}, contains the following members:

@subsection Command
@subsubheading @pioc{SDL_IOCCMGMT}

Request that the management command be read from the @type{sdl_mgmt_t} structure pointed to by the
argument to the input-output control and acted upon for the data link.

@node SDLI Management Information Base
@chapter Management Information Base

The @file{OPENSS7-MTP-MIB} provides the following Signalling Data Link specific tables:

@menu
* mtpSdlTable::		MTP SDL Configuration Table
* mtpNotifications::	MTP SDL Notifications
@end menu

@iftex
@itemize
@item @ref{mtpSdlTable}.
@end itemize
@end iftex

@ifhtml
@multitable {mtpSdlTable:}{MTP Signalling Data Link (SDL) Configuration Table}
@item @ref{mtpSdlTable}: @tab MTP Signalling Data Link (SDL) Configuration Table
@end multitable
@end ifhtml

@ifplaintext
@multitable {mtpSdlTable:}{xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx}
@item mtpSdlTable: @tab MTP Signalling Data Link (SDL) Configuration Table
@end multitable
@end ifplaintext

@node mtpSdlTable
@section MTP Signalling Data Link (SDL) Configuration Table

The @cite{MTP Signalling Data Link (SDL) Configuration Table}, @mobj{mtpSdlTable}, is a table that
provides specific configuration information for various @dfn{MTP Signalling Data Link Entities}.

Provides a table of @value{LONG} (@value{SHORT}) Entities.  Each Signalling Data Link entity
represents the path termination of the signalling data link within the signalling point as defined
in ITU-T Rec. Q.702.  The operational state is @samp{enabled} in normal operation.  In case of
failure of the part of the siganlling data link that is within the control of the managed switching
element, this state will be @samp{disabled}.

If the @mobj{vcTTpPointer} attribute is present, then the transmission rate is determined by the
cell rate fixed in the @mobj{trafficDescriptorPackage} of the @mobj{vcTTPBidirectional} instance
referenced by the @mobj{signDataLinkTp}.

Note that for a complete view fo the state of a signalling data link a network view is required.

@table @mobj
@item mtpMsId
This attribute is used for naming instances and identifiers the Managed Switching Element to which
the the Signalling Point and Signalling Data Link path termination belong.
@item mtpSpId
Provides a non-zero ordinal sub-index into the signalling point table.  This attribute is used for
naming instances.  Signalling points are contained by managed switching elements and the managed
switching element id is used to name instances of signalling points.
@item mtpSdlId
This attribute is used for naming instances.  Along with the @mobj{mtpSpId}, It provides a non-zero
ordinal index into the table.  Signalling Data Links are contained by Signalling Points which are in
turn contained by Managed Switching Elements.
@item mtpSdlType
Provides the type of signalling data link.  The type of signalling data link may be:
@itemize @bullet
@item @samp{narrowBand(1)}, for a narrow-band signalling data link.  In this case, the following
columns are present:
@itemize --
@item @mobj{mtpSdlLoopDelay}, which specifies the nominal loop delay of the narrowband signalling
data link.  This value is used to select the appropriate transmission and reception method (base or
preventative cyclic retransmission) and the appropriate timer profile.
@item @mobj{mtpSdlTransmissionRate}, which specifies the tranmission bit rate.  This value is used
to select the appropriate timer profile in conjunction with the @mobj{mtpSdlLoopDelay} field.
@item @mobj{mtpSdlStmChannel}, which specifies the channel within a primary multiplex facility.
@end itemize
@item @samp{broadband(2)}, for a SAAL signalling data link.  In this case, the following columns are
present:
@itemize --
@item @mobj{mtpSdlVcTTpPointer}
@end itemize
@item @samp{m2pa(3)}, for an M2PA signalling data link.  In this case, the following columns are
present:
@itemize --
@item @mobj{mtpSdlSctpPointer}
@end itemize
@end itemize
@item mtpSdlAdjPc
This columnar object is an entry of the SDL table that indicates the signalling point code of the
adjacent signalling point (the signalling point at the opposite end of the link).  Because the
Signalling Point could be operating in multiple National and International networks, the
@mobj{NetworkPointCode} contains a network identifier.
@item mtpSdlLoopDelay
Specifies the nominal loop delay (in milliseconds) associated with the narrowband signalling data
link.  The value zero (0), indicates that the nominal loop delay of the signalling data link is
unknown and unspecified.
@item mtpSdlOperationalState
Provides the operational state of the signalling data link following the OperationalState textual
convention of the @file{OPENSS7-SMI-MIB} module, and according to ITU-T Rec. X.721 | ISO/IEC
10165-2.
@itemize @bullet
@item @samp{disabled(0)}, the signalling data link is not operational and is unable to provide
service to a signalling link;
@item @samp{enabled(1)}, the signalling data link is operational and is able to provide service to a
signalling link.
@end itemize
@item mtpSdlEquipmentPointer
This attribute is used to reference physical equipment.  The constraints on this pointer are
determined by the @mobj{mtpSdlType} as follows:
@itemize @bullet
@item @samp{narrowBand(1)}, a narrow-band signalling data link, this pointer references a row in an
equipment table that models the narrow-band interface.  Note that in some circumstances this may be
the same as the signalling terminal equipment pointer.
@item @samp{broadband(2)}, an ATM SAAL signalling data link, this pointer references a row in an
equipment table that models the ATM SAAL NNI interface.  Note that this is normally the same as the
signalling terminal equipment pointer.
@item @samp{m2pa(3)}, of an M2PA signalling data link, this pointer references a row in a table that
models the M2PA interface.  Note that under some circumstances this may be the same as the
signalling terminal equipment pointer.
@end itemize
Where the signalling link is accessed using M2UA or M3UA, the equipment pointer references a row in
an M2UA or M3UA table that models the remote interface.  Note that this is normally the same as the
signalling terminal equipment pointer.
@item mtpSdlCIC
This attribute is used to reference the SS No. 7 trunk used by the datalink.  Its value has to be
unique within the SP's connected by the trunk.
	 
This columnar object is an entry of the SDL table that indicates the circuit identification code
(CIC) which identifies the SDL channel between the local and adjacent signalling points.  This value
is only necessary when the automatic allocation of signalling data links is supported.  For IUT-T
based networks, the CIC can have a value 0..4095, for ANSI based networks, the CIC can have a value
0..16383.
@item mtpSdlTransmissionRate
Specifies or indicates the nominal transmission rate associated with the narrowband signalling data
link.
@item mtpSdlStmChannel
This is a circuit code which uniquely identifies the circuit group or circuit facility which
provides the signalling data link.
	 
This attribute denotes the STM channel which defines the signalling datalink on the PCM
transmission system.  Note that the range is (1..31) for E1 and (1..24) for T1 and J1.
	 
For broadband (SAAL) and SIGTRAN (M2PA) signalling data links, this column is not present.
@item mtpSdlVcTTpPointer
This attribute references an object class defined in I.751.  It must be present for a broadband
signalling data link, it must not be present for a narrowband datalink (the term broadband
signalling data link signifies a data link using the SAAL NNI).  The referenced instance has a
mandatory relation via its upstream- and downstreamConnectivityPointers to one instance of object
class vcCTPBidirectional, whose Id represents the VCI of the virtual channel used by the data link.
This vcCTPBidirectional is contained in a superior object vpTTPBidirectional, which has a mandatory
relation via its upstream- and downstreamConnectivityPointers to one instance of the object class
vpTTPBidirectional, whose Id represents the VPI of the virtual path used by the data link.
	 
For narrowband (TDM) and SIGTRAN (M2PA) signalling data links, this column is not present.
@item mtpSdlSctpPointer
This attribute references an SCTP association defined in RFC 4960.  It must be present for an M2PA
signalling data link, it must not be present for a narrow-band or broadband signalling data link
(the term broadband signalling data link signifies a data link using the SAAL NNI).  The referenced
instance identifies the IP addresses and port numbers of the association.
	 
For narrowband (TDM) and broadband (ATM SAAL) signalling data links, this column is not present.
@item mtpSdlName
This attribute is an additional name for instances of the signDataLinkTp managed object class.  This
name, when provided, must be unique within the table.  An attempt to create an entry  in this table
with a name that is used by another entry in this  table will be rejected as having an inconsistent
value.
@item mtpSdlRowStatus
Provides a mechanism whereby management stations may create and delete entries in this table.
	 
A create request is rejected if the equipmentPointer would reference equipment that does not exist.
If the name package is supported: a create request with a value for the name attribute that is
already used by another instance of the same object class will be rejected.  A create request may be
rejected if the mtpSpId index does not correspond to an existing entry in the mtpSpTable.
	 
A delete request, or a request to take an entry out of service, is rejected as an inconsistent value
if the entry is referenced by an entry in the mtpSlTable.
@end table

@node mtpNotifications
@section MTP SDL Notifications

@table @mobj
@item sdlEventLostSync
This notification is sent when a frame-based interface (channel) group loses
frame synchronization on the line.  The argument of the notification is the
mtpSdlTable index.
@item sdlEventSuError
This notification is sent when a frame-based interface (channel) group receives
an SU in Error.  The argument of the notification is the mtpSdlTable index.
@item sdlEventTxFail
This notification is sent when the transmit section of the interface fails.  The
argument of the notification is the mtpSdlTable index.
@item sdlEventRxFail
This notification is sent when the receive section of the interface fails.  The
argument of the notification is the mtpSdlTable index.
@end table

@node SDLI Header Files
@appendix Header Files

@menu
* LMI Header File Listing::
* SDLI Header File Listing::
@end menu

@node LMI Header File Listing
@section LMI Header File Listing

@noindent
@smallformat
@verbatiminclude lmi.h
@end smallformat

@node SDLI Header File Listing
@section SDLI Header File Listing

@noindent
@smallformat
@verbatiminclude sdli.h
@end smallformat

@node SDLI Drivers and Modules
@appendix Drivers and Modules

@menu
* SDLI Drivers::
* SDLI Modules::
@end menu

The Signalling Data Link Interface (SDLI) is used to provide services to a number of @cite{STREAMS}
drivers and modules in addition to user-space applications.  @cite{OpenSS7} provides a range of
@cite{STREAMS} multiplexing drivers, pseudo-device drivers, and pushable modules that complement the
drivers that provide signalling data link services at their service interfaces.

@node SDLI Drivers
@section Drivers

Although theoretically a driver can provide the SDL interface directly, there are currently no
drivers that do so.  Any driver that provides the SDL interface (SDLI) can easily provide the
Channel interface (CHI) instead and provide much wider use of the driver.
Drivers that provide the Channel Interface (CHI) can specify the @manref{sdl(4)} module in an
@manref{autopush(8)} specification to transparently provide both the CHI and SDLI interfaces.

@node SDLI Modules
@section Modules

@subsection SDL Module

The SDL module, @manref{sdl(4)}, is a pushable @dfn{STREAMS} module named @file{sdl}.  Its purpose
is to take an @cite{OpenSS7} Channel Interface (CHI) Stream and convert it for use as an SDL
interface Stream by applications programs, drivers or modules expecting the SDLI interface.  The
insertion and use of this module is illustrated in @figref{B-1}.

@figuresized{sdlib1,B-1,SS7 Protocol Stack,5.0in}

The @file{sdl} pushable @dfn{STREAMS} module accepts a Channel Inteface (CHI) at it lower service
boundary and provides a Signalling Data Link Inteface (SDLI) at its upper service boundary.

Note that, as @file{sdl} is a pushable module, it is possible to include an @manref{autopush(8)}
specification for a driver providing the Channel Interface (CHI), to provide a specialized device
minor or minor name that clones channel device layers following the SDLI approach.

The role of the SDL module in the @cite{OpenSS7} SS7 protocol suite is illustrated in @figref{B-1}
and @figref{C-1}.

@node SDLI Applications
@appendix Applications

@section SDLI in SS7 Protocol Suite

The signalling data link interface is an important lower layer component of the @cite{OpenSS7} SS7
signalling stack.

@figuresized{sdlic1,C-1,SS7 Protocol Stack,5.0in}

@figref{C-1} illustrates the use of the SDLI interfae specifications in the formation of the SS7
(Signalling System No. 7) protocol stack.

The SDLI interface is responsible for providing access to the signalling data links necessary for
implementing signalling terminals and signalling links in accordance with ITU-T Recommendationds
Q.702 and Q.703 as well as similar national standards (e.g. ANSI T1.111).

Use of the @cite{OpenSS7} softswitch matrix a the lowest level, as illustrated in @figref{C-1},
provides a mechanism whereby any communications channel available to the host can be used as an SS7
link.

Due to the high performance of the @cite{Linux Fast-STREAMS} and power of recent CPUs, it is
possible to break the SS7 atack into multiple lower layers.  This has the following advantages:

@itemize ---
@item Because the driver is no longer closely integrated, it is easy to reuse the same driver for
different purposes (such as X.25, Frame Relay, ISDN, Voice) and not just SS7 data links.
@item Drivers are no longer specific ot SS7.
@item Drivers can easily be used for voice and switching.
@item Devices can be share across protocol suites and applications.
@item The SDLI interface can support fractional E1/T1 spans.
@end itemize

The advent of the high-performance @cite{Linux Fast-STREAMS} as well as extremely powerful COTS
processors, it is easily possibl to spearate protocol levels.@footnote{As it turns out, @cite{Linux
Fast-STREAMS} has such high peformance that higher levels of performance can be acheived by
splitting functions into narrowly defined modules that can use @cite{STREAMS} flow control to keep
code paths scortchingly hot.}  Thus, the drivers provide the generic Multiplex Interface (MXI) that
provides direct access to the multiplexed spans, or the generic Multiplex Interface (MXI) to provide
direct access to non-multiplexed discrete channel devices, and these generic driver interfaces can
be linked under the switching matrix multiplexing driver so that a sngle upper MXI user Stream can
provide access to any channel, span, or fractional span within the entire host.

@node SDLI Utilities
@appendix Utilities

@section SDL Configuration Utility

@manref{sdlconfig(8)}

@node SDLI File Formats
@appendix File Formats

@node Glossary
@unnumbered Glossary

@table @emph

@item Signalling Data Link Service Data Unit

A grouping of SDL user data whose boundaries are preserved from one end of the signalling data link
connection to the other.

@item Data transfer

The phase in connection and connectionless modes that supports the transfer of data between to
signalling data link users.

@item SDL provider

The signalling data link layer protocol that provides the services of the signalling data link
interface.

@item SDL user

The user-level application or user-level or kernel-level protocol that accesses the services of the
signalling data link layer.

@item Local management

The phase in connection and connectionless modes in which a SDL user initializes a Stream and
attaches a PPA address to the Stream.  Primitives in this phase generate local operations only.

@item PPA

The point at which a system attaches itself to a physical communications medium.

@item PPA identifier

An identifier of a particular physical medium over which communication transpires.
@end table

@node Acronyms
@unnumbered Acronyms

@multitable {LMS Provider}{International Telecommunication Union - Telecom Sector}
@item @acronym{AERM} @tab Alignment Error Rate Monitor
@item @acronym{CC} @tab Congestion Control
@item @acronym{DAEDR} @tab Delimitation Alignment and Error Detection (Receive)
@item @acronym{DAEDT} @tab Delimitation Alignment and Error Detection (Transmit)
@item @acronym{EIM} @tab Errored Interval Monitor
@item @acronym{IAC} @tab Initial Alignment Control
@item @acronym{ITU-T} @tab International Telecommunications Union - Telecom Sector
@item @acronym{LMS} Provider @tab A provider of Local Management Services
@item @acronym{LMS} @tab Local Management Service
@item @acronym{LMS} User @tab A user of Local Management Services
@item @acronym{LM} @tab Local Management
@item @acronym{LSC} @tab Link State Control
@item @acronym{PPA} @tab Physical Point of Attachment
@item @acronym{RC} @tab Reception Control
@item @acronym{SDLI} @tab Signalling Data Link Interface
@item @acronym{SDL SDU} @tab Signalling Data Link Service Data Unit
@item @acronym{SDLS} @tab Signalling Data Link Service
@item @acronym{SDL} @tab Signalling Data Link
@item @acronym{SDTI} @tab Signalling Data Terminal Interface
@item @acronym{SDTS} @tab Signalling Data Terminal Service
@item @acronym{SDT} @tab Signalling Data Terminal
@item @acronym{SLI} @tab Signalling Link Interface
@item @acronym{SLS} @tab Signalling Link Service
@item @acronym{SL} @tab Signalling Link
@item @acronym{SL} @tab Signalling Link
@item @acronym{SS7} @tab Signalling System No. 7
@item @acronym{TXC} @tab Transmission Control
@end multitable

@node References
@unnumbered References

@multitable {000}{Geoffrey Gerrien, ``CDI - Application Program Interface Guide,'' Gcom, Inc., March 1999.}
@item [1] @anchor{Q.700} @tab @uref{http://www.itu.int/rec/T-REC-Q.700/,ITU-T Recommendation Q.700},
@cite{Introduction to CCITT Signalling System No. 7},
March 1993, (Geneva), ITU,
@uref{http://www.itu.int/,,ITU-T Telecommunication Standardization Sector of ITU}, 
(Previously ``CCITT Recommendation'').
@item [2] @anchor{Q.701} @tab @uref{http://www.itu.int/rec/T-REC-Q.701/,ITU-T Recommendation Q.701},
@cite{Functional Description of the Message Transfer Part (MTP) of Signalling System No. 7},
March 1993, (Geneva), ITU,
@uref{http://www.itu.int/,,ITU-T Telecommunication Standardization Sector of ITU}, 
(Previously ``CCITT Recommendation'').
@item [3] @anchor{Q.702} @tab @uref{http://www.itu.int/rec/T-REC-Q.702/,ITU-T Recommendation Q.702},
@cite{Signalling System No. 7---Signalling Data Link},
March 1993, (Geneva), ITU,
@uref{http://www.itu.int/,,ITU-T Telecommunication Standardization Sector of ITU}, 
(Previously ``CCITT Recommendation'').
@item [4] @anchor{Q.703} @tab @uref{http://www.itu.int/rec/T-REC-Q.703/,ITU-T Recommendation Q.703},
@cite{Signalling System No. 7---Signalling Link},
March 1993, (Geneva), ITU,
@uref{http://www.itu.int/,,ITU-T Telecommunication Standardization Sector of ITU}, 
(Previously ``CCITT Recommendation'').
@item [5] @anchor{Q.704} @tab @uref{http://www.itu.int/rec/T-REC-Q.704/,ITU-T Recommendation Q.704},
@cite{Message Transfer Part---Signalling Network Functions and Messages},
March 1993, (Geneva), ITU,
@uref{http://www.itu.int/,,ITU-T Telecommunication Standardization Sector of ITU}, 
(Previously ``CCITT Recommendation'').
@item [6] @anchor{CDIAPI} @tab
Geoffrey Gerrietts; Dave Grothe, Mikel Matthews, Dave Healy,
@cite{CDI---Application Program Interface Guide},
March 1999,
(Savoy, IL),
GCOM, Inc.
@item [7] @anchor{Q.771} @tab @uref{http://www.itu.int/rec/T-REC-Q.771/,ITU-T Recommendation Q.771},
@cite{Signalling System No. 7---Functional Description of Transaction Capabilities},
March 1993, (Geneva), ITU,
@uref{http://www.itu.int/,,ITU-T Telecommunication Standardization Sector of ITU}, 
(Previously ``CCITT Recommendation'').
@end multitable

@node Licenses
@unnumbered Licenses

All code presented in this manual is licensed under the @ref{GNU Affero General Public License}.
The text of this manual is licensed under the @ref{GNU Free Documentation License}, with no
invariant sections, no front-cover texts and no back-cover texts.  Please note, however, that it is
just plain wrong to modify statements of, or attribute statements to, the Author or @cite{OpenSS7
Corporation}.

@menu
* GNU Affero General Public License::
* GNU Free Documentation License::
@end menu

@include texi/agpl3.texi
@page
@include texi/fdl13.texi

@ifnotplaintext
@c skip indexes for plain text (regex search works better)
@c @iftex
@c @node Indices
@c @unnumbered Indices
@c @end iftex

@c @ifnottex
@c @c concatenate indices for html and info
@node Index
@unnumbered Index
@printindex cp
@c @end ifnottex

@c @iftex
@c @menu
@c * Concept Index::
@c * Protocol State Index::
@c * Primitive Index::
@c * Primitive Structure and Type Index::
@c * Primitive Structure Field Index::
@c * Primitive Values Index::
@c * Primitive Error Values Index::
@c * Input-Output Control Index::
@c * MIB Object Index::
@c * Manual Page Index::
@c @end menu
@c 
@c @node Concept Index
@c @section Concept Index
@c @printindex cp
@c 
@c @page
@c @node Protocol State Index
@c @section Protocol State Index
@c @printindex st
@c 
@c @page
@c @node Primitive Index
@c @section Primitive Index
@c @printindex pr
@c 
@c @page
@c @node Primitive Structure and Type Index
@c @section Primitive Structure and Type Index
@c @printindex tp
@c 
@c @page
@c @node Primitive Structure Field Index
@c @section Primitive Structure Field Index
@c @printindex vr
@c 
@c @page
@c @node Primitive Values Index
@c @section Primitive Values Index
@c @printindex pv
@c 
@c @page
@c @node Primitive Error Values Index
@c @section Primitive Error Values Index
@c @printindex pe
@c 
@c @page
@c @node Input-Output Control Index
@c @section Input-Output Control Index
@c @printindex ct
@c 
@c @page
@c @node MIB Object Index
@c @section MIB Object Index
@c @printindex mo
@c 
@c @page
@c @node Manual Page Index
@c @section Manual Page Index
@c @printindex mp
@c @end iftex
@end ifnotplaintext

@page
@shortcontents
@page
@contents
@bye
