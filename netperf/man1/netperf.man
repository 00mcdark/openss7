'\" rtp
.\" -*- nroff -*- vim: ft=nroff noautoindent nocindent nosmartindent
.\"
.\" @(#) $Id: $
.\"
.\" =========================================================================
.\"
.\" Copyright (C) 2001-2004  OpenSS7 Corporation <www.openss7.com>
.\"
.\" All Rights Reserved.
.\"
.\" Permission is granted to make and distribute verbatim copies of this
.\" manual provided the copyright notice and this permission notice are
.\" preserved on all copies.
.\"
.\" Permission is granted to copy and distribute modified versions of this
.\" manual under the conditions for verbatim copying, provided that the
.\" entire resulting derived work is distributed under the terms of a
.\" permission notice identical to this one
.\" 
.\" Since the Linux kernel and libraries are constantly changing, this
.\" manual page may be incorrect or out-of-date.  The author(s) assume no
.\" responsibility for errors or omissions, or for damages resulting from
.\" the use of the information contained herein.  The author(s) may not
.\" have taken the same level of care in the production of this manual,
.\" which is licensed free of charge, as they might when working
.\" professionally.
.\" 
.\" Formatted or processed versions of this manual, if unaccompanied by
.\" the source, must acknowledge the copyright and authors of this work.
.\"
.\" -------------------------------------------------------------------------
.\"
.\" U.S. GOVERNMENT RESTRICTED RIGHTS.  If you are licensing this Software
.\" on behalf of the U.S. Government ("Government"), the following
.\" provisions apply to you.  If the Software is supplied by the Department
.\" of Defense ("DoD"), it is classified as "Commercial Computer Software"
.\" under paragraph 252.227-7014 of the DoD Supplement to the Federal
.\" Acquisition Regulations ("DFARS") (or any successor regulations) and the
.\" Government is acquiring only the license rights granted herein (the
.\" license rights customarily provided to non-Government users).  If the
.\" Software is supplied to any unit or agency of the Government other than
.\" DoD, it is classified as "Restricted Computer Software" and the
.\" Government's rights in the Software are defined in paragraph 52.227-19
.\" of the Federal Acquisition Regulations ("FAR") (or any success
.\" regulations) or, in the cases of NASA, in paragraph 18.52.227-86 of the
.\" NASA Supplement to the FAR (or any successor regulations).
.\"
.\" =========================================================================
.\" 
.\" Commercial licensing and support of this software is available from
.\" OpenSS7 Corporation at a fee.  See http://www.openss7.com/
.\" 
.\" =========================================================================
.\"
.\" Last Modified $Date: $ by $Author: $
.\"
.\" =========================================================================
.so netperf.macros
.R1
bracket-label "\fR[\fB" "\fR]" "\fR, \fB"
no-default-database
database netperf.refs
accumulate
move-punctuation
abbreviate A
join-authors ", " ", " " and "
et-al " et al" 2 3
abbreviate-label-ranges ".."
sort-adjacent-labels
.R2
.\"
.\"
.TH NETPERF 1L "$Date$" "$Name$" "User Commands"
.\" =========================================================================
.\" =========================================================================
.SH NAME
.B netperf
\- a network performance benchmark
.\" =========================================================================
.\" =========================================================================
.SH SYNOPSIS
.PP
.HP 12
\fBnetperf\fR [\fB-t\fR\ \fITESTNAME\fR] [\fIglobal-test-options\fR] [-- [\fItest-specific-options\fR]]
.HP 12
\fBnetperf\fR \fB-h\fR,\ \fB--help\fR
.HP 12
\fBnetperf\fR [\fB-t\fR\ \fITESTNAME\fR]
[\fB-a\fR\ [\fILOC-SND-ALIGN\fR][\fB,\fR][\fILOC-RCV-ALIGN\fR]]
[\fB-A\fR\ [\fIREM-SND-ALIGN\fR][\fB,\fR][\fIREM-RCV-ALIGN\fR]]
[\fB-c\fR\ [\fILOC-RATE\fR]]
[\fB-C\fR\ [\fIREM-RATE\fR]]
[\fB-d\fR]
[\fB-f\fR\ {\ \fBG\fR\ |\ \fBM\fR\ |\ \fBK\fR\ |\ \fBg\fR\ |\ \fBm\fR\ |\ \fBk\fR\ }]
[\fB-F\fR\ \fIFILL-FILE\fR]
[\fB-H\fR\ \fIREMOTE-HOST\fR]
[\fB-i\fR\ \fIMAX\fB,\fIMIN\fR]
[\fB-I\fR\ \fILEVEL\fR[\fB,\fIWIDTH\fR]]
[\fB-l\fR\ \fITESTLEN\fR]
[\fB-n\fR\ \fINUM-CPUS\fR]
[\fB-o\fR\ [\fILOC-SND-OFFSET\fR][\fB,\fR][\fILOC-RCV-OFFSET\fR]]
[\fB-O\fR\ [\fIREM-SND-OFFSET\fR][\fB,\fR][\fIREM-RCV-OFFSET\fR]]
[\fB-p\fR\ \fIPORTNUM\fR]
[\fB-P\fR\ {\ \fB0\fR\ |\ \fB1\fR\ }]
[\fB-v\fR\ \fIVERBOSITY\fR]
[--\ [\fItest-specific-options\fR]]
.HP 12
\fBnetperf\fR \fB-t\fR\ \fIsocket-test\fR [\fIglobal-test-options\fR]
[--
[\fB-CDVz\fR]
.br
[\fB-b\fR\ \fIBURST-SIZE\fR]
[\fB-I\fR\ [\fILOC-IP-ADDR\fR][\fB,\fR][\fIREM-IP-ADDR\fR]]
[\fB-m\fR\ \fILOC-MSG-SIZE\fR]
[\fB-M\fR\ \fIREM-MSG-SIZE\fR]
[\fB-p\fR\ [\fIMIN-PORTNUM\fR][\fB,\fR][\fIMAX-PORTNUM\fR]]
[\fB-P\fR\ [\fILOC-PORTNUM\fR][\fB,\fR][\fIREM-PORTNUM\fR]]
[\fB-r\fR\ [\fIREQ-SIZE\fR][\fB,\fR][\fIRSP-SIZE\fR]]
[\fB-s\fR\ [\fILOC-SNDBUF\fR][\fB,\fR][\fILOC-RCVBUF\fR]]
[\fB-S\fR\ [\fIREM-SNDBUF\fR][\fB,\fR][\fIREM-RCVBUF\fR]]
[\fB-w\fR\ \fIRCV-WIDTH\fR]
[\fB-W\fR\ \fISND-WIDTH\fR]
]
.HP 12
\fBnetperf\fR \fB-t\fR\ \fIxti-test\fR [\fIglobal-test-options\fR]
[--
[\fB-DV\fR]
.br
[\fB-I\fR\ [\fILOC-IP-ADDR\fR][\fB,\fR][\fIREM-IP-ADDR\fR]]
[\fB-m\fR\ \fILOC-MSG-SIZE\fR]
[\fB-M\fR\ \fIREM-MSG-SIZE\fR]
[\fB-r\fR\ [\fIREQ-SIZE\fR][\fB,\fR][\fIRSP-SIZE\fR]]
[\fB-s\fR\ [\fILOC-SNDBUF\fR][\fB,\fR][\fILOC-RCVBUF\fR]]
[\fB-S\fR\ [\fIREM-SNDBUF\fR][\fB,\fR][\fIREM-RCVBUF\fR]]
[\fB-w\fR\ \fIRCV-WIDTH\fR]
[\fB-W\fR\ \fISND-WIDTH\fR]
[\fB-X\fR\ [\fILOC-DEVICE\fR][\fB,\fR][\fIREM-DEVICE\fR]]
]
.HP 12
\fBnetperf\fR \fB-t\fR\ \fIipv6-test\fR [\fIglobal-test-options\fR]
[--
[\fB-DV\fR]
.br
[\fB-H\fR\ \fIHOSTNAME\fR]
[\fB-m\fR\ \fILOC-MSG-SIZE\fR]
[\fB-M\fR\ \fIREM-MSG-SIZE\fR]
[\fB-p\fR\ [\fIMIN-PORTNUM\fR][\fB,\fR][\fIMAX-PORTNUM\fR]]
[\fB-r\fR\ [\fIREQ-SIZE\fR][\fB,\fR][\fIRSP-SIZE\fR]]
[\fB-s\fR\ [\fILOC-SNDBUF\fR][\fB,\fR][\fILOC-RCVBUF\fR]]
[\fB-S\fR\ [\fIREM-SNDBUF\fR][\fB,\fR][\fIREM-RCVBUF\fR]]
[\fB-w\fR\ \fIRCV-WIDTH\fR]
[\fB-W\fR\ \fISND-WIDTH\fR]
]
.HP 12
\fBnetperf\fR \fB-t\fR\ \fIunix-test\fR [\fIglobal-test-options\fR]
[--
.br
[\fB-m\fR\ \fILOC-MSG-SIZE\fR]
[\fB-M\fR\ \fIREM-MSG-SIZE\fR]
[\fB-p\fR\ \fIPATH\fR]
[\fB-s\fR\ [\fILOC-SNDBUF\fR][\fB,\fR][\fILOC-RCVBUF\fR]]
[\fB-S\fR\ [\fIREM-SNDBUF\fR][\fB,\fR][\fIREM-RCVBUF\fR]]
[\fB-r\fR\ [\fIREQ-SIZE\fR][\fB,\fR][\fIRSP-SIZE\fR]]
]
.HP 12
\fBnetperf\fR \fB-t\fR\ \fIdlpi-test\fR [\fIglobal-test-options\fR]
[--
.br
[\fB-D\fR\ [\fILOC-DEVICE\fR][\fB,\fR][\fIREM-DEVICE\fR]]
[\fB-m\fR\ \fILOC-MSG-SIZE\fR]
[\fB-M\fR\ \fIREM-MSG-SIZE\fR]
[\fB-p\fR\ [\fILOC-PPA\fR][\fB,\fR][\fIREM-PPA\fR]]
[\fB-r\fR\ [\fIREQ-SIZE\fR][\fB,\fR][\fIRSP-SIZE\fR]]
[\fB-s\fR\ \fISAP\fR]
[\fB-w\fR\ [\fILOC-SND-WINDOW\fR][\fB,\fR][\fILOC-RCV-WINDOW\fR]]
[\fB-W\fR\ [\fIREM-SND-WINDOW\fR][\fB,\fR][\fIREM-RCV-WINDOW\fR]]
]
.HP 12
\fBnetperf\fR \fB-t\fR\ \fIdns-test\fR [\fIglobal-test-options\fR]
[--
.br
[\fB-f\fR\ \fIFILENAME\fR]
[\fB-H\fR\ \fIHOSTNAME\fR]
]
.HP 12
\fBnetperf\fR \fB-t\fR\ \fIatm-test\fR [\fIglobal-test-options\fR]
[--
.br
[\fIatm-options\fR]]
.HP 12
\fBnetperf\fR \fB-t\fR\ \fIhippi-test\fR [\fIglobal-test-options\fR]
[--
.br
[\fIhippi-options\fR]]
.HP 12
\fBnetperf\fR \fB-t\fR\ \fIlwp-test\fR [\fIglobal-test-options\fR]
[--
.br
[\fIlwp-options\fR]]
.\" =========================================================================
.\" =========================================================================
.SH DESCRIPTION
.PP
.B netperf
is a benchmark that can be used to measure various aspects of
networking performance.
Currently, its focus is on bulk data transfer and request/response
performance using SCTP, TCP or UDP, and the Berkeley Sockets
interface. In addition, tests for XTI,
.[
xti
.]
DLPI,
.[
dlpi
.]
and Unix Domain
Sockets, tests for IPv6 may be conditionally compiled-in.
.\" =========================================================================
.SS TESTS
.PP
.B netperf
perfoms the following tests:
.PP
.TS
center tab(:);
lblblblb
l|l|l|l.
Test Name:API:Protocol:Test
_
SCTP_STREAM:Sockets:SCTP:STREAM
SCTP_MAERTS:::MAERTS
SCTP_SENDFILE:::SENDFILE
_:::_
SCTP_RR:::RR
SCTP_NBRR:::NBRR
SCTP_CRR:::CRR
SCTP_TRR:::TRR
SCTP_CC:::CC
_::_:_
TCP_STREAM::TCP:STREAM
TCP_MAERTS:::MAERTS
TCP_SENDFILE:::SENDFILE
_:::_
TCP_RR:::RR
TCP_NBRR:::NBRR
TCP_CRR:::CRR
TCP_TRR:::TRR
TCP_CC:::CC
_::_:_
UDP_STREAM::UDP:STREAM
_:::_
UDP_RR:::RR
_:_:_:_
XTI_SCTP_STREAM:XTI:SCTP:STREAM
_:::_
XTI_SCTP_RR:::RR
XTI_SCTP_CRR:::CRR
XTI_SCTP_TRR:::TRR
XTI_SCTP_CC:::CC
_::_:_
XTI_TCP_STREAM::TCP:STREAM
_:::_
XTI_TCP_RR:::RR
XTI_TCP_CRR:::CRR
XTI_TCP_CC:::CC
_::_:_
XTI_UDP_STREAM::UDP:STREAM
_:::_
XTI_UDP_RR:::RR
_:_:_:_
SCTPIPV6_STREAM:IPv6 Sockets:SCTP:STREAM
_:::_
SCTPIPV6_RR:::RR
SCTPIPV6_CRR:::CRR
SCTPIPV6_TRR:::TRR
_::_:_
TCPIPV6_STREAM::TCP:STREAM
_:::_
TCPIPV6_RR:::RR
TCPIPV6_CRR:::CRR
TCPIPV6_TRR:::TRR
_::_:_
UDPIPV6_STREAM::UDP:STREAM
_:::_
UDPIPV6_RR:::RR
_:_:_:_
STREAM_STREAM:Unix Sockets:CO:STREAM
_:::_
STREAM_RR:::RR
_::_:_
DG_STREAM::CL:STREAM
_:::_
DG_RR:::RR
_:_:_:_
DLCO_STREAM:DLPI:CO:STREAM
_:::_
DLCO_RR:::RR
_::_:_
DLCL_STREAM::CL:STREAM
_:::_
DLCL_RR:::RR
_:_:_:_
LOC_CPU:none:none:none
REM_CPU:::
_:_:_:_
.TE
.\" =========================================================================
.SS PROTOCOLS
.PP
.B netperf
tests the following protocols:
.PP
.TS
tab(:);
lbw(12n)lssss.
SCTP:Stream Control Transmission Protocol
TCP:Transmission Control Protocol
UDP:User Datagram Protocol
UNIX:Unix Domain (CO and CL) Protocols
ATM:Asynchronous Transfer Mode
HIPPI:
.TE
.\" =========================================================================
.SS APPLICATION PROGRAMMING INTERFACES
.PP
.B netperf
tests the following APIs:
.PP
.TS
tab(:);
lbw(12n)lssss.
BSD:BSD/POSIX Sockets Interface
XTI:X/Open Transport Interface (XTI/TLI) XNS 5.2 SuSv2
.[
xti
.]
IPV6:POSIX IPv6 Sockets Interface
UNIX:Unix Domain Sockets Interface
DLPI:Data Link Provider Interface
.[
dlpi
.]
ATM:FORE ATM Interface
HiPPI:HP-UX Interface
.TE
.\" =========================================================================
.SS BENCHMARKING PERFORMANCE TESTS
.PP
.B netperf
test the following benchmarks:
.PP
.TS
tab(:);
lbw(12n)lssss.
STREAM:Unidirectional Stream Test (Client to Server)
MAERTS:Unidirectional Stream Test (Server to Client)
SENDFILE:Unidirectional Stream Test (BSD \fBsendfile\fR(2))
RR:Blocking Request/Response
NBRR:Non-blocking Request/Response
CRR:Connect/Request/Response
TRR:Transaction Request/Response
CC:Connect/Close
CPU:CPU Syncrhonization Tests
.TE

.\" =========================================================================
.SS Unidirectional Stream Test
.PP
The most common used of
.BR netperf (1)
is measuring bulk data transfer performance.  This is also referred to as
\(lqstream\(rq or \(lqunidirectional stream\(rq performance tests.
Essentially, these tests will measure how fast one system can send data to
another or how fast the other system can receive it.
.\" =========================================================================
.PP
There are three unidirectional stream tests peformed by
.BR netperf (1):
.IB * _STREAM
tests,
.IB * _MAERTS
tests and
.IB * _SENDFILE
tests.
.IB * _STREAM
tests connect and transfer data in the direction from client to server.
.IB * _MAERTS
tests connect and transfer data in the direction from server to client.
.IB * _SENDFILE
tests connect and transfer data in the direction from client to server using
BSD
.BR sendfile (2).

.\" -------------------------------------------------------------------------
.TP
.B STREAM \fR\- Unidirectional Stream Test (Client to Server)
.\" -------------------------------------------------------------------------
.TP
.B MAERTS \fR\- Unidirectional Stream Test (Server to Client)
.RS
.PP
These tests are similar to the
.IB * _STREAM
tests, except that data is send in the direction from server to client instead
of the direction from client to server.
.RE
.\" -------------------------------------------------------------------------
.TP
.B SENDFILE \fR\- Unidirectional Stream Test (BSD \fBsendfile\fR(2))

.\" =========================================================================
.SS Request/Response Tests
.PP
Request/response performance is the second class of tests that can be
investigated with
.BR netperf (1).
Generally speaking,
.BR netperf (1)
request/response performance is quoted as \(lqtransactions per second\(rq for
a given request and response size.  A transaction is defined as the exchange
of a single request and a single response.  From a transaction rate, one can
infer one way and round-trip average latency.
.\" -------------------------------------------------------------------------
.TP
.B RR \- Request/Response:
The Request/Response test is the simplest form of transaction performance
test.  The client establishes a connection to the server and then continuously
exchanges Request/Response pairs.
These tests are applicable to both Connection-Oriented and Connectionless protocols.
.\" -------------------------------------------------------------------------
.TP
.B NBRR \- Non-blocking Request/Response:
These tests are intended to implement the same as the
.B RR
tests, except that they use POSIX-style non-blocking sockets.
These tests are applicable to both Connection-Oriented and Connectionless protocols.
.\" =========================================================================
.PP
It is expected that benchmarks resulting from
.B NBRR
tests will be worse than benchmarks resulting from
.B RR
tests.  This is because blocking operation typcially works in the favor of the
system for Request/Repsonse tests in that the system properly anticipates the
next expected event in the blocking tests, whereas it does not anticipate in
the non-blocking tests.
.PP
Because of this negative effect, and although it would be rather
straightforward to extend other interfaces to support non-blocking
Request/Response operation, only the Sockets API currently supports the
.B NBRR
tests.
.PP
Blocking and non-blocking Request/Response tests support the following common
test specific options:
.\" -------------------------------------------------------------------------
.TP
\fB-r\fR\ [\fIREQ-SIZE\fR][\fB,\fR][\fIRSP-SIZE\fR]
Specifies the request
.RI [ REQ-SIZE ]
(or response
.RI [ RSP-SIZE ])
sizes.
At least one of 
.I REQ-SIZE
or
.I RSP-SIZE
must be specified.
If there is no comma (`,') in the option argument, then the specified size
applies to both the request and response size.
.\" -------------------------------------------------------------------------
.TP
.BI -s " \fR[\fILOC-SNDBUF\fR][\fB,\fR][\fILOC-RCVBUF\fR]
Sets the local send
.RI ( LOC-SNDBUF )
and receive
.RI ( LOC-RCVBUF )
buffer sizes.
One of
.I LOC-SNDBUF
and
.I LOC-RCVBUF
must be specified.
If no comman (`,') is present in the option argument, then the specified
buffer size applies to both the local send buffer size as well as the local
receive buffer size.
.\" -------------------------------------------------------------------------
.TP
.BI -S " \fR[\fIREM-SNDBUF\fR][\fB,\fR][\fIREM-RCVBUF\fR]
Sets the remote send
.RI ( REM-SNDBUF )
and receive
.RI ( REM-RCVBUF )
buffer sizes.
One of
.I REM-SNDBUF
and
.I REM-RCVBUF
must be specified.
If no comman (`,') is present in the option argument, then the specified
buffer size applies to both the remote send buffer size as well as the remote
receive buffer size.
.\" -------------------------------------------------------------------------
.TP
.B CRR \- Connect/Request/Response:
These tests are intended to test the performance of establishing a connection,
exchanging a request/response pair, and repeating.  It is expected that this
would be a good starting-point for comparison of T/TCP with TCP for
transactional workloads.  It will also look (can look) much like the
communication pattern of http for www access.
The
.B CRR
tests are only applicable to connection-oriented protocols.
.\" -------------------------------------------------------------------------
.TP
.B TRR \- Transaction Request/Response:
These tests are intended to test the performance of establishing a connection,
exchanging a request/response pair, and repeating.  It is expected that this
would be a good starting-point for comparison of T/TCP with classic TCP for
transaction workloads.  It will also look (can look) much like the
communication pattern of http for www access.  See also, however, the
.B CRR
tests above.
The
.B TRR
tests are only applicable to connection-oriented protocols.
.\" -------------------------------------------------------------------------
.PP
There is one significant difference between the way that the
.B TRR
tests and the
.B CRR
tests are implemented.  On POSIX/BSD Sockets interface, the
.BR sendto (2)
call is used instead of
.BR connect (2)
and
.BR send (2).
Under the STREAMS XTI API,
.[
xti
.]
data is sent with the
.BR t_connect (3)
call and also with the
.BR t_accept (3)
call rather than separate data transmissions.
.PP
This means that the connection is established coincident with the sending of
data.  Implementations of T/TCP might be able to take advantage of this.
Also, the Linux implementation of TCP might also be able to take advantage of
this.  One system call is avoided and the calling process will block in a wait
queue awaiting establishment of the connection and will be able to transfer
data immediately once the connection is established.
.PP
For SCTP there might be some more significant differences.  Unlike T/TCP and
TCP, SCTP is able to transfer the request data with the COOKIE-ECHO and
receive the response data with the COOKIE-ACK, reducing two message exchanges.
When best implemented, SCTP should perform better in the
.B TRR
tests than it does in the
.B CRR
tests.
.PP
In the original
.BR netperf ,
the
.BR CRR " and " TRR
tests were only implemented for
.B TCP
on the Sockets API.  OpenSS7 has implemented these tests also for the
.B SCTP
protocol on the Sockets API, as well as both the
.BR SCTP " and " TCP
protocols on the XTI API.
.\" =========================================================================
.PP
In addition to the common test specific options for blocking and non-blocking
Response/Request tests, the
.BR CRR " and " TRR
tests take the following common test specific options:
.\" -------------------------------------------------------------------------
.TP
.BI -p " \fR[\fIMIN-PORTNUM\fR][\fB,\fR][\fIMAX-PORTNUM\fR]
Specify the minimum and maximum port numbers used for the
.IB * _CRR
and
.IB * _TRR
tests.
At least one of
.I MIN-PORTNUM
or
.I MAX-PORTNUM
must be specified.
If there is no comma (`,') in the option argument, then the specified port
number applies to both the minimum and maximum.
This option is only applicable to
.BR SCTP " and " TCP
tests.
.\" -------------------------------------------------------------------------
.TP
.B CC \- Connect/Close:
This test is intended to test the performance of establishing a connection,
and then closing it again.  This test is of somewhat arcane interest since no
packets are exchanged between the user-space processes, but it will show the
raw overhead of establishing an
.B SCTP
association or
.B TCP
connection.  That service demand could them be compared with the sum of the
service demands of a
.B CRR
and
.B RR
test and presumably there would be a discernable relationship between the
tests.
The
.B CC
tests are only applicable to connection-oriented protocols.
.\" =========================================================================
.PP
In the original
.BR netperf ,
the
.B CC
tests were only impleemnted for
.B TCP
on the Sockets API.  OpenSS7 has implemented these tests also for the
.B SCTP
protocol on the Sockets API, as well as both the
.BR SCTP " and " TCP
protocols on the XTI API.

.\" =========================================================================
.SS CPU Synchronization Tests
.\" -------------------------------------------------------------------------
.TP
.B LOC_CPU \fR\- Local CPU
.\" -------------------------------------------------------------------------
.TP
.B REM_CPU \fR\- Remote CPU


.\" =========================================================================
.\" =========================================================================
.SH OPTIONS
.PP
.\" =========================================================================
.SS COMMAND OPTIONS
.PP
.\" -------------------------------------------------------------------------
.TP
[\ \fB-t\fR,\ \fB--testname=\fITESTNAME\fR\ ]
Specify the test to perform.
Valid testnames are (but not always compiled-in):
.RS
.PP
.BR XTI_SCTP_STREAM ", "
.BR XTI_SCTP_MAERTS ", "
.BR XTI_SCTP_RR ", "
.BR XTI_SCTP_CRR ", "
.BR XTI_SCTP_TRR ", "
.BR XTI_SCTP_CC ", "
.BR XTI_TCP_STREAM ", "
.BR XTI_TCP_MAERTS ", "
.BR XTI_TCP_RR ", "
.BR XTI_TCP_CRR ", "
.BR XTI_TCP_TRR ", "
.BR XTI_TCP_CC ", "
.BR XTI_UDP_STREAM ", "
.BR XTI_UDP_RR ", "
.BR SCTP_STREAM ", "
.BR SCTP_MAERTS ", "
.BR SCTP_RR ", "
.BR SCTP_CRR ", "
.BR SCTP_TRR ", "
.BR TCP_STREAM ", "
.BR TCP_MAERTS ", "
.BR TCP_RR ", "
.BR TCP_CRR ", "
.BR TCP_TRR ", "
.BR UDP_STREAM ", "
.BR UDP_RR ", "
.BR SCTPIPV6_STREAM ", "
.BR SCTPIPV6_RR
.BR SCTPIPV6_CRR ", "
.BR SCTPIPV6_TRR ", "
.BR TCPIPV6_STREAM ", "
.BR TCPIPV6_RR ", "
.BR TCPIPV6_CRR ", "
.BR TCPIPV6_TRR ", "
.BR UDPIPV6_STREAM ", "
.BR UDPIPV6_RR ", "
.BR DLCO_STREAM ", "
.BR DLCO_RR ", "
.BR DLCL_STREAM ", "
.BR DLCL_RR ", "
.BR STREAM_STREAM ", "
.BR STREAM_RR ", "
.BR DG_STREAM ", "
.BR DG_RR ", "
.BR LOC_CPU ", "
.BR REM_CPU .
.RE
.\" -------------------------------------------------------------------------
.TP
\fB-h\fR,\ \fB--help\fR
Display a usage string, and exit.

.\" =========================================================================
.SS GLOBAL TEST OPTIONS
.PP
Global test options are specified on the command line before the first
double-dash (`--').
Not all global test options are applicable to all tests.
The global test options are as follows:

.\" -------------------------------------------------------------------------
.TP
\fB-4\fR,\ \fB--ipv4\fR
Use IPv4 for the control socket (the default).
.\" -------------------------------------------------------------------------
.TP
\fB-6\fR,\ \fB--ipv6\fR
Use IPv6 instead of IPv4 for the control socket.
.\" -------------------------------------------------------------------------
.TP
\fB-a\fR,\ \fB--loc-align=\fR[\fILOC-SND-ALIGN\fR][\fB,\fR][\fILOC-RCV-ALIGN\fR]
Alter the send and receive buffer alignments on the local system.
At least one of
.I LOC-SND-ALIGN
or
.I REM-SND-ALIGN
must be specified.
If there is no comma (`,') in the option argument, the specified value applies
to both the send and receive.
This defaults to 8 bytes.
.\" -------------------------------------------------------------------------
.TP
\fB-A\fR,\ \fB--rem-align=\fR[\fIREM-SND-ALIGN\fR][\fB,\fR][\fIREM-RCV-ALIGN\fR]
As -a, but for the remote system.
At least one of
.I LOC-SND-ALIGN
or
.I REM-SND-ALIGN
must be specified.
If there is no comma (`,') in the option argument, the specified value applies
to both the send and receive.
.\" -------------------------------------------------------------------------
.TP
\fB-b\fR,\ \fB--burst=\fIBURST\fR
Number of burst packets per interval.
.\" -------------------------------------------------------------------------
.TP
\fB-c\fR,\ \fB--loc-cpu=\fR[\fILOC-RATE\fR]
Request CPU utilization and service demand calculations for the
local system. If the optional rate parameter is specified,
.B netperf
will use that instead of calculating the rate itself.
.\" -------------------------------------------------------------------------
.TP
\fB-C\fR,\ \fB--rem-cpu=\fR[\fIREM-RATE\fR]
As -c, but for the remote system.
.\" -------------------------------------------------------------------------
.TP
\fB-d\fR,\ \fB--debug\fR
Increase the quantity of debugging output displayed during
a test (possibly at the expense of performance).
.\" -------------------------------------------------------------------------
.TP
\fB-D\fR,\ \fB--demo\fR
Demo mode: not supported on Linux.
.\" -------------------------------------------------------------------------
.TP
\fB-f\fR,\ \fB--format=\fR{\fBG\fR|\fBM\fR|\fBK\fR|\fBg\fR|\fBm\fR|\fBk\fR}
Change the units of measure for *_STREAM tests. Capital letters are
powers of two, lowercase are powers of ten.
.\" -------------------------------------------------------------------------
.TP
\fB-F\fR,\ \fB--filefile=\fIFILL-FILE\fR
Pre-fill the send buffers with data from the named file. This is
intended to provide a means for avoiding buffers that are filled with
data which is trivially easy to compress. A good choice for a file
that should be present on any system is this manpage - netperf.man.
Other files may be provided as part of the distribution.
.\" -------------------------------------------------------------------------
.TP
\fB-H\fR,\ \fB--host\fR=\fIREMOTE-HOST\fR
Set the hostname (or IP address) of the remote system.
.\" -------------------------------------------------------------------------
.TP
\fB-i\fR,\ \fB--iterations=\fIMAX\fB,\fIMIN\fR
Set the maximum and minimum number of iterations when trying to reach
certain confidence levels.
.\" -------------------------------------------------------------------------
.TP
\fB-I\fR,\ \fB--interval=\fILEVEL\fR[\fB,\fIWIDTH\fR]
Specify the confidence level (either 95 or 99 - 99 is the default) and
the width of the confidence interval as a percentage (default 10)
.\" -------------------------------------------------------------------------
.TP
\fB-K\fR,\ \fB--rem-count=\fR[\fIREM-DIRTY\fR][\fB,\fR][\fIREM-CLEAN\fR]
.\" -------------------------------------------------------------------------
.TP
\fB-k\fR,\ \fB--loc-count=\fR[\fILOC-DIRTY\fR][\fB,\fR][\fILOC-CLEAN\fR]
.\" -------------------------------------------------------------------------
.TP
\fB-l\fR,\ \fB--length=\fITESTLEN\fR
Specify the length of the test (default 10 seconds).
A negative value sets the number of request/response transactions,
or the number of bytes for a stream test.
.\" -------------------------------------------------------------------------
.TP
\fB-n\fR,\ \fB--numcpus=\fINUM-CPUS\fR
Specify the number of CPU's in the system on those systems for which
netperf has no way to find the number of CPU's programatically. 
.\" -------------------------------------------------------------------------
.TP
\fB-o\fR,\ \fB--loc-offset=\fR[\fILOC-SND-OFFSET\fR][\fB,\fR][\fILOC-RCV-OFFSET\fR]
Set an offset from the alignment specified with -a.
At least one of
.I LOC-SND-OFFSET
or
.I REM-SND-OFFSET
must be specified.
If there is no comma (`,') in the option argument, the specified offset
applies to both the local and remote system.
.\" -------------------------------------------------------------------------
.TP
\fB-O\fR,\ \fB--rem-offset=\fR[\fIREM-SND-OFFSET\fR][\fB,\fR][\fIREM-RCV-OFFSET\fR]
As -o, but for the remote system.
At least one of
.I LOC-RCV-OFFSET
or
.I REM-RCV-OFFSET
must be specified.
If there is no comma (`,') in the option argument, the specified offset
applies to both the local and remote system.
.\" -------------------------------------------------------------------------
.TP
\fB-p\fR,\ \fB--port=\fIPORTNUM\fR
Connect to a
.C netsetver
listening on the specified port, rather than using /etc/services.
.\" -------------------------------------------------------------------------
.TP
\fB-P\fR,\ \fB--print=\fR{\fB0\fR|\fB1\fR}
Show (1) or suppress (0) the test banner.
.\" -------------------------------------------------------------------------
.TP
\fB-v\fR,\ \fB--verbose=\fIVERBOSITY\fR
Set the verbosity level for the test (only with -P).
.\" -------------------------------------------------------------------------
.TP
\fB-V\fR,\ \fB--version\fR
Prints version information and exits.
.\" -------------------------------------------------------------------------
.TP
\fB-w\fR,\ \fB--rate=\fIRATE\fR
Send packets at \fIRATE\fR packets per millisecond.
.\" -------------------------------------------------------------------------
.TP
\fB-W\fR,\ \fB--width=\fIWIDTH\fR
Width of the user space data buffer ring.
.\" -------------------------------------------------------------------------
.TP
\fB--copying\fR
Prints copying permissions and exists.

.SS TEST SPECIFIC OPTIONS

.\" -------------------------------------------------------------------------
.TP
\fB-h\fR,\ \fB--help\fR
Display a usage string based on the test name set with -t, and exit.

Please consult the netperf manual
.I 
Netperf: A Network Performance Benchmark 
(netperf.ps) for more information. Or you can join and mail to 
netperf-talk@netperf.org.

.\" =========================================================================
.SS SOCKETS OPTIONS
.PP
These tests include
.I *
tests as follows:
.BI SCTP_ *\fR,
.BI TCP_ *\fR,
.BI UDP_ *\fR.
.\" -------------------------------------------------------------------------
.TP
\fB-t\fR,\ \fB--testname=\fISOCKET-TEST\fR
Tests available for the POSIX/BSD Sockets Interface consist of the following:
.BR SCTP_STREAM ,
.BR SCTP_MAERTS ,
.BR SCTP_SENDFILE ,
.BR SCTP_RR ,
.BR SCTP_NBRR ,
.BR SCTP_CRR ,
.BR SCTP_TRR ,
.BR SCTP_CC ,
.BR TCP_STREAM ,
.BR TCP_MAERTS ,
.BR TCP_SENDFILE ,
.BR TCP_RR ,
.BR TCP_NBRR ,
.BR TCP_CRR ,
.BR TCP_TRR ,
.BR TCP_CC ,
.BR UDP_STREAM ,
.\".BR UDP_MAERTS ,
.\".BR UDP_SENDFILE ,
.BR UDP_RR .
.\".BR UDP_NBRR ,
These tests use the BSD/POSIX Sockets API.
.\" -------------------------------------------------------------------------
.PP
Sockets test specific options are specified on the command line following the
first double-dash (`--').  Not all sockets options are applicable to all
tests.
The BSD/POSIX Sockets API test specific options and arguments are as follows:
.\" -------------------------------------------------------------------------
.TP
\fB-h\fR,\ \fB--help\fR
Prints a usage statement for the specified (or default) test and exits.
.\" -------------------------------------------------------------------------
.TP
\fB-b\fR,\ \fB--burst=\fIBURST-SIZE\fR
specifies the initial request burst size.
.\" -------------------------------------------------------------------------
.TP
\fB-C\fR,\ \fB--cork\fR
use option
.IR TCP_CORK ", " SCTP_CORK ", " T_TCP_CORK " or " T_SCTP_CORK
to cork the socket or stream when preparing to send for the
.IB * _SENDFILE
tests.
.\" -------------------------------------------------------------------------
.TP
\fB-D\fR,\ \fB--nodelay\fR
.B -D
use option
.IR TCP_NODELAY " or " SCTP_NODELAY
to suppress the Nagle algorithm with (or without) Minshall modifications.
.\" -------------------------------------------------------------------------
.TP
\fB-I\fR,\ \fB--ipaddr=\fR[\fILOC-IP-ADDR\fR][\fB,\fR][\fIREM-IP-ADDR\fR]
Specify the IP address of the local
.RI ( LOC-IP-ADDR )
or remote
.RI ( REM-IP-ADDR )
host.  This address is used in a request to
.BR bind (2)
or
.BR t_bind (3)
on the local or remote machine before the connection is established.
At least one of
.I LOC-IP-ADDR
or
.I REM-IP-ADDR
must be specified.
If no comma (`,') is specified  in the option argument, then the IP address
applies to both the local and remote IP address.
The default is
.B INADDR_ANY
for both the local and remote addresses.
.\" -------------------------------------------------------------------------
.TP
\fB-m\fR,\ \fB--loc-msgsize=\fILOC-MSG-SIZE\fR
Specifies the amount of data sent in an individual
.BR send (2)
operation.  This also affects the data sent with a
.BR sendto (2)
call in the request response tests.
.\" -------------------------------------------------------------------------
.TP
\fB-M\fR,\ \fB--rem-msgsize=\fIREM-MSG-SIZE\fR
Specifies the amount of data received in an individual
.BR recv (2)
call.
.\" -------------------------------------------------------------------------
.TP
\fB-p\fR,\ \fB--portrange=\fR[\fIMIN-PORTNUM\fR][\fB,\fR][\fIMAX-PORTNUM\fR]
Specify the minimum and maximum port numbers used for the
.IB * _CRR
and
.IB * _TRR
tests.
At least one of
.I MIN-PORTNUM
or
.I MAX-PORTNUM
must be specified.
If there is no comma (`,') in the option argument, then the specified port
number applies to both the minimum and maximum.
.\" -------------------------------------------------------------------------
.TP
\fB-P\fR,\ \fB--portnum=\fR[\fILOC-PORTNUM\fR][\fB,\fR][\fIREM-PORTNUM\fR]
Specify the local
.RI ( LOC-PORTNUM )
and remote
.RI ( REM-PORTNUM )
data port number for the tests to allow them to
run through port proxies.
At least one of
.I LOC-PORTNUM
or
.I REM-PORTNUM
must be specified.  If no comma (`,') is specified in the option argument,
then the port number specified applies to both the local and remote port.
.\" -------------------------------------------------------------------------
.TP
\fB-r\fR,\ \fB--rrsize=\fR[\fIREQ-SIZE\fR][\fB,\fR][\fIRSP-SIZE\fR]
Specifies the request
.RI ( REQ-SIZE )
or response
.RI ( RSP-SIZE )
size.
At least one of
.I REQ-SIZE
or
.I RSP-SIZE
must be specified.
If there is no comma (`,') in the option argument, then the specified size
applies to both the requset and response size.
.\" -------------------------------------------------------------------------
.TP
\fB-s\fR,\ \fB--loc-bufsize=\fR[\fILOC-SNDBUF\fR][\fB,\fR][\fILOC-RCVBUF\fR]
Sets the local send
.RI ( LOC-SNDBUF )
and receive
.RI ( LOC-RCVBUF )
buffer sizes.
One of
.I LOC-SNDBUF
and
.I LOC-RCVBUF
must be specified.
If no comman (`,') is present in the option argument, then the specified
buffer size applies to both the local send buffer size as well as the local
receive buffer size.
.\" -------------------------------------------------------------------------
.TP
\fB-S\fR,\ \fB--rem-bufsize=\fR[\fIREM-SNDBUF\fR][\fB,\fR][\fIREM-RCVBUF\fR]
Sets the remote send
.RI ( REM-SNDBUF )
and receive
.RI ( REM-RCVBUF )
buffer sizes.
One of
.I REM-SNDBUF
and
.I REM-RCVBUF
must be specified.
If no comman (`,') is present in the option argument, then the specified
buffer size applies to both the remote send buffer size as well as the remote
receive buffer size.
.\" -------------------------------------------------------------------------
.TP
\fB-V\fR,\ \fB--copyavoid\fR
Specify send and receive copy avoidance (HP-UX 9.0 and later only).  This sets
the socket options
.B SO_SND_COPYAVOID
and
.B SO_RCV_COPYAVOID
on the socket if these options are available available locally and will
attempt to set them remotely.
.\" -------------------------------------------------------------------------
.TP
\fB-w\fR,\ \fB--rcv-width=\fIRCV-WIDTH\fR
Ignored.
.\" -------------------------------------------------------------------------
.TP
\fB-W\fR,\ \fB--snd-width=\fISND-WIDTH\fR
Sets the
.I SND-WIDTH
of the user space data buffer.  This will be the number of send sized buffers
allocated in the
.IB * _STREAM
and
.IB * _MAERTS
tests.  It may be enhanced to set both send and receive widths, but for now it
is just the sending socket or stream in the
.IB * _STREAM
and
.IB * _MAERTS
tests.
.\" -------------------------------------------------------------------------
.TP
\fB-z\fR,\ \fB--dummy\fR
Ignored.

.\" =========================================================================
.SS XTI OPTIONS
.PP
These tests include
.BI XTI_ *
tests as follows:
.BI XTI_SCTP_ *\fR,
.BI XTI_TCP_ *\fR,
.BI XTI_UDP_ *\fR.
.\" -------------------------------------------------------------------------
.TP
\fB-t\fR,\ \fB--testname=\fIXTI-TEST\fR
Tests available for the X/Open Transport Interface (XTI/TLI)
.[
xti
.]
consist of the following:
.BR XTI_SCTP_STREAM ,
.BR XTI_SCTP_RR ,
.BR XTI_SCTP_CRR ,
.BR XTI_SCTP_TRR ,
.BR XTI_SCTP_CC ,
.BR XTI_TCP_STREAM ,
.BR XTI_TCP_RR ,
.BR XTI_TCP_CRR ,
.BR XTI_TCP_TRR ,
.BR XTI_TCP_CC ,
.BR XTI_UDP_STREAM ,
.BR XTI_UDP_RR .
These tests use the X/Open Transport Interface (XTI/TLI) API.
.[
xti
.]
.\" -------------------------------------------------------------------------
.PP
XTI test specific optoins are specified on the command line following the
first double-dash (`--').  Not all XTI options are applicable to all tests.
The STREAMS XTI API test specific options and arguments are as follows:
.\" -------------------------------------------------------------------------
.TP
\fB-h\fR,\ \fB--help\fR
Prints a usage statement for the specified test and exits.
.\" -------------------------------------------------------------------------
.TP
\fB-D\fR,\ \fB--nodelay\fR
use option
.IR T_TCP_NODELAY " or " T_SCTP_NODELAY
to suppress the Nagle algorithm with (or without) Minshall modifications.
.\" -------------------------------------------------------------------------
.TP
\fB-m\fR,\ \fB--loc-msgsize=\fILOC-MSG-SIZE\fR
Specifies the amount of data sent in an individual
.BR t_send (2)
operation.  This also affects the data sent with a
.BR t_connect (3)
or
.BR t_accept (3)
call in the request response tests.
.\" -------------------------------------------------------------------------
.TP
\fB-M\fR,\ \fB--rem-msgsize=\fIREM-MSG-SIZE\fR
Specifies the amount of data received in an individual
.BR t_rcv (3),
.BR t_listen (3),
.BR t_connect (3)
or
.BR t_rcvconnect(3)
call.
.\" -------------------------------------------------------------------------
.TP
\fB-r\fR,\ \fB--rrsize=\fR[\fIREQ-SIZE\fR][\fB,\fR][\fIRSP-SIZE\fR]
Specifies the request
.RI ( REQ-SIZE )
or response
.RI ( RSP-SIZE )
size.
At least one of
.I REQ-SIZE
or
.I RSP-SIZE
must be specified.
If there is no comma (`,') in the option argument, then the specified size
applies to both the request and response size.
.\" -------------------------------------------------------------------------
.TP
\fB-s\fR,\ \fB--loc-bufsize=\fR[\fILOC-SNDBUF\fR][\fB,\fR][\fILOC-RCVBUF\fR]
Sets the local send
.RI ( LOC-SNDBUF )
and receive
.RI ( LOC-RCVBUF )
buffer sizes.
One of
.I LOC-SNDBUF
and
.I LOC-RCVBUF
must be specified.
If no comman (`,') is present in the option argument, then the specified
buffer size applies to both the local send buffer size as well as the local
receive buffer size.
.\" -------------------------------------------------------------------------
.TP
\fB-S\fR,\ \fB--rem-bufsize=\fR[\fIREM-SNDBUF\fR][\fB,\fR][\fIREM-RCVBUF\fR]
Sets the remote send
.RI ( REM-SNDBUF )
and receive
.RI ( REM-RCVBUF )
buffer sizes.
One of
.I REM-SNDBUF
and
.I REM-RCVBUF
must be specified.
If no comman (`,') is present in the option argument, then the specified
buffer size applies to both the remote send buffer size as well as the remote
receive buffer size.
.\" -------------------------------------------------------------------------
.TP
\fB-V\fR,\ \fB--copyavoid\fR
Ignored.
Specify send and receive copy avoidance.  This feature is not implemented for
.BI XTI_ *
tests.
.\" -------------------------------------------------------------------------
.TP
\fB-w\fR,\ \fB--rcv-width=\fIRCV-WIDTH\fR
Ignored.
.\" -------------------------------------------------------------------------
.TP
\fB-W\fR,\ \fB--snd-width=\fISND-WIDTH\fR
Sets the
.I SND-WIDTH
of the user space data buffer.  This will be the number of send sized buffers
allocated in the
.IB * _STREAM
and
.IB * _MAERTS
tests.  It may be enhanced to set both send and receive widths, but for now it
is just the sending socket or stream in the
.IB * _STREAM
and
.IB * _MAERTS
tests.
.\" -------------------------------------------------------------------------
.TP
\fB-X\fR,\ \fB--devices=\fR[\fILOC-DEVICE\fR][\fB,\fR][\fIREM-DEVICE\fR]
Specifies the local
.RI ( LOC-DEVICE )
or remote
.RI ( REM-DEVICE )
device character special file of the appropriate type to open
with
.BR t_open (3).
At least one of
.I LOC-DEVICE
or
.I REM-DEVICE
must be specified.
If there is no comma (`,') in the option argument, the specified device
character special file applies to both the local and remote device file.
The default device files are dependent upon the protocol tested and default as
follows:

.TS
tab(:);
l|l
lb|li.
Protocol:File
_
SCTP:/dev/sctp
TCP:/dev/tcp
UDP:/dev/udp
FORE:/dev/atm
DLPI:/dev/dlpi
TICOTSORD:/dev/ticotsord
TICOTS:/dev/ticots
TICLTS:/dev/ticlts
.TE

.\" =========================================================================
.SS IPV6 OPTIONS
.PP
These tests include
.IB * IPV6_ *
tests as follows:
.BI SCTPIPV6_ *\fR,
.BI TCPIPV6_ *\fR,
.BI UDPIPV6_ *\fR.
.\" -------------------------------------------------------------------------
.TP
\fB-t\fR,\ \fB--testname=\fIIPV6-TEST\fR
Tests available for the POSIX/BSD IPV6 Sockets Interface consist of the following:
.BR SCTPIPV6_STREAM ", "
.BR SCTPIPV6_RR
.BR SCTPIPV6_CRR ", "
.BR SCTPIPV6_TRR ", "
.BR TCPIPV6_STREAM ", "
.BR TCPIPV6_RR ", "
.BR TCPIPV6_CRR ", "
.BR TCPIPV6_TRR ", "
.BR UDPIPV6_STREAM ", "
.BR UDPIPV6_RR .
These tests use the BSD/POSIX IPv6 Sockets API.
.\" -------------------------------------------------------------------------
.PP
IPv6 test specific options are specified on the command line following the
first double-dash (`--').  Not all IPv6 options are applicable to all
tests.
The BSD/POSIX IPv6 Sockets API test specific options and arguments are as follows:
.\" -------------------------------------------------------------------------
.TP
\fB-h\fR,\ \fB--help\fR
Prints a usage statement for the specified test and exits.
.\" -------------------------------------------------------------------------
.TP
\fB-D\fR,\ \fB--nodelay\fR
Use option
.I TCP_NODELAY
or
.I SCTP_NODELAY
to suppress the Nagle algorithm with (or without) Minshal modifications.
.\" -------------------------------------------------------------------------
.TP
\fB-H\fR,\ \fB--hostname=\fIHOSTNAME\fR
Specify the remote
.IR HOSTNAME ;
this is separate from the global test option that controls the hostname for the
control connection.
.\" -------------------------------------------------------------------------
.TP
\fB-m\fR,\ \fB--loc-msgsize=\fILOC-MSG-SIZE\fR
Specifies the amount of data sent in an individual
.BR send (2)
operation.  This also affects the data sent with a
.BR sendto (2)
call in the request response tests.
.\" -------------------------------------------------------------------------
.TP
\fB-M\fR,\ \fB--rem-msgsize=\fIREM-MSG-SIZE\fR
Specifies the amount of data received in an individual
.BR recv (2)
call.
.\" -------------------------------------------------------------------------
.TP
\fB-p\fR,\ \fB--portrange=\fR[\fIMIN-PORTNUM\fR][\fB,\fR][\fIMAX-PORTNUM\fR]
Specify the minimum and maximum port numbers used for the
.IB * _CRR
and
.IB * _TRR
tests.
At least one of
.I MIN-PORTNUM
or
.I MAX-PORTNUM
must be specified.
If there is no comma (`,') in the option argument, then the specified port
number applies to both the minimum and maximum.
.\" -------------------------------------------------------------------------
.TP
\fB-r\fR,\ \fB--rrsize=\fR[\fIREQ-SIZE\fR][\fB,\fR][\fIRSP-SIZE\fR]
Sets the request
.RI ( REQ-SIZE )
and response
.RI ( RSP-SIZE )
sizes.
One of
.I REQ-SIZE
and
.I RSP-SIZE
must be specified.
If there is no comma (`,') in the option argument, then the specified size
applies to both the request and response size.
.\" -------------------------------------------------------------------------
.TP
\fB-s\fR,\ \fB--loc-bufsize=\fR[\fILOC-SNDBUF\fR][\fB,\fR][\fILOC-RCVBUF\fR]
Sets the local send
.RI ( LOC-SNDBUF )
and receive
.RI ( LOC-RCVBUF )
buffer sizes.
One of
.I LOC-SNDBUF
and
.I LOC-RCVBUF
must be specified.
If no comman (`,') is present in the option argument, then the specified
buffer size applies to both the local send buffer size as well as the local
receive buffer size.
.\" -------------------------------------------------------------------------
.TP
\fB-S\fR,\ \fB--rem-bufsize=\fR[\fIREM-SNDBUF\fR][\fB,\fR][\fIREM-RCVBUF\fR]
Sets the remote send
.RI ( REM-SNDBUF )
and receive
.RI ( REM-RCVBUF )
buffer sizes.
One of
.I REM-SNDBUF
and
.I REM-RCVBUF
must be specified.
If no comman (`,') is present in the option argument, then the specified
buffer size applies to both the remote send buffer size as well as the remote
receive buffer size.
.\" -------------------------------------------------------------------------
.TP
\fB-V\fR,\ \fB--copyavoid\fR
Specify send and receive copy avoidance (HP-UX 9.0 and later only).  This sets
the socket options
.B SO_SND_COPYAVOID
and
.B SO_RCV_COPYAVOID
on the socket if these options are available available locally and will
attempt to set them remotely.
.\" -------------------------------------------------------------------------
.TP
\fB-w\fR,\ \fB--rcv-width=\fIRCV-WIDTH\fR
Ignored.
.\" -------------------------------------------------------------------------
.TP
\fB-W\fR,\ \fB--snd-width=\fISND-WIDTH\fR
Sets the
.I SND-WIDTH
of the user space data buffer.  This will be the number of send sized buffers
allocated in the
.IB * _STREAM
and
.IB * _MAERTS
tests.  It may be enhanced to set both send and receive widths, but for now it
is just the sending socket or stream in the
.IB * _STREAM
and
.IB * _MAERTS
tests.

.\" =========================================================================
.SS UNIX OPTIONS
.PP
These tests include
.I *
tests as follows:
.BI STREAM_ *\fR,
.BI DG_ *\fR,
.BI LWPSTR_ *\fR,
.BI LWPDG_ *\fR.
.\" -------------------------------------------------------------------------
.TP
\fB-t\fR,\ \fB--testname=\fIUNIX-TEST\fR
Tests available for the POSIX/BSD Unix Domain Sockets Interface consist of the following:
.BR STREAM_STREAM ,
.BR STREAM_RR ,
.BR DG_STREAM ,
.BR DG_RR ,
.BR LWPSTR_STREAM ,
.BR LWPSTR_RR ,
.BR LWPDG_STREAM ,
.BR LWPDG_RR .
These tests use the BSD/POSIX Unix Domain Sockets API.
.\" -------------------------------------------------------------------------
.PP
Unix test specific options are specified on the command line following the
first double-dash (`--').  Not all Unix options are applicable to all
tests.
The BSD/POSIX Unix Domain Sockets API test specific options and arguments are as follows:
.\" -------------------------------------------------------------------------
.TP
\fB-h\fR,\ \fB--help\fR
.\" -------------------------------------------------------------------------
.TP
\fB-m\fR,\ \fB--loc-msgsize\fILOC-MSG-SIZE\fR
Specifies the amount of data (in bytes) send in an individual
.BR send (2)
operation.  This also affects the data sent with a
.BR sendto (2)
call int he request/response tests.
.\" -------------------------------------------------------------------------
.TP
\fB-M\fR,\ \fB--rem-msgsize\fIREM-MSG-SIZE\fR
.\" -------------------------------------------------------------------------
Sepcifies the amount of data received (in bytes) in an individual
.BR recv (2)
call.
.TP
\fB-p\fR,\ \fB--path=\fIPATH\fR
Specifies the path to the directory where temporary files are created.
.RI [ Default:
see
.BR tempnam (3)]
.\" -------------------------------------------------------------------------
.TP
\fB-s\fR,\ \fB--loc-bufsize\fR[\fILOC-SNDBUF\fR][\fB,\fR][\fILOC-RCVBUF\fR]
Sets the local send
.RI ( LOC-SNDBUF )
and receive
.RI ( LOC-RCVBUF )
buffer sizes.  One of
.IR LOC-RCVBUF " and " LOC-SNDBUF
must be specified.  If no comma (`,') is present in the option argument,
then the specified buffer size applies to both the local send buffer size as
well as the local receive buffer size.
.\" -------------------------------------------------------------------------
.TP
\fB-S\fR,\ \fB--rem-bufsize\fR[\fIREM-SNDBUF\fR][\fB,\fR][\fIREM-RCVBUF\fR]
Sets the remote send
.RI ( REM-SNDBUF )
and receive
.RI ( REM-RCVBUF )
buffer sizes.  One of
.IR REM-RCVBUF " and " REM-SNDBUF
must be specified.  If no comma (`,') is present in the option argument,
then the specified buffer size applies to both the remote send buffer size as
well as the remote receive buffer size.
.\" -------------------------------------------------------------------------
.TP
\fB-r\fR,\ \fB--rrsize\fR[\fIREQ-SIZE\fR][\fB,\fR][\fIRSP-SIZE\fR]
Specifies the request
.RI ( REQ-SIZE )
or response
.RI ( RSP-SIZE )
size.
At least one of
.I REQ-SIZE
or
.I RSP-SIZE
must be specified.
If there is no comma (`,') in the option argument, then the specified size
applies to both the request and response size.

.\" =========================================================================
.SS DLPI OPTIONS
.PP
These tests include
.BI DLC ? _ *
tests as follows:
.BI DLCO_ *\fR,
.BI DLCL_ *\fR.
.\" -------------------------------------------------------------------------
.TP
\fB-t\fR,\ \fB--testname=\fIDLPI-TEST\fR
Tests available for the DLPI Interface
.[
dlpi
.]
consist of the following:
.BR DLCO_STREAM ,
.BR DLCO_RR ,
.BR DLCL_STREAM ,
.BR DLCL_RR .
These tests use the DLPI API.
.[
dlpi
.]
.\" -------------------------------------------------------------------------
.PP
DLPI test specific options are specified on the command line following the
first double-dash (`--').  Not all DLPI options are applicable to all tests.
The DLPI API test specific options are as follows:
.\" -------------------------------------------------------------------------
.TP
\fB-h\fR,\ \fB--help\fR
Prints a usage statement for the specified test and exits.
.\" -------------------------------------------------------------------------
.TP
\fB-D\fR,\ \fB--devices=\fR[\fILOC-DEVICE\fR][\fB,\fR][\fIREM-DEVICE\fR]
Specifies the local
.RI ( LOC-DEVICE )
or remote
.RI ( REM-DEVICE )
device character special file of the appropriate type to open
with
.BR open (2).
At least one of
.I LOC-DEVICE
or
.I REM-DEVICE
must be specified.
If there is no comma (`,') in the option argument, the specified device
character special file applies to both the local and remote device file.
The default device files are dependent upon the protocol tested and default as
follows:

.TS
tab(:);
l|l
lb|li.
Protocol:File
_
DLPI-CO:/dev/dlpi_co
DLPI-CL:/dev/dlpi_cl
.TE
.\" -------------------------------------------------------------------------
.TP
\fB-m\fR,\ \fB--loc-msgsize=\fILOC-MSG-SIZE\fR
Specifies the amount of data sent in an individual
.BR send (2)
operation.  This also affects the data sent with a
.BR sendto (2)
call in the request response tests.
.\" -------------------------------------------------------------------------
.TP
\fB-M\fR,\ \fB--rem-msgsize=\fIREM-MSG-SIZE\fR
Specifies the amount of data received in an individual
.BR recv (2)
call.
.\" -------------------------------------------------------------------------
.TP
\fB-p\fR,\ \fB--ppas=\fR[\fILOC-PPA\fR][\fB,\fR][\fIREM-PPA\fR]
.\" -------------------------------------------------------------------------
.TP
\fB-r\fR,\ \fB--rrsize=\fR[\fIREQ-SIZE\fR][\fB,\fR][\fIRSP-SIZE\fR]
Sets the local send
.RI ( LOC-SNDBUF )
and receive
.RI ( LOC-RCVBUF )
buffer sizes.
One of
.I LOC-SNDBUF
and
.I LOC-RCVBUF
must be specified.
If no comman (`,') is present in the option argument, then the specified
buffer size applies to both the local send buffer size as well as the local
receive buffer size.
.\" -------------------------------------------------------------------------
.TP
\fB-s\fR,\ \fB--sap=\fISAP\fR
.\" -------------------------------------------------------------------------
.TP
\fB-w\fR,\ \fB--loc-window=\fR[\fILOC-SND-WINDOW\fR][\fB,\fR][\fILOC-RCV-WINDOW\fR]
.\" -------------------------------------------------------------------------
.TP
\fB-W\fR,\ \fB--rem-window=\fR[\fIREM-SND-WINDOW\fR][\fB,\fR][\fIREM-RCV-WINDOW\fR]

.\" =========================================================================
.SS ATM OPTIONS
.PP
.BI FORE_ *

.\" =========================================================================
.SS HIPPI OPTIONS
.PP
.BI HIPPI_ *

.\" =========================================================================
.SS DNS OPTIONS
.PP
.BI DNS_ *
.\" -------------------------------------------------------------------------
.TP
\fB-h\fR,\ \fB--help\fR
.\" -------------------------------------------------------------------------
.TP
\fB-f\fR,\ \fB--filename=\fIFILENAME\fR
.\" -------------------------------------------------------------------------
.TP
\fB-H\fR,\ \fB--hostname=\fIHOSTNAME\fR

.\" =========================================================================
.SS TEST CATEGORIES
.PP
.\" -------------------------------------------------------------------------
.TP
\fI*\fB_STREAM\fR \- \fIUnidirectional Stream Tests\fR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
\fI*\fB_MAERTS\fR \- \fIUnidirectional Stream Tests\fR
.\" =========================================================================
.\" -------------------------------------------------------------------------
.TP
\fI*\fB_RR\fR \- \fIRequest, Response Tests\fR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
\fI*\fB_NBRR\fR \- \fINon-Blocking Request, Response Test\fR
.\" -------------------------------------------------------------------------
.TP
\fI*\fB_CRR\fR \- \fIConnect, Request, Response Tests\fR
.\" -------------------------------------------------------------------------
.TP
\fI*\fB_TRR\fR \- \fITransaction, Request, Response Tests\fR
.\" -------------------------------------------------------------------------
.TP
\fI*\fB_CC\fR \- \fIConnect, Close Tests\fR

.SS SOCKETS API TESTS
.PP
The following tests utilize the X/Open XNS 5.2, SuSv2, SuSv3, POSIX 1003
Sockets interface to SCTP, TCP and UDP.
.\" -------------------------------------------------------------------------
.TP
.B SCTP_STREAM \- SCTP Unidirectional Stream Test
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B SCTP_MAERTS
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B SCTP_SENDFILE \- SCTP Sendfile Test
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B SCTP_RR \- SCTP Request/Response Test
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B SCTP_CRR \- SCTP Connect/Request/Response Test
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B SCTP_CC \- SCTP Connect/Close Test
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B SCTP_TRR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B SCTP_NBRR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B TCP_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B TCP_MAERTS
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B TCP_SENDFILE
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B TCP_RR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B TCP_CRR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B TCP_CC
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B TCP_TRR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B TCP_NBRR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B UDP_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B UDP_RR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B STREAM_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B STREAM_RR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B DG_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B DG_RR
.RS
.RE

.SS LWP TESTS
.PP
.\" -------------------------------------------------------------------------
.TP
.B LWPSTR_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B LWPSTR_RR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B LWPDG_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B LWPDG_RR
.RS
.RE

.SS IPV6 SOCKETS API TESTS
.\" -------------------------------------------------------------------------
.TP
.B SCTPIPV6_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B SCTPIPV6_RR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B SCTPIPV6_CRR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B TCPIPV6_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B TCPIPV6_RR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B TCPIPV6_CRR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B UDPIPV6_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B UDPIPV6_RR
.RS
.RE

.SS XTI API TESTS
.PP
The following tests utilize the X/Open XNS 5.2 XTI/TLI
.[
xti
.]
interface to SCTP, TCP
and UDP.
.\" -------------------------------------------------------------------------
.TP
.B XTI_SCTP_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B XTI_SCTP_RR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B XTI_TCP_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B XTI_TCP_RR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B XTI_UDP_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B XTI_UDP_RR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B XTI_CO_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B XTI_CO_RR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B XTI_CL_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B XTI_CL_RR
.RS
.RE

.SS DLPI TESTS
.PP
.\" -------------------------------------------------------------------------
.TP
.B DLCO_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B DLCO_RR
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B DLCL_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B DLCL_RR
.RS
.RE

.SS CPU TESTS
.\" -------------------------------------------------------------------------
.TP
.B LOC_CPU
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B REM_CPU
.RS
.RE

.SS FORE TESTS
.PP
.\" -------------------------------------------------------------------------
.TP
.B FORE_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B FORE_RR
.RS
.RE

.SS HIPPI TESTS
.PP
.\" -------------------------------------------------------------------------
.TP
.B HIPPI_STREAM
.RS
.RE
.\" -------------------------------------------------------------------------
.TP
.B HIPPI_RR
.RS
.RE

.SS DNS TESTS
.PP
.\" -------------------------------------------------------------------------
.TP
.B DNS_RR
.RS
.RE


.SH BUGS 
There is a fairly large list of known defects and misfeatures in the
manual. If you think you have found a bug, please send email to Rick
Jones <raj@cup.hp.com>.

.SH SEE ALSO
.C netserver
.br
.I
Netperf: A Network Performance Benchmark
.br
http://www.netperf.org/

.SH AUTHORS
HP Information Networks Division - Networking Performance Team.
.br
Rick Jones	<raj@cup.hp.com>
.br
Karen Choy	HP IND
.br
Dave Shield	<daves@csc.liv.ac.uk>	(man pages)
.br
Others too numerous to mention here - see the ACKNWLDGMNTS file
