#!/bin/sh
# @configure_input@
# =============================================================================
# @(#) $RCSfile: mscript_postrm.in,v $ $Name:  $($Revision: 1.1.2.1 $) $Date: 2009-06-21 10:26:51 $
# Copyright (c) 2008-2011  Monavacon Limited <http://www.monavacon.com/>
# Copyright (c) 2001-2008  OpenSS7 Corporation <http://www.openss7.com/>
# Copyright (c) 1997-2000  Brian F. G. Bidulock <bidulock@openss7.org>
# This software is licensed under the GNU Affero General Public License (AGPL)
# Version 3, 19 November 2007, available at <http://www.gnu.org/licenses/>.

[ ":${subpkg:+'set'}" = ":set" ] || subpkg=

operation="$1"
function=`echo "$operation${subpkg:+'_'}${subpkg}_postrm" | tr '-' '_'`
shift

echo "@PACKAGE@${subpkg:+'-'}${subpkg}(@VERSION@-@PACKAGE_DEBRELEASE@): $*" >&2

case "$operation" in
    (remove) :
	# remove-postrm remove
	eval "$function \"$@\""
	;;
    (purge) :
	# remove-postrm purge
	eval "$function \"$@\""
	;;
    (upgrade) :
	# old-postrm upgrade new-version
	shift 2
	eval "$function \"$@\""
	;;
    (failed-upgrade) :
	# old-postrm upgrade new-version ... failed
	# new-postrm failed-upgrade old-version
	eval "$function \"$@\""
	;;
    (abort-install) :
	# new-preinst install [old-version] ... failed
	# new-postrm abort-install [old-version]
	eval "$function \"$@\""
	;;
    (abort-upgrade) :
	# new-preinst upgrade old-version ... failed
	# new-postrm abort-upgrade old-version
	eval "$function \"$@\""
	;;
    (disappear) :
	# disappear-postrm disappear overwriter overwriter-version
	eval "$function \"$@\""
	;;
esac

@mscript_debhelper@

# =============================================================================
# vim: ft=sh sw=4 noet
