#!/bin/bash
# @configure_input@
# =============================================================================
# @(#) $RCSfile: mscript_prerm.in,v $ $Name:  $($Revision: 0.9.2.3 $) $Date: 2008-04-28 11:46:39 $
# Copyright (c) 2001-2008  OpenSS7 Corporation <http://www.openss7.com/>
# Copyright (c) 1997-2000  Brian F. G. Bidulock <bidulock@openss7.org>
# This software is licensed under the GNU Affero General Public License (AGPL)
# Version 3, 19 November 2007, available at <http://www.gnu.org/licenses/>.

[ ":${subpkg+set}" = ":set" ] || subpkg=

echo "@PACKAGE@-${subpkg}(@VERSION@-@PACKAGE_DEBRELEASE@): $*" >&2

case "$1" in

    (remove) :
	if [ ":${3+set}" = ":set" ]
	then : # conflict-prerm remove in-favour package new-version
	    eval "conflict_${subpkg}_prerm"
	else : # remove-prerm remove
	    eval "remove_${subpkg}_prerm"
	fi
	;;

    (upgrade) :
	# old-prerm upgrade new-version
	eval "upgrade_${subpkg}_prerm"
	;;

    (failed-upgrade) :
	# old-prerm upgrade new-version ... failed
	# new-prerm failed-upgrade old-version
	eval "failed_upgrade_${subpkg}_prerm"
	;;

    (deconfigure) :
	# deconfigure-prerm deconfigure in-favour package-being-installed version removing conflicting-package version
	eval "deconfigure_${subpkg}_prerm"
	;;

esac

# =============================================================================
#
# The following are debhelper script fragments under separate copyright:
#
# =============================================================================

#DEBHELPER#

# =============================================================================
# vim: ft=sh sw=4 noet
