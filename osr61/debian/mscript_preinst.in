#!/bin/bash
# @configure_input@
# =============================================================================
# @(#) $RCSfile: mscript_preinst.in,v $ $Name:  $($Revision: 0.9.2.2 $) $Date: 2007/08/14 09:06:33 $
# Copyright (c) 2001-2007  OpenSS7 Corporation <http://www.openss7.com/>
# Copyright (c) 1997-2000  Brian F. G. Bidulock <bidulock@openss7.org>

[ ":${subpkg+set}" = ":set" ] || subpkg=

echo "@PACKAGE@-${subpkg}(@VERSION@-@PACKAGE_DEBRELEASE@): $*" >&2

case "$1" in

    (install) : # install fresh or some configuration
	# new-preinst install [old-version]
	if [ "${2+set}" = "set" ]
	then : # install with some configuration
	    eval "upgrade_${subpkg}_preinst"
	else : # install fresh
	    eval "install_${subpkg}_preinst"
	fi
	;;

    (upgrade) : # upgrade (step 2)
	# new-preinst upgrade old-version
	eval "upgrade_${subpkg}_preinst"
	;;

    (abort-upgrade) :
	# old-postrm upgrade new-version ... failed
	# new-postrm failed-upgrade old-version ... failed
	# old-preinst abort-upgrade new-version
	echo "@PACKAGE@-${subpkg}(@VERSION@-@PACKAGE_DEBRELEASE@): $1: library in use." >&2
	;;

esac

# =============================================================================
#
# The following are debhelper script fragments under separate copyright:
#
# =============================================================================

#DEBHELPER#

# =============================================================================
# vim: ft=sh sw=4 noet
