dnl vim: ft=config sw=4
dnl ==========================================================================
dnl 
dnl @(#) $RCSfile: testsuite-streams.at,v $ $Name:  $($Revision: 0.9.2.6 $) $Date: 2005/09/10 18:16:46 $
dnl
dnl --------------------------------------------------------------------------
dnl
dnl Copyright (c) 2001-2005  OpenSS7 Corporation <http://www.openss7.com/>
dnl Copyright (c) 1997-2000  Brian F. G. Bidulock <bidulock@openss7.org>
dnl
dnl All Rights Reserved.
dnl
dnl Unauthorized distribution or duplication is prohibited.
dnl
dnl This software and related documentation is protected by copyright and
dnl distributed under licenses restricting its use, copying, distribution
dnl and decompilation.  No part of this software or related documentation
dnl may be reproduced in any form by any means without the prior written
dnl authorization of the copyright holder, and licensors, if any.
dnl
dnl The recipient of this document, by its retention and use, warrants that
dnl the recipient will protect this information and keep it confidential,
dnl and will not disclose the information contained in this document
dnl without the written permission of its owner.
dnl
dnl The author reserves the right to revise this software and documentation
dnl for any reason, including but not limited to, conformity with standards
dnl promulgated by various agencies, utilization of advances in the state
dnl of the technical arts, or the reflection of changes in the design of any
dnl techniques, or procedures embodied, described, or referred to herein.
dnl The author is under no obligation to provide any feature listed herein.
dnl
dnl --------------------------------------------------------------------------
dnl
dnl As an exception to the above, this software may be distributed under the
dnl GNU General Public License (GPL) Version 2 or later, so long as the
dnl software is distributed with, and only used for the testing of, OpenSS7
dnl modules, drivers, and libraries.
dnl
dnl --------------------------------------------------------------------------
dnl
dnl U.S. GOVERNMENT RESTRICTED RIGHTS.  If you are licensing this Software on
dnl behalf of the U.S. Government ("Government"), the following provisions
dnl apply to you.  If the Software is supplied by the Department of Defense
dnl ("DoD"), it is classified as "Commercial Computer Software" under
dnl paragraph 252.227-7014 of the DoD Supplement to the Federal Acquisition
dnl Regulations ("DFARS") (or any successor regulations) and the Government is
dnl acquiring only the license rights granted herein (the license rights
dnl customarily provided to non-Government users).  If the Software is
dnl supplied to any unit or agency of the Government other than DoD, it is
dnl classified as "Restricted Computer Software" and the Government's rights
dnl in the Software are defined in paragraph 52.227-19 of the Federal
dnl Acquisition Regulations ("FAR") (or any successor regulations) or, in the
dnl cases of NASA, in paragraph 18.52.227-86 of the NASA Supplement to the FAR
dnl (or any successor regulations).
dnl
dnl --------------------------------------------------------------------------
dnl
dnl Commercial licensing and support of this software is available from OpenSS7
dnl Corporation at a fee.  See http://www.openss7.com/
dnl
dnl --------------------------------------------------------------------------
dnl
dnl Last Modified $Date: 2005/09/10 18:16:46 $ by $Author: brian $
dnl
dnl --------------------------------------------------------------------------
dnl
dnl $Log: testsuite-streams.at,v $
dnl Revision 0.9.2.6  2005/09/10 18:16:46  brian
dnl - more test build
dnl
dnl Revision 0.9.2.5  2005/09/08 05:52:46  brian
dnl - added nullmod module and loop driver
dnl - corrections during testing
dnl - many ioctl(2p) test cases work very well now
dnl
dnl Revision 0.9.2.4  2005/06/24 16:58:49  brian
dnl - testsuite as always verbose internally
dnl
dnl Revision 0.9.2.3  2005/06/04 13:40:29  brian
dnl - exit early to get proper return code
dnl
dnl Revision 0.9.2.2  2005/05/30 14:25:55  brian
dnl - packaged standalong test suites
dnl
dnl Revision 0.9.2.1  2005/05/21 07:39:53  brian
dnl - new testsuite organization
dnl
dnl Revision 0.9.2.4  2005/05/20 04:45:40  brian
dnl - updated test suites
dnl
dnl Revision 0.9.2.3  2005/05/15 23:57:20  brian
dnl - update tests
dnl
dnl Revision 0.9.2.2  2005/05/15 19:42:00  brian
dnl - removed need for root privilege
dnl
dnl Revision 0.9.2.1  2005/05/14 23:59:23  brian
dnl - getting autotest up and running
dnl
dnl ==========================================================================

dnl if test `id -u` -ne 0 ; then exit 77 ; fi

AT_TESTED([test-streams])

AT_BANNER([STREAMS Test])

AT_SETUP([streams test 1.1])
AT_KEYWORDS([streams])
AT_CHECK([
    options='--verbose=5'
    test-streams $options -e -o 1.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 1.2])
AT_KEYWORDS([streams])
AT_CHECK([
    options='--verbose=5'
    test-streams $options -e -o 1.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.1.1])
AT_KEYWORDS([streams ioctl I_NREAD])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.1.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.1.2])
AT_KEYWORDS([streams ioctl I_NREAD])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.1.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.2.1])
AT_KEYWORDS([streams ioctl I_PUSH])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.2.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.2.2])
AT_KEYWORDS([streams ioctl I_PUSH])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.2.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.2.3])
AT_KEYWORDS([streams ioctl I_PUSH])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.2.3
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.2.4])
AT_KEYWORDS([streams ioctl I_PUSH])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.2.4
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.2.5])
AT_KEYWORDS([streams ioctl I_PUSH])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.2.5
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.2.6])
AT_KEYWORDS([streams ioctl I_PUSH])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.2.6
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.2.7])
AT_KEYWORDS([streams ioctl I_PUSH])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.2.7
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.2.8])
AT_KEYWORDS([streams ioctl I_PUSH])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.2.8
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.3.1])
AT_KEYWORDS([streams ioctl I_POP])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.3.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.3.2])
AT_KEYWORDS([streams ioctl I_POP])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.3.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.3.3])
AT_KEYWORDS([streams ioctl I_POP])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.3.3
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.3.4])
AT_KEYWORDS([streams ioctl I_POP])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.3.4
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.4.1])
AT_KEYWORDS([streams ioctl I_LOOK])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.4.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.4.2])
AT_KEYWORDS([streams ioctl I_LOOK])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.4.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.5.1])
AT_KEYWORDS([streams ioctl I_FLUSH])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.5.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.5.2])
AT_KEYWORDS([streams ioctl I_FLUSH])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.5.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.5.3])
AT_KEYWORDS([streams ioctl I_FLUSH])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.5.3
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.5.4])
AT_KEYWORDS([streams ioctl I_FLUSH])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.5.4
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.5.5])
AT_KEYWORDS([streams ioctl I_FLUSH])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.5.5
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.6.1])
AT_KEYWORDS([streams ioctl I_SRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.6.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.6.2])
AT_KEYWORDS([streams ioctl I_SRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.6.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.6.3])
AT_KEYWORDS([streams ioctl I_SRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.6.3
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.6.4])
AT_KEYWORDS([streams ioctl I_SRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.6.4
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.6.5])
AT_KEYWORDS([streams ioctl I_SRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.6.5
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.6.6])
AT_KEYWORDS([streams ioctl I_SRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.6.6
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.6.7])
AT_KEYWORDS([streams ioctl I_SRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.6.7
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.6.8])
AT_KEYWORDS([streams ioctl I_SRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.6.8
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.6.9])
AT_KEYWORDS([streams ioctl I_SRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.6.9
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.6.10])
AT_KEYWORDS([streams ioctl I_SRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.6.10
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.6.11])
AT_KEYWORDS([streams ioctl I_SRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.6.11
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.7.1])
AT_KEYWORDS([streams ioctl I_GRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.7.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.7.2])
AT_KEYWORDS([streams ioctl I_GRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.7.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.7.3])
AT_KEYWORDS([streams ioctl I_GRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.7.3
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.7.4])
AT_KEYWORDS([streams ioctl I_GRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.7.4
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.7.5])
AT_KEYWORDS([streams ioctl I_GRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.7.5
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.7.6])
AT_KEYWORDS([streams ioctl I_GRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.7.6
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.7.7])
AT_KEYWORDS([streams ioctl I_GRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.7.7
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.7.8])
AT_KEYWORDS([streams ioctl I_GRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.7.8
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.7.9])
AT_KEYWORDS([streams ioctl I_GRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.7.9
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.7.10])
AT_KEYWORDS([streams ioctl I_GRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.7.10
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.7.11])
AT_KEYWORDS([streams ioctl I_GRDOPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.7.11
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.8.1])
AT_KEYWORDS([streams ioctl I_STR])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.8.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.8.2])
AT_KEYWORDS([streams ioctl I_STR])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.8.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.8.3])
AT_KEYWORDS([streams ioctl I_STR])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.8.3
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.8.4])
AT_KEYWORDS([streams ioctl I_STR])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.8.4
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.8.5])
AT_KEYWORDS([streams ioctl I_STR])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.8.5
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.9.1])
AT_KEYWORDS([streams ioctl I_SETSIG])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.9.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.9.2])
AT_KEYWORDS([streams ioctl I_SETSIG])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.9.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.10.1])
AT_KEYWORDS([streams ioctl I_GETSIG])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.10.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.10.2])
AT_KEYWORDS([streams ioctl I_GETSIG])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.10.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.10.3])
AT_KEYWORDS([streams ioctl I_GETSIG])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.10.3
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.11.1])
AT_KEYWORDS([streams ioctl I_FIND])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.11.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.11.2])
AT_KEYWORDS([streams ioctl I_FIND])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.11.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.11.3])
AT_KEYWORDS([streams ioctl I_FIND])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.11.3
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.11.4])
AT_KEYWORDS([streams ioctl I_FIND])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.11.4
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.11.5])
AT_KEYWORDS([streams ioctl I_FIND])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.11.5
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.12.1])
AT_KEYWORDS([streams ioctl I_LINK])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.12.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.13.1])
AT_KEYWORDS([streams ioctl I_UNLINK])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.13.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.13.2])
AT_KEYWORDS([streams ioctl I_UNLINK])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.13.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.13.3])
AT_KEYWORDS([streams ioctl I_UNLINK])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.13.3
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.14])
AT_KEYWORDS([streams ioctl I_RECVFD])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.14
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.15])
AT_KEYWORDS([streams ioctl I_PEEK])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.15
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.16])
AT_KEYWORDS([streams ioctl I_FDINSERT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.16
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.17])
AT_KEYWORDS([streams ioctl I_SENDFD])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.17
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.18])
AT_KEYWORDS([streams ioctl I_E_RECVFD])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.18
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.19.1])
AT_KEYWORDS([streams ioctl I_SWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.19.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.19.2])
AT_KEYWORDS([streams ioctl I_SWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.19.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.19.3])
AT_KEYWORDS([streams ioctl I_SWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.19.3
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.19.4])
AT_KEYWORDS([streams ioctl I_SWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.19.4
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.19.5])
AT_KEYWORDS([streams ioctl I_SWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.19.5
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.19.6])
AT_KEYWORDS([streams ioctl I_SWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.19.6
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.19.7])
AT_KEYWORDS([streams ioctl I_SWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.19.7
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.19.8])
AT_KEYWORDS([streams ioctl I_SWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.19.8
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.19.9])
AT_KEYWORDS([streams ioctl I_SWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.19.9
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.20.1])
AT_KEYWORDS([streams ioctl I_GWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.20.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.20.2])
AT_KEYWORDS([streams ioctl I_GWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.20.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.20.3])
AT_KEYWORDS([streams ioctl I_GWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.20.3
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.20.4])
AT_KEYWORDS([streams ioctl I_GWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.20.4
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.20.5])
AT_KEYWORDS([streams ioctl I_GWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.20.5
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.20.6])
AT_KEYWORDS([streams ioctl I_GWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.20.6
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.20.7])
AT_KEYWORDS([streams ioctl I_GWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.20.7
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.20.8])
AT_KEYWORDS([streams ioctl I_GWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.20.8
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.20.9])
AT_KEYWORDS([streams ioctl I_GWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.20.9
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.20.10])
AT_KEYWORDS([streams ioctl I_GWROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.20.10
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.21])
AT_KEYWORDS([streams ioctl I_LIST])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.21
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.22.1])
AT_KEYWORDS([streams ioctl I_PLINK])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.22.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.23.1])
AT_KEYWORDS([streams ioctl I_PUNLINK])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.23.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.23.2])
AT_KEYWORDS([streams ioctl I_PUNLINK])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.23.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.23.3])
AT_KEYWORDS([streams ioctl I_PUNLINK])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.23.3
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.24.1])
AT_KEYWORDS([streams ioctl I_FLUSHBAND])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.24.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.24.2])
AT_KEYWORDS([streams ioctl I_FLUSHBAND])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.24.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.24.3])
AT_KEYWORDS([streams ioctl I_FLUSHBAND])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.24.3
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.24.4])
AT_KEYWORDS([streams ioctl I_FLUSHBAND])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.24.4
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.24.5])
AT_KEYWORDS([streams ioctl I_FLUSHBAND])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.24.5
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.24.6])
AT_KEYWORDS([streams ioctl I_FLUSHBAND])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.24.6
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.24.7])
AT_KEYWORDS([streams ioctl I_FLUSHBAND])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.24.7
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.24.8])
AT_KEYWORDS([streams ioctl I_FLUSHBAND])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.24.8
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.24.9])
AT_KEYWORDS([streams ioctl I_FLUSHBAND])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.24.9
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.25])
AT_KEYWORDS([streams ioctl I_CKBAND])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.25
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.26])
AT_KEYWORDS([streams ioctl I_GETBAND])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.26
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.27])
AT_KEYWORDS([streams ioctl I_ATMARK])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.27
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.28.1])
AT_KEYWORDS([streams ioctl I_SETCLTIME])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.28.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.28.2])
AT_KEYWORDS([streams ioctl I_SETCLTIME])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.28.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.29.1])
AT_KEYWORDS([streams ioctl I_GETCLTIME])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.29.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.29.2])
AT_KEYWORDS([streams ioctl I_GETCLTIME])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.29.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.30.1])
AT_KEYWORDS([streams ioctl I_CANPUT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.30.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.30.2])
AT_KEYWORDS([streams ioctl I_CANPUT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.30.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.30.3])
AT_KEYWORDS([streams ioctl I_CANPUT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.30.3
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.30.4])
AT_KEYWORDS([streams ioctl I_CANPUT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.30.4
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.31.1])
AT_KEYWORDS([streams ioctl I_SERROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.31.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.31.2])
AT_KEYWORDS([streams ioctl I_SERROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.31.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.31.3])
AT_KEYWORDS([streams ioctl I_SERROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.31.3
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.31.4])
AT_KEYWORDS([streams ioctl I_SERROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.31.4
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.31.5])
AT_KEYWORDS([streams ioctl I_SERROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.31.5
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.32.1])
AT_KEYWORDS([streams ioctl I_GERROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.32.1
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.32.2])
AT_KEYWORDS([streams ioctl I_GERROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.32.2
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.32.3])
AT_KEYWORDS([streams ioctl I_GERROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.32.3
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.32.4])
AT_KEYWORDS([streams ioctl I_GERROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.32.4
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.32.5])
AT_KEYWORDS([streams ioctl I_GERROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.32.5
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.32.6])
AT_KEYWORDS([streams ioctl I_GERROPT])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.32.6
    ], [], [ignore], [], [], [])
AT_CLEANUP

AT_SETUP([streams test 2.33])
AT_KEYWORDS([streams ioctl I_ANCHOR])
AT_CHECK([
    if test $at_verbose = echo ; then options='-vvv' ; fi
    test-streams $options -e -o 2.33
    ], [], [ignore], [], [], [])
AT_CLEANUP
