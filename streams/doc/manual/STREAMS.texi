% -*- texinfo -*- vim: ft=texinfo tw=100 nocin nosi
% =========================================================================
%
% @(#) $Id: STREAMS.texi,v 0.9.2.37 2007/03/17 08:31:56 brian Exp $
%
% =========================================================================
%
% Copyright (C) 2001-2007  OpenSS7 Corporation <www.openss7.com>
% Copyright (C) 1997-2000  Brian F. G. Bidulock <bidulock@openss7.org>
%
% All Rights Reserved.
%
% Permission is granted to make and distribute verbatim copies of this
% manual provided the copyright notice and this permission notice are
% preserved on all copies.
%
% Permission is granted to copy and distribute modified versions of this
% manual under the conditions for verbatim copying, provided that the
% entire resulting derived work is distributed under the terms of a
% permission notice identical to this one.
% 
% Since the Linux kernel and libraries are constantly changing, this
% manual page may be incorrect or out-of-date.  The author(s) assume no
% responsibility for errors or omissions, or for damages resulting from
% the use of the information contained herein.  The author(s) may not
% have taken the same level of care in the production of this manual,
% which is licensed free of charge, as they might when working
% professionally.
% 
% Formatted or processed versions of this manual, if unaccompanied by
% the source, must acknowledge the copyright and authors of this work.
%
% -------------------------------------------------------------------------
%
% U.S. GOVERNMENT RESTRICTED RIGHTS.  If you are licensing this Software
% on behalf of the U.S. Government ("Government"), the following
% provisions apply to you.  If the Software is supplied by the Department
% of Defense ("DoD"), it is classified as "Commercial Computer Software"
% under paragraph 252.227-7014 of the DoD Supplement to the Federal
% Acquisition Regulations ("DFARS") (or any successor regulations) and the
% Government is acquiring only the license rights granted herein (the
% license rights customarily provided to non-Government users).  If the
% Software is supplied to any unit or agency of the Government other than
% DoD, it is classified as "Restricted Computer Software" and the
% Government's rights in the Software are defined in paragraph 52.227-19
% of the Federal Acquisition Regulations ("FAR") (or any successor
% regulations) or, in the cases of NASA, in paragraph 18.52.227-86 of the
% NASA Supplement to the FAR (or any successor regulations).
%
% =========================================================================
% 
% Commercial licensing and support of this software is available from
% OpenSS7 Corporation at a fee.  See http://www.openss7.com/
% 
% =========================================================================
%
% Last Modified $Date: 2007/03/17 08:31:56 $ by $Author: brian $
%
% =========================================================================

\input texinfo
@setfilename STREAMS.info
@include texi/args.texi
@set MANUAL_TITLE @value{PACKAGE_TITLE}
@set MANUAL_TYPE Installation and Reference Manual
@settitle @value{MANUAL_TITLE}

@dircategory STREAMS
@direntry
* streams: (@value{PACKAGE_TARNAME}).		Linux Fast-STREAMS.
@end direntry

@include texi/args.texi
@set MANUAL_TITLE @value{PACKAGE_TITLE}
@set MANUAL_TYPE Installation and Reference Manual

@comment The following copyright information goes at the head of each .info file.
@ifinfo
This file provides the @value{MANUAL_TYPE} for @value{MANUAL_TITLE}.

This is Edition @value{PACKAGE_RELEASE}, last updated @value{PACKAGE_DATE}, of the
@cite{@value{MANUAL_TITLE} @value{MANUAL_TYPE}}, for Version @value{PACKAGE_VERSION}
Release @value{PACKAGE_RELEASE}.

Copyright @copyright{} 2001-2007  @uref{http://www.openss7.com/, OpenSS7 Corporation} @*
Copyright @copyright{} 1997-2000  @email{bidulock@@openss7.org, Brian F. G. Bidulock}

All Rights Reserved.

Permission is granted to make and distribute verbatim copies of this manual
provided the copyright notice and this permission notice are preserved on all
copies.

@ignore
Permission is granted to process this file through Tex and print the results,
provided the printed manual carries copying permission notice identical to
this one except for the removal of this paragraph (this paragraph not being
relevant to the printed manual).

@end ignore
Permission is granted to copy and distribute modified versions of this manual
under the conditions for verbatim copying, provided the entire resulting
derived work is distributed under the terms of a permission notice identical
to this one.

Permission is granted to copy and distribute translations of this manual into
another language, under the above conditions for modified versions.
@end ifinfo

@include texi/args.texi
@set MANUAL_TITLE @value{PACKAGE_TITLE}
@set MANUAL_TYPE Installation and Reference Manual

@ignore
@shorttitlepage @value{MANUAL_TITLE} @value{MANUAL_TYPE}
@end ignore
@titlepage
@titlefont{@value{MANUAL_TITLE}}
@sp 0.5
@title @value{MANUAL_TYPE}
@subtitle Version @value{PACKAGE_VERSION} Edition @value{PACKAGE_RELEASE}
@subtitle Updated @value{PACKAGE_DATE}
@sp 0.2
@subtitle Package @value{PACKAGE}-@value{VERSION}
@author Brian Bidulock <@email{bidulock@@openss7.org}> for
@sp 0.2
@author The OpenSS7 Project <@uref{http://www.openss7.org/}>

@page
@vskip 0pt plus 1filll
Copyright @copyright{} 2001-2007  OpenSS7 Corporation <@uref{http://www.openss7.com/}> @*
Copyright @copyright{} 1997-2000  Brian F. G. Bidulock <@email{bidulock@@openss7.org}> @*
All Rights Reserved. @*

@noindent
Published by OpenSS7 Corporation @*
1469 Jefferys Crescent @*
Edmonton, Alberta  T6L 6T1 @*
Canada @*

@noindent
This is texinfo edition @value{PACKAGE_RELEASE} of the @value{MANUAL_TITLE}
manual, and is consistent with @value{PACKAGE_NAME} @value{PACKAGE_VERSION}.
This manual was developed under the @uref{http://www.openss7.org/, OpenSS7
Project} and was funded in part by
@uref{http://www.openss7.com/, OpenSS7 Corporation}.

@noindent
Permission is granted to make and distribute verbatim copies of this manual
provided the copyright notice and this permission notice are preserved on all
copies.

@noindent
Permission is granted to copy and distribute modified versions of this manual
under the conditions for verbatim copying, provided that the entire resulting
derived work is distributed under the terms of a permission notice identical
to this one.

@noindent
Permission is granted to copy and distribute translations of this manual into
another language, under the same conditions as for modified versions.

@vskip 0pt
@end titlepage
@page

@c Define an index of authors.
@defindex au

@c Define an index of makefile targets
@defcodeindex mk

@c Define an index of configure output variables.
@c @defcodeindex ov

@c Define an index of configure variables.
@c @defcodeindex cv

@c Define an index of options.
@defcodeindex op

@c Define an index of targets.
@c @defcodeindex tr

@c Define an index of commands.
@c @defcodeindex cm

@c Put the macros and variables into their own index.
@c @syncodeindex fn cp
@c @syncodeindex ov vr
@c @syncodeindex cv vr
@c @syncodeindex fn vr

@c Put everything else into one index (arbitrarily chosen to be the concept index).
@c @syncodeindex op cp
@c @syncodeindex tr cp
@c @syncodeindex cm cp

@c An index of manual pages
@defcodeindex mp

@include texi/macros.texi
@include texi/versions.texi

@ifnottex
@node Top
@top @value{MANUAL_TITLE} @value{MANUAL_TYPE}
@unnumbered About This Manual
This is Edition @value{PACKAGE_RELEASE}, last updated @value{PACKAGE_DATE}, of @cite{The
@value{MANUAL_TITLE} @value{MANUAL_TYPE}}, for Version @value{PACKAGE_VERSION}
release @value{PACKAGE_RELEASE} of the @value{PACKAGE_TITLE} package.
@end ifnottex

@menu
* Preface::			Preface to this manual

* Quick Start Guide::		Quick Installation Instructions

* Introduction::		Introduction to the package
* Objective::			Objective of the package
* Reference::			Contents of the package
* Development::			Developing with the package
* Porting::			Porting to the package
* Conformance::			Conformance of the package
* Releases::			Releases of the package
* Installation::		Installation of the package
* Troubleshooting::		Troubleshooting of the package

* Licenses::			Copies of OpenSource Licenses

* Indices::			Index of Indices

 ----- detailed node listing -----

Preface

* Notice::			Notices for this package
* Abstract::			Abstract for this manual
* Revisions::			Revisions of this manual
* Disclaimer::			IPR Disclaimers for this package
* Acknowledgements::		Sponsors of and Contributors to the package
* Authors::			Authors of the package
* Maintainer::			Maintainers of the package
* Web Resources::		Web Resources for the package

Introduction

* Overview::			Overview
* Organization::		Organization
* Conventions::			Conventions

Objective

* Background::
* What is STREAMS?::
* Why STREAMS?::
* Why STREAMS for Linux?::
* History of STREAMS for Linux::
* Why Fast?::

Reference

* Files::			Files included in the package
* Drivers::			Drivers included in the package
* Modules::			Modules included in the package
* Libraries::			Libraries included in the package
* Utilities::			Utilities included in the package

Development

* Development Header Files::	Header Files in the package
* Static and Shared Libraries::	Libraries in the package
* Kernel Module Development::	Kernel development with the package
* Manual Pages::		Manual Pages in the package

Porting

* Porting from LiS::		Porting from LiS to this package
* Porting from SVR 4.2 MP::	Porting from SVR 4.2 to this package
* Porting from Solaris::	Porting from Solaris to this package
* Porting from UnixWare::	Porting from UnixWare to this package
* Porting from Mentat::		Porting from Mentat to this package

Conformance

* Standards Compliance::	Compliacne with standards
* STREAMS Compatibility::	Compatibility with other STREAMS packages

Releases

* Prerequisites::		Prerequisite packages
* Compatibility::		Compatibility Issues
* Release Notes::		Release Notes
* Maturity::			Package Maturity
* Bugs::			Package Defects
* Schedule::			Development and Bug Fix Schedule
* History::			Project History

Installation

* Downloading::			Downloading the package
* Configuration::		Configuration of the package
* Building::			Building the package
* Installing::			Installing the package
* Removing::			Removing the package
* Loading::			Loading the package
* Maintenance::			Maintaining the package

Troubleshooting

* Test Suites::			Test Suites for the package
* Problem Reports::		Problem Reports for the package
* Known Problems::		Known Probelms with the package

Appendices

Licenses

* GNU General Public License::		The GPL license
* GNU Lesser General Public License::	The LGPL license
* GNU Free Documentation License::	The FDL license

Indices

* Concept Index::		Index of Concepts
* Type Index::			Index of Data Types
* Function Index::		Index of Functions and Macros
* Variable Index::		Index of Variables and Constants
* File Index::			Index of Files and Programs
* Option Index::		Index of Configuration Options
* Makefile Target Index::	Index of Makefile Targets
* Author Index::		Index of Authors
* Manual Page Index::		Index of Manual Pages Referenced
@end menu

@c --------------------------------------------------------------------------

@node Preface
@unnumbered Preface

@menu
* Notice::			Notices for this package
* Abstract::			Abstract for this manual
* Revisions::			Revisions of this manual
* Disclaimer::			IPR Disclaimers for this package
* Acknowledgements::		Sponsors of and Contributors to the package
* Authors::			Authors of the package
* Maintainer::			Maintainers of the package
* Web Resources::		Web Resources for the package
@end menu

@node Notice
@unnumberedsec Notice
@cindex manual notice
@cindex licensing

This package is released and distributed under the @cite{GPL} (@pxrefman{GNU General Public
License}).  Please note, however, that there are different licensing terms for the manual pages and
some of the documentation (derived from OpenGroup@footnote{Formerly X/Open and UNIX International.}
publications and other sources).  Consult the permission notices contained in the documentation for
more information.

This manual is released under the @cite{FDL} (@pxrefman{GNU Free Documentation License}) with all
sections invariant.

@node Abstract
@unnumberedsec Abstract
@cindex manual abstract

This manual provides a @cite{@value{MANUAL_TYPE}} for @cite{@value{PACKAGE_TITLE}}.

@unnumberedsubsec Objective
@cindex manual objective

The objective of this manual is to provide a guide for the @dfn{STREAMS} programmer when
developing @dfn{STREAMS} modules, drivers and application programs for @cite{@value{PACKAGE_TITLE}}.

This guide provides information to developers on the use of the @dfn{STREAMS} mechanism at user and
kernel levels.

@dfn{STREAMS} was incorporated in UNIX System V Release 3 to augment the character input/output
(I/O) mechanism and to support development of communication services.

@dfn{STREAMS} provides developers with integral functions, a set of utility routines, and facilities
that expedite software design and implementation.

@unnumberedsubsec Intent
@cindex manual intent

The intent of this manual is to act as an introductory guide to the @dfn{STREAMS} programmer.  It
is intended to be read alone and is not intended to replace or supplement the
@cite{@value{PACKAGE_TITLE}} manual pages.  For a reference for writing code, the manual pages
(see @manref{STREAMS(9)}) provide a better reference to the programmer.
Although this describes the features of the @cite{@value{PACKAGE_TITLE}} package,
@uref{http://www.openss7.com/,OpenSS7 Corporation} is under no obligation to provide any software,
system or feature listed herein.

@unnumberedsubsec Audience
@cindex manual audience

This manual is intended for a highly technical audience.  The reader should already be familiar
with @cite{Linux} kernel programming, the @cite{Linux} file system, character devices, driver input
and output, interrupts, software interrupt handling, scheduling, process contexts, multiprocessor
locks, etc.

The guide is intended for network and systems programmers, who use the @dfn{STREAMS} mechanism at
user and kernel levels for @cite{Linux} and @cite{UNIX} system communication services.

Readers of the guide are expected to possess prior knowledge of the @cite{Linux} and @cite{UNIX}
system, programming, networking, and data communication.

@node Revisions
@unnumberedsec Revisions
@cindex manual revisions

Take care that you are working with a current version of this manual: you will not be notified of
updates.  To ensure that you are working with a current version, contact the
@uref{mailto:bidulock@@openss7.org,Author}, or check @uref{http://www.openss7.org/,The OpenSS7
Project} website for a current version.

A current version of this manual is normally distributed with the @cite{@value{PACKAGE_TITLE}}
package.

@unnumberedsubsec Version Control

@smallexample

$Log: STREAMS.texi,v $
Revision 0.9.2.37  2007/03/17 08:31:56  brian
- corrected formatting problems

Revision 0.9.2.36  2007/02/28 06:30:55  brian
- updates and corrections, #ifdef instead of #if

Revision 0.9.2.35  2007/01/02 16:32:03  brian
- updates for release, disable streams-bcm by default

Revision 0.9.2.34  2006/12/31 13:26:37  brian
- documentation updates for release

Revision 0.9.2.33  2006/09/18 01:06:57  brian
- updated manuals and release texi docs

Revision 0.9.2.32  2006/08/28 10:47:05  brian
- correction

Revision 0.9.2.31  2006/08/28 10:32:54  brian
- updated references

Revision 0.9.2.30  2006/08/27 12:26:58  brian
- finalizing auto release files

Revision 0.9.2.29  2006/08/26 18:31:44  brian
- handle long urls

Revision 0.9.2.28  2006/08/26 09:18:27  brian
- better release file generation

Revision 0.9.2.27  2006/08/23 11:00:41  brian
- added preface, corrections and updates for release

Revision 0.9.2.26  2006/08/22 12:36:49  brian
- udpates to documentation, tweaks to Stream head

Revision 0.9.2.25  2006/03/22 10:02:04  brian
- added makefile target index

Revision 0.9.2.24  2006/03/03 10:57:11  brian
- 32-bit compatibility support, updates for release

Revision 0.9.2.23  2005/09/15 13:03:08  brian
- added new graphics and updates

Revision 0.9.2.22  2005/07/08 13:16:11  brian
- updates to documentation

Revision 0.9.2.21  2005/06/24 13:38:59  brian
- added troubleshooting section to manuals

Revision 0.9.2.20  2005/05/14 08:34:34  brian
- copyright header correction

Revision 0.9.2.19  2005/04/15 00:58:31  brian
- working up documentation

Revision 0.9.2.18  2005/04/14 08:06:09  brian
- added figures

Revision 0.9.2.17  2005/04/12 09:28:59  brian
- corrections

Revision 0.9.2.16  2005/04/11 20:48:41  brian
- documentation updates and corrections

Revision 0.9.2.15  2005/03/15 12:06:58  brian
- Updated texinfo documentation.

Revision 0.9.2.14  2005/03/15 00:56:42  brian
- Updated version numbering in texinfo files.

Revision 0.9.2.13  2005/03/15 00:51:34  brian
- Updated version numbering in texinfo files.

Revision 0.9.2.12  2005/02/17 22:57:34  brian
- Some cross-reference corrections.

Revision 0.9.2.11  2005/02/17 11:34:53  brian
- Corrected some more texi problems.

Revision 0.9.2.10  2005/01/24 11:57:57  brian
- Updated texinfo headers.

Revision 0.9.2.9  2004/12/19 15:15:02  brian
- Corrected include position.

Revision 0.9.2.8  2004/12/17 04:02:46  brian
- Improving spec files.

Revision 0.9.2.7  2004/11/06 10:24:35  brian
- Updated documentation.

Revision 0.9.2.6  2004/08/22 07:28:53  brian
- Converted to shared common files.

Revision 0.9.2.5  2004/08/22 06:17:50  brian
- Checkin on new working branch.

Revision 0.9.2.4  2004/08/15 19:59:29  brian
- Build system updates.

Revision 0.9.2.3  2004/05/29 08:28:01  brian
- Working up stable release.

Revision 0.9.2.2  2004/03/15 07:59:39  brian
- Working up manual pages.

Revision 0.9.2.1  2004/03/13 05:46:34  brian
- Working up more documentation.

@end smallexample

@unnumberedsubsec ISO 9000 Compliance

Only the @TeX{}, texinfo, or roff source for this manual is controlled.  An opaque (printed,
postscript or portable document format) version of this manual is an @strong{UNCONTROLLED
VERSION}.

@node Disclaimer
@unnumberedsec Disclaimer
@cindex manual disclaimer

@noindent
@cite{OpenSS7 Corporation} disclaims all warranties with regard to this documentation including all
implied warranties of merchantability, fitness for a particular purpose, non-infringement, or title;
that the contents of the manual are suitable for any purpose, or that the implementation of such
contents will not infringe on any third party patents, copyrights, trademarks or other rights.  In
no event shall @cite{OpenSS7 Corporation} be liable for any direct, indirect, special or
consequential damages or any damages whatsoever resulting from loss of use, data or profits, whether
in an action of contract, negligence or other tortious action, arising out of or in connection with
any use of this manual or the performance or implementation of the contents thereof.

@noindent
@cite{OpenSS7 Corporation} reserves the right to revise this software and documentation for any
reason, including but not limited to, conformity with standards promulgated by various agencies,
utilization of advances in the state of the technical arts, or the reflection of changes in the
design of any techniques, or procedures embodied, described, or referred to herein.  @cite{OpenSS7
Corporation} is under no obligation to provide any feature listed herein.

@unnumberedsubsec U.S. Government Restricted Rights

If you are licensing this Software on behalf of the U.S. Government ("Government"), the following
provisions apply to you.  If the Software is supplied by the Department of Defense ("DoD"), it is
classified as "Commercial Computer Software" under paragraph 252.227-7014 of the DoD Supplement to
the Federal Acquisition Regulations ("DFARS") (or any successor regulations) and the Government is
acquiring only the license rights granted herein (the license rights customarily provided to
non-Government users).  If the Software is supplied to any unit or agency of the Government other
than DoD, it is classified as "Restricted Computer Software" and the Government's rights in the
Software are defined in paragraph 52.227-19 of the Federal Acquisition Regulations ("FAR") (or any
successor regulations) or, in the cases of NASA, in paragraph 18.52.227-86 of the NASA Supplement to
the FAR (or any successor regulations).

@c ----------------------------------------------------------------------------

@node Acknowledgements
@unnumberedsec Acknowledgements
@cindex credits

@include texi/funding.texi

@node Authors
@unnumberedsec Authors
@cindex authors

The authors of the @cite{OpenSS7 @value{PACKAGE_TITLE}} package include:

@multitable @columnfractions .05 .95
@item @tab @minus{} @email{bidulock@@openss7.org, Brian Bidulock}
@auindex Bidulock, Brian
@end multitable

See @refman{Author Index}, for a complete listing and cross-index of authors to
sections of this manual.

@node Maintainer
@unnumberedsec Maintainer
@cindex maintainer

The maintainer of the @cite{OpenSS7 @value{PACKAGE_TITLE}} package is:

@multitable @columnfractions .05 .95
@item @tab @minus{} @email{bidulock@@openss7.org, Brian Bidulock}
@end multitable

Please send bug reports to @email{@value{PACKAGE_BUGREPORT}} using the @file{send-pr} script
included in the package, only after reading the @file{BUGS} file in the release, or @xrefman{Problem
Reports}.

@node Web Resources
@unnumberedsec Web Resources
@cindex web resources

@include texi/mail.texi

@c ----------------------------------------------------------------------------

@node Quick Start Guide
@unnumbered Quick Start Guide
@cindex quick start guide

@include texi/quick.texi

@c ----------------------------------------------------------------------------

@node Introduction
@chapter Introduction
@cindex introduction

This manual documents the design, implementation, installation, operation and future development
schedule of the @cite{@value{PACKAGE_TITLE}} package.

@c ----------------------------------------------------------------------------

@menu
* Overview::			Overview
* Organization::		Organization
* Conventions::			Conventions
@end menu

@ignore
@node Notice
@section Notice
@cindex notice
@cindex licensing

This package is released and distributed under the @cite{GPL} (@pxrefman{GNU General Public
License}).  Please note, however, that there are different licensing terms for the manual pages and
some of the documentation (derived from OpenGroup@footnote{Formerly X/Open and UNIX International.}
publications and other sources).  Consult the permission notices contained in the documentation for
more information.

This manual is released under the @cite{FDL} (@pxrefman{GNU Free Documentation License}) with all
sections invariant.
@end ignore

@node Overview
@section Overview
@cindex overview

This manual documents the design, implementation, installation, operation and future development of
the @cite{@value{PACKAGE_TITLE}} package.

@node Organization
@section Organization of this Manual
@cindex organization

This manual is organized (loosely) into several sections as follows:

@ifnottex
@menu
  Introduction::		This introduction
* Objective::			Objective of the package
* Reference::			Contents of the package
* Development::			Developing with the package
* Porting::			Porting to the package
* Conformance::			Conformance of the package
* Releases::			Releases of the package
* Installation::		Installation of the package
* Troubleshooting::		Troubleshooting of the package
@end menu
@end ifnottex
@ifnotinfo
@multitable @columnfractions .50 .50
@item @ref{Introduction}.
@tab This introduction
@item @ref{Objective}.
@tab Objective of the package
@item @ref{Reference}.
@tab Contents of the package
@item @ref{Development}.
@tab Developing with the package
@item @ref{Porting}.
@tab Porting to the package
@item @ref{Conformance}.
@tab Conformance of the package
@item @ref{Releases}.
@tab Releases of the package
@item @ref{Installation}.
@tab Installation of the package
@item @ref{Troubleshooting}.
@tab Troubleshooting of the package
@end multitable
@end ifnotinfo
@ifplaintext
@multitable @columnfractions .50 .50
@item @cite{Introduction}.
@tab This introduction
@item @cite{Objective}.
@tab Objective of the package
@item @cite{Reference}.
@tab Contents of the package
@item @cite{Development}.
@tab Developing with the package
@item @cite{Porting}.
@tab Porting to the package
@item @cite{Conformance}.
@tab Conformance of the package
@item @cite{Releases}.
@tab Releases of the package
@item @cite{Installation}.
@tab Installation of the package
@item @cite{Troubleshooting}.
@tab Troubleshooting of the package
@end multitable
@end ifplaintext

@node Conventions
@section Conventions and Definitions
@cindex conventions
@cindex definitions

This manual uses @cite{texinfo} typographic conventions.

@c ----------------------------------------------------------------------------
@c ----------------------------------------------------------------------------

@node Objective
@chapter Objective
@cindex objective

@menu
* Background::
* What is STREAMS?::
* Why STREAMS?::
* Why STREAMS for Linux?::
* History of STREAMS for Linux::
* Why Fast?::
@end menu

@node Background
@section Background

@acronym{STREAMS} derives from Dennis Ritchie's original paper,@footnote{"A Stream Input-Output
System", @i{AT&T Bell Laboratories Technical Journal} @b{63}, No. 8 Part 2 (October, 1984), pp.
1897-1910.} was incorporated into the @cite{UNIX@registeredsymbol{} System V Release 3} operating
system, replaced the terminal input-output subsystem, pipes and FIFOs in
@cite{UNIX@registeredsymbol{} System V Release 4}, and was improved in the @acronym{USL} release of
the @cite{UNIX@registeredsymbol{} System V Release 4.2} operating system.

Today, @acronym{STREAMS} is a part of every major branded @cite{UNIX@registeredsymbol{}} variant,
such as
@cite{AIX@registeredsymbol{}},
@cite{HP-UX@registeredsymbol{}},
@cite{IRIX@registeredsymbol{}},
@cite{MacOT@registeredsymbol{}},
@cite{OSF/1@registeredsymbol{}},
@cite{Solaris@registeredsymbol{}},
@cite{SUPER-UX@registeredsymbol{}},
@cite{UnixWare@registeredsymbol{}},
@cite{UXP/V@registeredsymbol{}},
and including many @cite{UNIX}-like operating systems and popular embedded @acronym{RTOS}, but with
the notable exception of @cite{Berkeley System Distribution} releases, variants and offshoots, and
@cite{Linux}.

@node What is STREAMS?
@section What is STREAMS?

STREAMS is a flexible framework for communication between a user level process and a kernel resident
driver.  It encompasses a set of kernel system calls providing a user-kernel interface that is
backward compatible with the traditional character device driver interface, as well as a set of
STREAMS driver and module entry points forming a driver-kernel interface.  STREAMS also provides a
rich set of kernel utility functions for the development and implementation of kernel-resident
drivers and modules.  STREAMS prompted the specification of the DDI/DKI which is an architecture
independent driver-kernel interface that provides a standardized set of kernel functions (beyond
just STREAMS) for the development of device and software drivers.

STREAMS provides a reconfigurable full-duplex communications path between user level process and
kernel resident driver, termed a @dfn{Stream}.  Modules can be inserted in the path between the user
and driver under user level control.  Streams can be linked across multiplexers under user control
to form complex (yet reconfigurable) topologies of user level processes and drivers.

Communication of control and data information along a Stream is accomplished by message passing.
There is no direct function call interface between components of a Stream.  A Stream exists within
the STREAMS framework inside the kernel and extend from the user-kernel interface to the kernel
driver interface.  Each component of a Stream consists of a pair of queues used to pass messages in
the upstream direction to the kernel-user interface; or downstream, the kernel-driver interface.

At the kernel-user end of the Stream is a component called the @dfn{Stream head}.  As with all
components of a Stream, the Stream head consists of a queue pair and a specialized set of
procedures.  The Stream head procedures are responsible for converting between the system call
interface presented to users and the message passing mechanism within the Stream.

At the kernel-driver end of the Stream is the @dfn{Stream end}.  The Stream end also contains a
queue pair and a set of procedures.  The Stream end (or simply driver) procedures are responsible
for converting between the message passing mechanism within the Stream and the actions and events of
a hardware (or pseudo-) device.

Intermediate components within the Stream are called @dfn{Modules}.  Modules consist of a queue pair
for passing messages upstream and downstream, as well as a set of procedures for processing
messages.  Modules can be pushed onto the module stack between the Stream head and Stream end using
a set of standardized input-output control commands.

In support of topologies more complex than these simple linear segments, STREAMS also provides a
specialized Stream end (driver) called a @dfn{Multiplexing driver}.  A Multiplexing driver has the
ability to open multiple Streams to its upper interface (multiplexer) as well as linking multiple
Streams beneath its lower interface (multiplexer).  Again, a standardized set of input-output
controls provide the user with the ability to configure a Multiplexing driver.

@node Why STREAMS?
@section Why STREAMS?

With the ability to open multiple Streams to a driver, push and pop modules to and from the module
stack on a Stream, and to link any Stream under a multiplexing driver--all under user control using
standardized input-output controls--allows STREAMS to configure complex topologies to form protocol
stacks.

Almost all specialized standard telecommunications software developed since 1990 was developed to
run on STREAMS.  This is for several reasons:

@itemize
@item
Since 1990, STREAMS and the associated DDI/DKI has been, and remains, the only way to incorporate
OEM protocol stacks into mainstream @cite{UNIX@registeredsymbol{}} system kernels.

@item
The original @cite{UNIX System Laboratories} (later @cite{X/Open} then later the @cite{OpenGroup})
support for @acronym{ITU-T} developed @acronym{OSI} protocols, makes STREAMS amenable to an open
model for development for @acronym{ITU-T} protocols.  (@acronym{ITU-T}, formerly @acronym{CCITT}, is
the @cite{International Telecommunications Union -- Telephone Sector} responsible for international
telephone standards, and original developers of the @acronym{OSI} model.)
@end itemize

As a result, there is a significant body of commercial software implementing telecommunications
protocol stacks that was developed, tested, validated, conformance tested, field verified, to run on
STREAMS: and is still running on STREAMS.

The cost of reimplementation, retesting, revalidation, redoing conformance testing, and field
re-verification, would likely be prohibitive: after all, the point of @cite{Linux} is reducing cost,
is it not?

@node Why STREAMS for Linux?
@section Why STREAMS for Linux?

The @cite{Linux} kernel was not developed with STREAMS in mind.  For @acronym{TPI/IP} networking,
@cite{Linux} originally followed in the footsteps of the @acronym{BSD NET2} release.  Currently, the
implementation of @acronym{TCP/IP} in the @cite{Linux} kernel has long departed from the classical
@acronym{BSD} organization and exhibits characteristics unique to the @cite{GNU/Linux} operating
system.  For character device and terminal input-output, @cite{Linux} follows closely the
@acronym{SVR 3} pre-STREAMS approach to pipes, FIFOs and terminal subsystem.  The terminal subsystem
implementation, too, has become unique to @cite{GNU/Linux}.

Therefore, from the perspective of @acronym{TCP/IP} networking and @acronym{Terminal I/O}, there
would be little reason to provide STREAMS for @cite{Linux}.  That is, if it were not for the body of
software supporting @acronym{OSI} and telecommunications protocols based solely on STREAMS, for
which @cite{Linux} has little or no support.

So, the answer to the question, "Why STREAMS for Linux?" is: so that a @cite{GNU/Linux} platform
can enjoy the same wealth of telecommunications and @acronym{OSI} protocol stacks otherwise only
available to big-iron @cite{UNIX@registeredsymbol{}}.  Without STREAMS, @cite{Linux} is probably
just another @acronym{BSD}, and probably not a very good one.

@node History of STREAMS for Linux
@section History of STREAMS for Linux

In the mid-90's, @uref{http://www.gcom.com/,,  GCOM, @abbr{Inc.}} embarked on development on an open
source implementation of STREAMS called @cite{Linux STREAMS (LiS)}, likely driven by its use for
porting existing @acronym{OSI} protocol stacks to @cite{Linux}.  In 2000,
@uref{http://www.openss7.org/,, The OpenSS7 Project} abandoned using the @cite{Linux} networking
model for implementation of the @cite{Signalling System No. 7} protocol (primarily due to the lack of
support for the full @acronym{BSD} networking model under @cite{Linux}) and switched to using
STREAMS as the basis for all future development.  The @cite{GCOM LiS} release (2.2 at the time) was
used as the STREAMS package.  Over the span of the next 5 years, (and not surprisingly given the body
of software), almost all @cite{Signalling System No. 7} products released on @cite{Linux} used
@cite{LiS} for STREAMS.  In 2005, Dave Grothe (the @dfn{G} in @cite{GCOM}) announced that he would
no longer be maintaining or developing @cite{LiS} subsequent to the 2.18.0 release, stranding many
users of the package.

Later in 2005, after briefly maintaining two GPL'ed releases of @cite{LiS}, (2.18.1 and 2.18.2),
@uref{http://wwww.openss7.org/,, The OpenSS7 Project} release (after two years of development) the
@file{streams-0.7a.4} package: a reimplementation of @cite{SVR 4.2 STREAMS} with compatibility
modules for all major @cite{UNIX@registeredsymbol{}} releases, called @cite{@value{PACKAGE_TITLE}}.
@cite{@value{PACKAGE_TITLE}} was intended as a @cite{POSIX/SUSv3 XSR} conforming, high performance,
production grade, replacement for @cite{LiS}, suitable for mainline @cite{Linux} adoption, and a
better foundation on which to base @acronym{SIGTRAN}, @acronym{VoIP}, @acronym{ISDN} and
@acronym{SS7} protocol stacks developed under the @uref{http://www.openss7.org/,, The OpenSS7
Project}, as well as a better foundation for porting commercial @cite{UNIX@registeredsymbol{}}
@acronym{OEM} implementations to @cite{Linux}.  It is the @file{@value{PACKAGE}-@value{VERSION}}
package that contains the documentation you are reading now.

@node Why Fast?
@section Why Fast?

After working with @cite{LiS} releases for over 3 years, in late 2003,
@uref{http://www.openss7.org/,, The OpenSS7 Project} decided to begin implementation of a
replacement for @cite{LiS}, because of a number of shortcomings of the @cite{LiS} releases:

@enumerate a
@item unsuitable for mainline kernel adoption due to coding style and organization;
@item poorly adapted to distribution production kernels;
@item is unsuitable for packaging and repeatability;
@item portability objective unsuitable for mainline kernel adoption;
@item ports form the same baseline obfuscate the code;
@item performs poorly due to portability and coding style;
@item code bloat and over sized memory footprint;
@item redundant debug statements obscuring defects and obfuscating code;
@item overuse of semaphores;
@item contains serious races and not suitable for threaded applications;
@item does not conform to mainstream @cite{UNIX@registeredsymbol{}} implementations;
@item does not conform to @cite{POSIX} or any release of the @cite{Single UNIX Specification};
@item limited set of standard drivers and modules;
@item limited set of diagnostic and administrative utilities;
@item limited test programs;
@item poorly documented.
@end enumerate

The replacement, named @cite{@value{PACKAGE_TITLE}}, was to correct all of these difficulties, and,
by the initial @samp{streams-0.7a.4} release, was:

@enumerate a
@item completely Lindented and follows kernel coding practises;
@item automatically adapts to production kernels with autoconf;
@item packages itself into @acronym{LSB} compliant @acronym{RPM}s and @acronym{DEB}s;
@item designed and implemented specifically for @cite{GNU/Linux};
@item no ports considered;
@item over twice the performance;
@item less than one-eighth of the memory footprint;
@item proper programming by assertion;
@item proper use of lightweight spin locks;
@item race free locking strategies and synchronization;
@item compatible with all mainstream @cite{UNIX@registeredsymbol{}} implementations;
@item conforms to @cite{POSIX/SUSv3 XSR};
@item complete set of standard drivers and modules;
@item complete set of diagnostic and administrative utilities;
@item integrated set of conformance test suites;
@item fully documented.
@end enumerate

Many specific difficulties encountered with @cite{LiS} not repeated by @cite{@value{PACKAGE_TITLE}}
are contained in the @dfn{COMPATIBILITY} section of most of the manual pages.

@ignore
@cite{@value{PACKAGE_TITLE}} is intended as a high-performance, production replacement for
@cite{Linux STREAMS (LiS)}.  @cite{@value{PACKAGE_TITLE}} has the following features in contrast to
@cite{Linux STREAMS}:

@sp 1
@multitable @columnfractions .5 .5
@item @cite{@value{PACKAGE_TITLE}}
@tab @b{LiS}
@item @  @tab @ 
@item Provided and optimized for Linux.
@tab Maintains portability across Linux, User Space, QNX, DOS and other ports.
@item @  @tab @ 
@item Promotes mainstream kernel adoption.
@tab Places portability concerns before mainstream kernel adoption.
@item @  @tab @ 
@item Lindented and follows normal kernel formatting and coding practises.
@tab Non-lindented, does not follow normal kernel formatting and coding practises.
@item @  @tab @ 
@item Provides compatibility modes for AIX, HPUX, OSF, Solaris, UnixWare, SVR 4.2 and LiS.  Supports
all major SVR 4.2 variants.
@tab Provides some compatibility interfaces but also many Linux-derived interfaces specific to LiS.
@item @  @tab @ 
@item Licensed under GPL with commercial licensing available.
@tab Dubiously licensed under LGPL (yet parts are GPL).
@item @  @tab @ 
@item Supports full SVR 4.2 ES/MP synchronization models.
@tab Supports only single, Linux derived synchronization models.
@item @  @tab @ 
@item Runs at SoftIRQ.  By running at SoftIRQ, @cite{@value{PACKAGE_TITLE}} ensures that its place within the
scheduling network-based events is appropriate for the Linux kernel.
@tab Separate kernel threads.
@item @  @tab @ 
@item Provides common SVR 4.2 system tunable parameters and system controls as well as /proc
file system for support and debugging.
@tab Provides only log-based debugging.
@item @  @tab @ 
@item Provides support for SVR 4.2 STREAMS and other utilities.
@tab Provides limited set of LiS only Linux-derived utilities.
@item @  @tab @ 
@item Provides full named-streams device and device file system support.
@tab Provides only character-based node support. @*
@end multitable
@end ignore

@c ----------------------------------------------------------------------------
@c ----------------------------------------------------------------------------

@node Reference
@chapter Reference
@cindex reference

@menu
* Files::			Files included in the package
* Drivers::			Drivers included in the package
* Modules::			Modules included in the package
* Libraries::			Libraries included in the package
* Utilities::			Utilities included in the package
@end menu

@c ----------------------------------------------------------------------------
@c ----------------------------------------------------------------------------

@node Files
@section Files
@cindex headers

The following kernel modules are installed by @cite{@value{PACKAGE_TITLE}} in the
@file{/lib/modules/@value{_kversion}/@value{PACKAGE}/}directory, with either a @samp{.o} or @samp{.ko} extension.
@footnote{The kernel version, @value{_kversion} is just an example.  When installed with a
@samp{.ko} extension, dashes (@samp{-}) are also changed to underscores (@samp{_}).}

@c @include tree.texi

@table @asis

@item @file{specfs}
@pgindex specfs

This kernel module contains the @dfn{STREAMS} Special Shadow Filesystem.
See @manref{specfs(5)} for more information.

@item @file{streams}
@pgindex streams

This kernel module contains the @dfn{STREAMS} scheduler, utility functions, and @dfn{STREAMS} Device
Driver Interface/Driver Kernel Interface (DDI/DKI).
See @manref{STREAMS(9)} for more information.

@item @file{streams-fifo}
@pgindex streams-fifo

This kernel module contains the @file{fifo} @dfn{STREAMS} driver.
This is a standard @dfn{STREAMS} driver, but is also used by the conformance and validation test suite.
See @manref{fifo(4)} for more information.

@item @file{streams-sad}
@pgindex streams-sad

This kernel module contains the @file{sad} @dfn{STREAMS} driver.
This is the standard @dfn{STREAMS} Administrative Driver.
See @manref{sad(4)} for more information.

@item @file{streams-nsdev}
@pgindex streams-nsdev

This kernel module contains the @file{nsdev} @dfn{STREAMS} driver.
This is a @cite{@value{PACKAGE_TITLE}} specific driver.
See @manref{nsdev(4)} for more information.

@item @file{streams-echo}
@pgindex streams-echo

This kernel module contains the @file{echo} @dfn{STREAMS} driver.
This is a standard @dfn{STREAMS} driver, but is also used by the conformance and validation test suite.
See @manref{echo(4)} for more information.

@item @file{streams-mux}
@pgindex streams-mux

This kernel module contains the @file{mux} @dfn{STREAMS} driver.
This is a standard @dfn{STREAMS} driver< but is also used by the conformance and validation test suite.
See @manref{mux(4)} for more information.

@item @file{streams-nuls}
@pgindex streams-nuls

This kernel module contains the @file{nuls} @dfn{STREAMS} driver.
This is a standard @dfn{STREAMS} module.
See @manref{nuls(4)} for more information.

@item @file{streams-pipe}
@pgindex streams-pipe

This kernel module contains the @file{pipe} @dfn{STREAMS} driver.
This is a standard @dfn{STREAMS} driver.
See @manref{pipe(4)} for more information.

@item @file{streams-log}
@pgindex streams-log

This kernel module contains the @file{log} @dfn{STREAMS} driver.
This is a standard @dfn{STREAMS} driver.
See @manref{log(4)} for more information.

@item @file{streams-loop}
@pgindex streams-loop

This kernel module contains the @file{loop} @dfn{STREAMS} driver.
This is a standard @dfn{STREAMS} driver, but is also used by the conformance and validation test suite.
See @manref{loop(4)} for more information.

@item @file{streams-sfx}
@pgindex streams-sfx

This kernel module contains the @dfn{sfx} @dfn{STREAMS} driver.
This is a common character device driver for implementing @dfn{STREAMS} FIFOs.
See @manref{sfx(4)} for more information.

@item @file{streams-spx}
@pgindex streams-spx

This kernel module contains the @dfn{spx} @dfn{STREAMS} driver.
This is a common character device driver for implementing @dfn{STREAMS} pipes.
See @manref{spx(4)} for more information.

@item @file{streams-bufmod}
@pgindex streams-bufmod

This kernel module contains the @file{bufmod} @dfn{STREAMS} module.  The @file{bufmod} @dfn{STREAMS}
module is a simple buffer module (a module that always defers to its service procedure and then
passes any message along).  This module is used for performance testing of the @dfn{STREAMS}
package.
See @manref{bufmod(4)} for more information.

@item @file{streams-nullmod}
@pgindex streams-nullmod

This kernel module contains the @file{nullmod} @dfn{STREAMS} module.  The @file{nullmod}
@dfn{STREAMS} module is a simple null module (a module that always passes messages to the next
module in along the Stream).  This module is used for performance testing of the @dfn{STREAMS}
package and is also used by the conformance and validation test suite.
See @manref{nullmod(4)} for more information.

@item @file{streams-pipemod}
@pgindex streams-pipemod

This kernel module contains the @file{pipemod} @dfn{STREAMS} module.
This is a standard @dfn{STREAMS} module used with pipes.
See @manref{pipemod(4)} for more information.

@item @file{streams-connld}
@pgindex streams-connld

This kernel module contains the @file{connld} @dfn{STREAMS} module.
This is a standard @dfn{STREAMS} module.
See @manref{connld(4)} for more information.

@item @file{streams-sc}
@pgindex streams-sc

This kernel module contains the @dfn{sc} @dfn{STREAMS} module.
This is a common @dfn{STREAMS} Configuration module.
See @manref{sc(4)} for more information.

@item @file{streams-testmod}
@pgindex streams-testmod

This kernel module contains the @file{testmod} @dfn{STREAMS} module.
This is a @cite{@value{PACKAGE_TITLE}} specific test module that is used for conformance and validation
testing of @dfn{STREAMS}.
See @manref{testmod(4)} for more information.

@end table

Additional kernel modules are provided by add-on packages.

@c ----------------------------------------------------------------------------
@c ----------------------------------------------------------------------------

@node Drivers
@section Drivers
@cindex drivers

The configuration of @dfn{STREAMS} drivers and modules is performed when compiling the
@cite{@value{PACKAGE_TITLE}} subsystem.  The @dfn{STREAMS} subsystem, core drivers and modules are
part of every @cite{@value{PACKAGE_TITLE}} system.

The following lists the core drivers and modules, @dfn{STREAMS} kernel tunable parameters, and
@dfn{STREAMS} configuration information:@footnote{Note that documentation for @dfn{STREAMS} drivers
is in the form of manual pages in Section 4 of the manual pages with the same name as the driver.}

@table @asis

@item @manpage{clone(4)} (@file{streams})
@pgindex streams
@pgindex clone

Clone device driver.
This is a standard @cite{SVR 4.2 @dfn{STREAMS}} driver.
The @manpage{clone(4)} driver is a integral part of @dfn{STREAMS} and is used to create clone
instances of a @dfn{STREAMS} driver.

See @manref{clone(4)} for more information.

@item @manpage{echo(4)} (@file{streams-echo})
@pgindex streams-echo
@pgindex echo

Echo (loopback) device driver.
This is a commonly implemented @dfn{STREAMS} driver.  It is implemented by @cite{HP-UX@registeredsymbol{}} and
@cite{OSF/1@registeredsymbol{}}.  The @manpage{echo(4)} driver provides a simple FIFO-like device without full
@cite{POSIX} FIFO semantics.  Its primary purpose is for the @dfn{STREAMS} Verification function,
@manref{strvf(8)}, and the @manref{test-streams(8)} validation test suite.

See @manref{echo(4)} for more information.

@item @manpage{fifo(4)} (@file{streams-fifo})
@pgindex streams-fifo
@pgindex fifo

FIFO (Named Pipe) device driver.
This is a standard @cite{SVR 4.2 @dfn{STREAMS}} driver.
The @manpage{fifo(4)} driver provides @cite{POSIX}-compliant @dfn{STREAMS}-based @dfn{FIFO} device.
Not all implementations of @dfn{STREAMS} provide @dfn{STREAMS}-based @dfn{FIFO}s: some
implementations use the older @cite{SVR 3}-style @dfn{FIFO}s that are not @dfn{STREAMS}-based.
@cite{@value{PACKAGE_TITLE}} provides @dfn{STREAMS}-based @dfn{FIFO}s with the @manpage{fifo(4)}
driver.

See @manref{fifo(4)} for more information.

@item @manpage{log(4)} (@file{streams-log})
@pgindex streams-log
@pgindex log

@dfn{STREAMS} log driver.
This is a standard @cite{SVR 4.2 @dfn{STREAMS}} driver.
The @manpage{log(4)} driver provides a @dfn{STREAMS} capable logger in addition to the @cite{BSD}
logger present in @cite{Linux}.  The @manpage{log(4)} driver provides additional support for
@dfn{STREAMS} modules and drivers using the @manref{strlog(9)} kernel level utility.
@cite{@value{PACKAGE_TITLE}} also provides the @manpage{strace(8)}, @manpage{strerr(8)} and
@manpage{strclean(8)} administrative utility  functions and startup scripts for controlling the
@manpage{log(4)} driver.

See @manref{log(4)} for more information.

@item @manpage{loop(4)} (@file{streams-loop})
@pgindex streams-loop
@pgindex loop

Loop device driver.
This is a standard @cite{SVR 4.2 @dfn{STREAMS}} driver.
The @command{loop} driver is detailed in the @cite{UNIX System V Release 4 Programmer's Manual -- STREAMS}.
The @manpage{loop(4)} driver provides capabilities used primarily for validation test programs (see
@manref{test-streams(8)}) as well as serving as an example driver.

See @manref{loop(4)} for more information.

@item @manpage{mux(4)} (@file{streams-mux})
@pgindex streams-mux
@pgindex mux

Multiplexing driver.
This is a standard @cite{SVR 4.2 @dfn{STREAMS}} driver.
The @command{mux} driver is detailed in the @cite{UNIX System V Release 4 Programmer's Manual -- STREAMS}.
The @manpage{mux(4)} driver provides capabilities used primarily for validation test programs (see
@manref{test-streams(8)} as well as serving as an example multiplexing driver.  This
@manpage{mux(4)} driver also provides the @command{minimux} capabilities formerly present in @cite{LiS}.

See @manref{mux(4)} for more information.

@item @manpage{nsdev(4)} (@file{streams-nsdev})
@pgindex streams-nsdev
@pgindex nsdev

Named @dfn{STREAMS} device driver.
This is a @cite{@value{PACKAGE_TITLE}} specific driver.
The @manpage{nsdev(4)} driver is a @manpage{clone(4)}-like driver that permits the specification of
major and minor device numbers using the device node name.  It provides one of three mechanisms
under @cite{@value{PACKAGE_TITLE}} that remove @dfn{STREAMS} driver dependency on statically
allocated device numbers.

See @manref{nsdev(4)} for more information.

@item @manpage{nuls(4)} (@file{streams-nuls})
@pgindex streams-nuls
@pgindex nuls

Null @dfn{Stream} driver.
This is a standard @cite{SVR 4.2 @dfn{STREAMS}} driver.
The @manpage{nuls(4)} driver is usually called @samp{null}.  @cite{Linux} has its own
@cite{SVR3}-style @file{/dev/null} driver, so it was renamed to @samp{nuls}.

See @manref{nuls(4)} for more information.

@item @manpage{pipe(4)} (@file{streams-pipe})
@pgindex streams-pipe
@pgindex pipe

@dfn{STREAMS}-based pipe driver.
This is a standard @cite{SVR 4.2 @dfn{STREAMS}} driver.
However, @manpage{pipe(4)} is not normally implemented as a @dfn{STREAMS} driver, but is implemented
as a system call.  @cite{@value{PACKAGE_TITLE}} provides @manpage{pipe(2s)} system call emulation
which invokes this driver internal to the kernel.

See @manref{pipe(4)} for more information.

@item @manpage{sad(4)} (@file{streams-sad})
@pgindex streams-sad
@pgindex sad

@dfn{STREAMS} Administrative Driver.
This is a standard @cite{SVR 4.2 @dfn{STREAMS}} driver.
The @manpage{sad(4)} driver is used by the @manref{autopush(8)} utility to examine and specify the
autopush lists for @dfn{STREAMS} drivers.  Also, it is used to examine and verify the present of
@dfn{STREAMS} modules or drivers in the system.

See @manref{sad(4)} for more information.

@item @manpage{sfx(4)} (@file{streams-sfx})
@pgindex streams-sfx
@pgindex sfx

@dfn{STREAMS} FIFO device driver.
This is commonly implemented @dfn{STREAMS} driver that is used to implement @dfn{STREAMS} FIFOs
(Named Pipes) using a regular character device.
The @manpage{sfx(4)} driver provides a character based device approach to creating FIFOs.

See @manref{sfx(4)} for more information.

@item @manpage{spx(4)} (@file{streams-spx})
@pgindex streams-spx
@pgindex spx

@dfn{STREAMS} pipe device driver.
This is commonly implemented @dfn{STREAMS} driver that is used to implement @dfn{STREAMS} pipes
using a regular character device.
The @manpage{spx(4)} driver provides a character based device approach to creating FIFOs and pipes.
Only @cite{UnixWare@registeredsymbol{}} and @cite{AIX(4)} document this device.

See @manref{spx(4)} for more information.

@end table

Additional drivers are provided by add-on packages.

@c ----------------------------------------------------------------------------
@c ----------------------------------------------------------------------------

@page
@node Modules
@section Modules
@cindex modules

The configuration of @dfn{STREAMS} drivers and modules is performed when compiling the
@cite{@value{PACKAGE_TITLE}} subsystem.  The @dfn{STREAMS} subsystem, core drivers and modules are
part of every @cite{@value{PACKAGE_TITLE}} system.

The following lists the core drivers and modules, @dfn{STREAMS} kernel tunable parameters, and
@dfn{STREAMS} configuration information:@footnote{Note that documentation for @dfn{STREAMS} modules
is in the form of a manual page in Section 4 of the manual pages with the same name as the module.}

@table @asis

@item @manpage{pipemod(4)} (@file{streams-pipemod})
@pgindex streams-pipemod

Pipe module.
This is a standard @cite{SVR 4.2 @dfn{STREAMS}} module.
The @manpage{pipemod(4)} module can be pushed over a pipe end or FIFO before other modules are
pushed (on either end) to reverse the sense of the @manpage{M_FLUSH(9)} message that traverse the
pipe.

See @manref{pipemod(4)} for more information.

@item @manpage{connld(4)} (@file{streams-connld})
@pgindex streams-connld

Connection Line Discipline module.
This is a standard @cite{SVR 4.2 @dfn{STREAMS}} module.
The @manpage{connld(4)} module can be pushed over a pipe end that has been attached to a file system
file using @manref{fattach(3)} and will then create a new pipe instance on each @manpage{open(2s)}
of the attached file and pass the new remove file pointer to the remove end using
@manpage{M_PASSFP(9)} to be received with @manpage{I_RECVFD(7)}.  This allows servers to be created
that use @manpage{pipe(4)}s for communication.

See @manref{connld(4)} for more information.

@item @manpage{sc(4)} (@file{streams-sc})
@pgindex streams-sc

@dfn{STREAMS} Configuration module.
This is a commonly implemented @dfn{STREAMS} module.
It is implemented by @cite{HP-UX} and @cite{AIX}, and perhaps other @cite{Mentat}-derived
@dfn{STREAMS} implementations.
The @manpage{sc(4)} modules provides the ability to access @dfn{STREAMS} driver information by name
rather than major device number.  It also provides access to the @mantype{module_info(9)} and
@mantype{module_stat(9)} structure information for the named @dfn{STREAMS} module or driver, not
accessible using the @manpage{sad(4)} driver.  The @manpage{sc(4)} module is used by the
@manref{scls(8)} utility.

See @manref{sc(4)} for more information.

@item @manpage{bufmod(4)} (@file{streams-bufmod})
@pgindex streams-bufmod

Buffer module.
This is a standard @cite{SVR 4.2 @dfn{STREAMS}} module described in the @cite{UNIX System V Release 4
Programmer's Manual -- STREAMS}.
The @manpage{bufmod(4)} module also has @cite{@value{PACKAGE_TITLE}} specific extensions.
The @manpage{bufmod(4)} module is used by the @manref{perftest(8)} performance test program to test
the effect of additional levels of service procedure pushed over a @dfn{Stream}.
The module also serves as an example of a @dfn{STREAMS} module using service procedures.

See @manref{bufmod(4)} for more information.

@item @manpage{nullmod(4)} (@file{streams-nullmod})
@pgindex streams-nullmod

Null module.
This is a standard @cite{SVR 4.2 @dfn{STREAMS}} module described in the @cite{UNIX System V Release 4
Programmer's Manual -- STREAMS}.
The @manpage{nullmod(4)} module also has @cite{@value{PACKAGE_TITLE}} specific extensions.
The @manpage{nullmod(4)} module is used by the @manref{perftest(8)} performance test program to test
the effect of additional levels of put procedure pushed over a @dfn{Stream}.
The module also serves as an example of a @dfn{STREAMS} module not using service procedures.

See @manref{nullmod(4)} for more information.

@item @manpage{testmod(4)} (@file{streams-testmod})
@pgindex streams-testmod

Test module.
This is a @cite{@value{PACKAGE_TITLE}} specific @dfn{STREAMS} module.
The primary purpose of the @manpage{testmod(4)} modules is to provide the @manref{test-streams(8)}
validation test program with the capability to pass specific @manpage{M_ERROR(9)} and
@manpage{M_HANGUP(9)} messages to the @dfn{Stream head} for @cite{POSIX} validation testing.
It also serves as an example of how a @dfn{STREAMS} module can properly process @manpage{M_IOCTL(9)}
and related messages.

See @manref{testmod(4)} for more information.

@end table

Additional modules are provided by add-on packages.

@c ----------------------------------------------------------------------------
@c ----------------------------------------------------------------------------

@page
@node Libraries
@section Libraries
@cindex libraries

During the installation process of @cite{@value{PACKAGE_TITLE}} a subroutine library is built and
installed on your system.  For 64-bit systems that support 32-bit compatibility, two versions of
each library are built and installed: one 64-bit native library and one 32-bit compatibility
library.  64-bit native libraries are installed to the @file{/usr/lib64} subdirectory.  32-bit
native and 32-bit compatibility libraries are installed to the @file{/usr/lib} subdirectory.

@table @file

@item libstreams.so.0.0.1
@itemx libstreams.so.0
@itemx libstreams.so
Provides a shared object library for use by @dfn{STREAMS} applications programs.

@item libstreams.a
Provides a static library for use by @dfn{STREAMS} applications programs.

@item libstreams.la
Provides the @command{libtool} definitions for the library.

@end table

In addition to the @file{libstreams} library, @cite{@value{PACKAGE_TITLE}} also installs
compatibility libraries for @cite{LiS}.  These compatibility libraries permit applications
previously linked with @cite{LiS} shared libraries to function with @cite{@value{PACKAGE_TITLE}}
without recompiling or relinking.

@table @file

@item libLiS.so.0.0.1
@itemx libLiS.so.0
@itemx libLiS.so
Provides a shared object library for use by legacy @cite{LiS} applications programs.

@item libLiS.a
Provides a static library for use by legacy @cite{LiS} applications programs.

@item libLiS.la
Provides the @command{libtool} definitions for the library.

@itemx libpLiS.so.0.0.1
@itemx libpLiS.so.0
@itemx libpLiS.so
Provides a shared object library for use by legacy @cite{LiS} applications programs.

@item libpLiS.a
Provides a static library for use by legacy @cite{LiS} applications programs.

@item libpLiS.la
Provides the @command{libtool} definitions for the library.

@end table

@subsection libstreams Library Routines

The following routines are present in the @file{libstreams} libraries.  The routines in these
libraries are standard @dfn{STREAMS} interface system calls documented in the @cite{System V Release
4.2 Programmer's Manual -- STREAMS}.  Refer to the associated manual pages for detailed information
on these routines.

@ftable @manref

@item fattach(2)
Name a @dfn{STREAMS} special file.

@item fdetach(2)
Unname a @dfn{STREAMS} special file.

@item getmsg(2)
Get next message off of a Stream.

@item getpmsg(2s)
Get next message off of a Stream.

@item isastream(2)
Test for a @dfn{STREAMS} special file.

@item pipe(2s)
Create a @dfn{STREAMS} pipe.

@item putmsg(2)
Put a message to a @dfn{STREAMS} character device.

@item putpmsg(2s)
Put a band message to a @dfn{STREAMS} character device.

@item pstrlog(3)
Print a @dfn{STREAMS} log buffer.

@item strlog(3)
Print a @dfn{STREAMS} log buffer.

@item vstrlog(3)
Print a @dfn{STREAMS} log buffer.

@end ftable

@subsection libLiS Library Routines

The following routines are present in the @file{libLiS} libraries.  The routines are identical to
the routines present in the @file{libstreams} library and are provided in the @file{libLiS} library
for compatibility with existing applications linked against @file{libLiS}.

@ftable @manref

@item fattach(2)
Name a @dfn{STREAMS} special file.

@item fdetach(2)
Unname a @dfn{STREAMS} special file.

@item getmsg(2)
Get next message off of a Stream.

@item getpmsg(2s)
Get next message off of a Stream.

@item isastream(2)
Test for a @dfn{STREAMS} special file.

@item pipe(2s)
Create a @dfn{STREAMS} pipe.

@item putmsg(2)
Put a message to a @dfn{STREAMS} character device.

@item putpmsg(2s)
Put a band message to a @dfn{STREAMS} character device.

@ignore
@item pstrlog(3)
Print a @dfn{STREAMS} log buffer.
@item strlog(3)
Print a @dfn{STREAMS} log buffer.
@item vstrlog(3)
Print a @dfn{STREAMS} log buffer.
@end ignore

@end ftable

@subsection libpLiS Library Routines

The following routines are present in the @file{libpLiS} libraries.  The @file{libpLiS} library is
the same as the @file{libLiS} and @file{libstreams} libraries but omits the @manpage{pipe(2s)}
subroutine.  The purpose of the @file{libpLiS} library was to permit it to be used as a library
preload without affecting the @manpage{pipe(2s)} function used by existing programs linked against
@file{libc}.

@ftable @manref

@item fattach(2)
Name a @dfn{STREAMS} special file.

@item fdetach(2)
Unname a @dfn{STREAMS} special file.

@item getmsg(2)
Get next message off of a Stream.

@item getpmsg(2s)
Get next message off of a Stream.

@item isastream(2)
Test for a @dfn{STREAMS} special file.

@item putmsg(2)
Put a message to a @dfn{STREAMS} character device.

@item putpmsg(2s)
Put a band message to a @dfn{STREAMS} character device.

@ignore
@item pstrlog(3)
Print a @dfn{STREAMS} log buffer.
@item strlog(3)
Print a @dfn{STREAMS} log buffer.
@item vstrlog(3)
Print a @dfn{STREAMS} log buffer.
@end ignore

@end ftable

@subsection Using the Library

To use one of the @cite{@value{PACKAGE_TITLE}} libraries you can include the file
@file{sys/stropts.h} in you application program source code.  On you compiler command line, add the
option @samp{-I/usr/include/@value{PACKAGE}} to include the version of @file{sys/stropts.h} that is
distributed with @cite{@value{PACKAGE_TITLE}}.

When linking our program, or performing a final @command{gcc} to build your executable, include one
of the following options on your command line:

@table @samp

@item /usr/lib/libstreams.a
@itemx -lstreams -static
Link against the static version of the library.

@item -lstreams
Link against the shared object version of the library.

@item /usr/lib/libstreams.la
Use with @command{libtool} to link additional convenience libraries against the shared or static
versions of the library.

@end table

Failure to link the executable runtime path for @file{libstreams} will result in linker-loader
warnings that the functions @manpage{getpmsg(2s)} or @manpage{putpmsg(2s)} are not implemented and
will always fail.@footnote{These warnings are generated when linking only against the @file{libc}
library that includes only failing stubs for @manpage{getpmsg(2)} and @manpage{putpmsg(2)}}.

See also @refman{Development} for more information.


@c ----------------------------------------------------------------------------
@c ----------------------------------------------------------------------------

@page
@node Utilities
@section Utilities
@cindex utilities

@menu
* Init Scripts::
* User Utilities::
* Administrative Utilities::
* Performance Test Programs::
* Conformance Test Programs::
@end menu

@node Init Scripts
@subsection Init Scripts
@cindex init scripts

Following are System V Init Scripts that are installed by the package:

@table @asis

@item @manpage{specfs(8)} (@file{/etc/init.d/specfs})
@pgindex specfs
@pgindex /etc/init.d/specfs
@itemx @manpage{specfs.sh(8)} (@file{/etc/init.d/specfs.sh})
@pgindex specfs.sh
@pgindex /etc/init.d/specfs.sh

System V Init Script for the @dfn{STREAMS} Special Shadow Filesystem.
The @manpage{specfs(8)} init script provides the ability to initialize, configure and mount the
@dfn{STREAMS} Special Shadow Filesystem, @manpage{specfs(5)}.
The @manpage{specfs(8)} script provides the RedHat-style init script, whereas the
@manpage{specfs.sh(8)} script provides the Debian-style init script.

See @manref{specfs(8)} for more information.

@item @manpage{@value{PACKAGE}(8)} (@file{/etc/init.d/@value{PACKAGE}})
@pgindex @value{PACKAGE}
@pgindex /etc/init.d/@value{PACKAGE}
@itemx @manpage{@value{PACKAGE}.sh(8)} (@file{/etc/init.d/@value{PACKAGE}.sh})
@pgindex @value{PACKAGE}.sh
@pgindex /etc/init.d/@value{PACKAGE}.sh

System V Init Script for the @dfn{STREAMS} Subsystem.
The @manpage{streams(8)} init script provides the ability to initialize, configure and mount the
@dfn{STREAMS} subsystem, @manpage{STREAMS(9)}.
The @manpage{streams(8)} script provides the RedHat-style init script, whereas the
@manpage{streams.sh(8)} script provides the Debian-style init script.

See @manref{streams(8)} for more information.

@end table

@node User Utilities
@subsection User Utilities
@cindex user utilities

Following are user utilities for manipulating @dfn{Streams}:

@table @asis

@item @manpage{strchg(1)} (@file{/usr/bin/strchg})
@pgindex strchg
@pgindex /usr/bin/strchg

Change @dfn{Stream} configuration.
@manpage{strchg(1)} is a standard @cite{SVR 4.2 @dfn{STREAMS}} user utility.

@manpage{strchg(1)} is a C-language user program that can be used to alter the configuration of the
@dfn{Stream} associated with the caller's standard input.  The @manpage{strchg(1)} command pushes
modules on the @dfn{Stream}, pops modules off of the @dfn{Stream}, or both.  Only the superuser or
owner of the @dfn{STREAMS} device can alter the configuration of that @dfn{Stream}.  If another user
attempts to alter the configuration, the @manpage{strconf(1)} command will fail.

@manpage{strchg(1)} is useful from the shell and, when standard input is redirected from an open
file descriptor to the command, can be used to push and pop modules from arbitrary @dfn{Streams},
not just those associated with @dfn{STREAMS}-based terminal devices.

See @manref{strchg(1)} for more information.

@item @manpage{strconf(1)} (@file{/usr/bin/strconf})
@pgindex strconf
@pgindex /usr/bin/strconf

Query @dfn{Stream} configuration.
@manpage{strconf(1)} is a standard @cite{SVR 4.2 @dfn{STREAMS}} user utility.

@manpage{strconf(1)} is a C-language user program that can be used to query the configuration of a
@dfn{Stream}.  When use without any options, it prints a list of the modules in the @dfn{Stream}
associated with the standard input, as well as the topmost driver.  The list is printed with one
name per line, where the first name printed is the topmost module on the @dfn{Stream} and the last
item printed is the name of the topmost driver associated with the @dfn{Stream}.

@manpage{strconf(1)} is useful from the shell and, when standard input is redirected from an open
file descriptor to the command, can be used to query arbitrary @dfn{Streams}, not just the
associated with @dfn{STREAMS}-based terminal devices.

See @manref{strconf(1)} for more information.

@item @manpage{strreset(1)} (@file{/usr/bin/strreset})
@pgindex strreset
@pgindex /usr/bin/strreset

Reset a @dfn{Stream}.
@manpage{strreset(1)} is a standard @cite{SVR 4.2 @dfn{STREAMS}} user utility.

@manpage{strreset(1)}is a C-language user program that resets an open @dfn{Stream} by generating an
@manpage{M_FLUSH(9)} message to the @dfn{Stream head}.  It is used mainly to reset blocked
@dfn{Streams}.  Wehn it is impossible to reopen the @dfn{Stream}, issue an @manref{I_FLUSH} or
equivalent command.  This situation may happen with a process sleeping in a module's close routine,
when signals can not be sent to the process (a zombie process exiting, for example).

See @manref{strreset(1)} for more information.

@end table

@node Administrative Utilities
@subsection Administrative Utilities
@cindex administrative utilities

Following are administrative utilities for manipulating and examining the @dfn{STREAMS} subsystem:

@table @asis

@item @manpage{autopush(8)} (@file{/usr/sbin/autopush})
@pgindex autopush
@pgindex /usr/sbin/autopush

Control the @dfn{autopush} module list for a @dfn{STREAMS} device.
@manpage{autopush(8)} is a standard @cite{SVR 4.2 @dfn{STREAMS}} administrative utility.

@manpage{autopush(8)} is a C-language program that can be used to manipulate and examine which
@dfn{STREAMS} modules are automatically pushed over a device when it is opened.  It is also possible
to restrict the ability to push further modules on the @dfn{Stream} without proper privilege.
The @manpage{autopush(8)} utility provides a user program interface to the @dfn{STREAMS}
Administrative Driver (@manpage{sad(4)}).

See @manref{autopush(8)} for more information.

@item @manpage{fattach(8)} (@file{/usr/sbin/fattach})
@pgindex fattach
@pgindex /usr/sbin/fattach

Name a @dfn{STREAMS} file.
@manpage{fattach(8)} is an @cite{LiS} utility.  Although @cite{OSF/1} documentation mentions an
@command{fattach} manual page in section 8, one does not exist.

@manpage{fattach(8)} opens a @manpage{pipe(4)} and attaches one end of the pipe to a file using
@manpage{fattach(3)}, and optionally pushes the @manpage{connld(4)} module on the side of the pipe
being attached to the file.  The other end of the pipe remains available for use by the shell
program invoking this command.

@manpage{fattach(8)} provides a easy way for shell programs to use @dfn{STREAMS}-based pipes and to
use the facilities of the @manpage{connld(4)} module.

See @manref{fattach(8)} for more information.

@item @manpage{fdetach(8)} (@file{/usr/sbin/fdetach})
@pgindex fdetach
@pgindex /usr/sbin/fdetach

Unlink a named @dfn{STREAMS} file.

@manpage{fdetach(8)} is a standard @cite{SVR 4.2 @dfn{STREAMS}} administrative utility.

@manpage{fdetach(8)} is a C-language program that detaches or disassociates a file descriptor for an
open @dfn{STREAMS} device or pipe from its filename in the file system.

See @manref{fdetach(8)} for more information.

@item @manpage{insf(8)} (@file{/usr/sbin/insf})
@pgindex insf
@pgindex /usr/sbin/insf

Install special files.
@manpage{insf(8)} is the @cite{HP-UX} way to install special (device) files.  This program is not
even partially implemented in @cite{@value{PACKAGE_TITLE}}.  Use @manref{streams_mknod(8)} and
friends instead.

See @manref{insf(8)} for more information.

@item @manpage{scls(8)} (@file{/usr/sbin/scls})
@pgindex scls
@pgindex /usr/sbin/scls

List @dfn{STREAMS} configuration.
@manpage{scls(8)} is a rather useful @cite{AIX} administrative utility that is also implemented by
@cite{@value{PACKAGE_TITLE}}.

@manpage{scls(8)} is a C-language program that can be used to list module and driver names as well
as information and statistics associated with those modules or drivers.
The @manpage{scls(8)} utility provides a user program interface to the @dfn{STREAMS} Configuration
module (@manpage{sc(4)}).

See @manref{scls(8)} for more information.

@item @manpage{strace(8)} (@file{/usr/sbin/strace})
@pgindex strace
@pgindex /usr/sbin/strace

Write @dfn{STREAMS} event trace messages to the standard output.
@manpage{strace(8)} is a standard @cite{SVR 4.2 @dfn{STREAMS}} administrative utility.

The @manpage{strace(8)} C-language program receives trace event messages from the @dfn{STREAMS} log
driver (@manpage{log(4)}) and writes these messages to the standard output.  When run as a daemon,
@manpage{strace(8)} appends these messages to a log file.

Messages that appear in the trace log are intended to report debugging information that assists with
troubleshooting a running @dfn{STREAMS} module or driver.

See @manref{strace(8)} for more information.

@item @manpage{strclean(8)} (@file{/usr/sbin/strclean})
@pgindex strclean
@pgindex /usr/sbin/strclean

Clean up after the @dfn{STREAMS} error logger.
@manpage{strclean(8)} is a standard @cite{SVR 4.2 @dfn{STREAMS}} administrative utility.

The @manpage{strclean(8)} utility is a bash script that can be used to delete aged log files
generated by the @dfn{STREAMS} error logger, @manpage{strerr(8)}.

See @manref{strclean(8)} for more information.

@item @manpage{streams_mknod(8)} (@file{/usr/sbin/streams_mknod})
@pgindex streams_mknod
@pgindex /usr/sbin/streams_mknod

Make special device nodes for @dfn{STREAMS}.
@manpage{streams_mknod(8)} is a @cite{@value{PACKAGE_TITLE}} specific administrative utility.

The @manpage{streams_mknod(8)} C-language program can be used to make (or remove) the special
device nodes under the @file{/dev} directory required by @command{@value{PACKAGE}-@value{VERSION}}
package modules and drivers.  @manpage{streams_mknod(8)} in invoked by the System V startup script,
@file{/etc/init.d/@value{PACKAGE}}.

See @manref{streams_mknod(8)} for more information.

@item @manpage{strerr(8)} (@file{/usr/sbin/strerr})
@pgindex strerr
@pgindex /usr/sbin/strerr

Receive error log messages from the @dfn{STREAMS} @manpage{log(4)} driver.
@manpage{strerr(8)} is a standard @cite{SVR 4.2 @dfn{STREAMS}} administrative utility.

The @manpage{strerr(8)} utility is a C-language program, run as a daemon, that receives error log
messages from the @dfn{STREAMS} log driver (@manpage{log(4)}) and writes these message to a log
file.  By default, @manpage{strerr(8)} logs all @dfn{STREAM} error messages from all drivers and
modules.

Messages that appear in the error log are intended to report exceptional conditions that require the
attention of the person who administers your system.

See @manref{strerr(8)} for more information.

@item @manpage{strinfo(8)} (@file{/usr/sbin/strinfo})
@pgindex strinfo
@pgindex /usr/sbin/strinfo

List @dfn{Stream} information.
@manpage{strinfo(8)} is a rather useful @cite{AIX} administrative utility that is also implemented by
@cite{@value{PACKAGE_TITLE}}.

The @manpage{strinfo(8)} C-language program can be used to list @dfn{Stream} instance information as
well as information and statistics on a module or driver basis.
The @manpage{scls(8)} utility provides a user program interface to the @dfn{STREAMS} Configuration
module (@manpage{sc(4)}).

This program is not even partially implemented in @cite{@value{PACKAGE_TITLE}} yet.  User
@manref{proc(5)} file system and the @file{/proc/streams} directory instead.  Also, see
@manref{scls(8)} for driver and module specific information.

See @manref{strinfo(8)} for more information.

@item @manpage{strload(8)} (@file{/usr/sbin/strload})
@pgindex strload
@pgindex /usr/sbin/strload

Loads the @dfn{STREAMS} subsystem.
@manpage{strload(8)} is a useful @cite{AIX} administrative utility that is also implemented by
@cite{@value{PACKAGE_TITLE}}.

The @manpage{strload(8)} bash script can be used to load @dfn{STREAMS} modules and drivers
individually or from a configuration file.

See @manref{strload(8)} for more information.

@item @manpage{strsetup(8)} (@file{/usr/sbin/strsetup})
@pgindex strsetup
@pgindex /usr/sbin/strsetup

Bash script.

See @manref{strsetup(8)} for more information.

@item @manpage{strvf(8)} (@file{/usr/sbin/strvf})
@pgindex strvf
@pgindex /usr/sbin/strvf

C-language program.

See @manref{strvf(8)} for more information.

@end table

@node Performance Test Programs
@subsection Performance Test Programs
@cindex performance test programs

Following are performance test programs:

@table @asis

@item @manpage{perftest(8)} (@file{/usr/sbin/perftest})
@pgindex perftest
@pgindex /usr/sbin/perftest

C-language program.

See @manref{perftest(8)} for more information.

@item @manpage{perftestn(8)} (@file{/usr/sbin/perftestn})
@pgindex perftestn
@pgindex /usr/sbin/perftestn

C-language program.

See @manref{perftestn(8)} for more information.

@end table

@node Conformance Test Programs
@subsection Conformance Test Programs
@cindex conformance test programs

Following and conformance and validation testing programs:

@table @asis

@item @manpage{test-clone(8)} (@file{/usr/libexec/@value{PACKAGE}/test-clone})
@pgindex test-clone
@pgindex /usr/libexec/@value{PACKAGE}/test-clone

The @manpage{test-clone(8)} C-language program is a conformance and validation test program, in the
OpenSS7 Project style, for the
@manpage{clone(4)} @dfn{STREAMS} driver.

See @manref{test-clone(8)} for more information.

@item @manpage{test-connld(8)} (@file{/usr/libexec/@value{PACKAGE}/test-connld})
@pgindex test-connld
@pgindex /usr/libexec/@value{PACKAGE}/test-connld

The @manpage{test-connld(8)} C-language program is a conformance and validation test program, in the
OpenSS7 Project style, for the
@manpage{connld(4)} @dfn{STREAMS} driver.

See @manref{test-connld(8)} for more information.

@item @manpage{test-echo(8)} (@file{/usr/libexec/@value{PACKAGE}/test-echo})
@pgindex test-echo
@pgindex /usr/libexec/@value{PACKAGE}/test-echo

The @manpage{test-echo(8)} C-language program is a conformance and validation test program, in the
OpenSS7 Project style, for the
@manpage{echo(4)} @dfn{STREAMS} driver.

See @manref{test-echo(8)} for more information.

@item @manpage{test-fifo(8)} (@file{/usr/libexec/@value{PACKAGE}/test-fifo})
@pgindex test-fifo
@pgindex /usr/libexec/@value{PACKAGE}/test-fifo

The @manpage{test-fifo(8)} C-language program is a conformance and validation test program, in the
OpenSS7 Project style, for the
@manpage{fifo(4)} @dfn{STREAMS} driver.

See @manref{test-fifo(8)} for more information.

@item @manpage{test-log(8)} (@file{/usr/libexec/@value{PACKAGE}/test-log})
@pgindex test-log
@pgindex /usr/libexec/@value{PACKAGE}/test-log

The @manpage{test-log(8)} C-language program is a conformance and validation test program, in the
OpenSS7 Project style, for the
@manpage{log(4)} @dfn{STREAMS} driver.

See @manref{test-log(8)} for more information.

@item @manpage{test-loop(8)} (@file{/usr/libexec/@value{PACKAGE}/test-loop})
@pgindex test-loop
@pgindex /usr/libexec/@value{PACKAGE}/test-loop

The @manpage{test-loop(8)} C-language program is a conformance and validation test program, in the
OpenSS7 Project style, for the
@manpage{loop(4)} @dfn{STREAMS} driver.

See @manref{test-loop(8)} for more information.

@item @manpage{test-mux(8)} (@file{/usr/libexec/@value{PACKAGE}/test-mux})
@pgindex test-mux
@pgindex /usr/libexec/@value{PACKAGE}/test-mux

The @manpage{test-mux(8)} C-language program is a conformance and validation test program, in the
OpenSS7 Project style, for the
@manpage{mux(4)} @dfn{STREAMS} driver.

See @manref{test-mux(8)} for more information.

@item @manpage{test-nsdev(8)} (@file{/usr/libexec/@value{PACKAGE}/test-nsdev})
@pgindex test-nsdev
@pgindex /usr/libexec/@value{PACKAGE}/test-nsdev

The @manpage{test-nsdev(8)} C-language program is a conformance and validation test program, in the
OpenSS7 Project style, for the
@manpage{nsdev(4)} @dfn{STREAMS} driver.

See @manref{test-nsdev(8)} for more information.

@item @manpage{test-nuls(8)} (@file{/usr/libexec/@value{PACKAGE}/test-nuls})
@pgindex test-nuls
@pgindex /usr/libexec/@value{PACKAGE}/test-nuls

The @manpage{test-nuls(8)} C-language program is a conformance and validation test program, in the
OpenSS7 Project style, for the
@manpage{nuls(4)} @dfn{STREAMS} driver.

See @manref{test-nuls(8)} for more information.

@item @manpage{test-pipe(8)} (@file{/usr/libexec/@value{PACKAGE}/test-pipe})
@pgindex test-pipe
@pgindex /usr/libexec/@value{PACKAGE}/test-pipe

The @manpage{test-pipe(8)} C-language program is a conformance and validation test program, in the
OpenSS7 Project style, for the
@manpage{pipe(4)} @dfn{STREAMS} driver.

See @manref{test-pipe(8)} for more information.

@item @manpage{test-pipemod(8)} (@file{/usr/libexec/@value{PACKAGE}/test-pipemod})
@pgindex test-pipemod
@pgindex /usr/libexec/@value{PACKAGE}/test-pipemod

The @manpage{test-pipemod(8)} C-language program is a conformance and validation test program, in the
OpenSS7 Project style, for the
@manpage{pipemod(4)} @dfn{STREAMS} driver.

See @manref{test-pipemod(8)} for more information.

@item @manpage{test-sad(8)} (@file{/usr/libexec/@value{PACKAGE}/test-sad})
@pgindex test-sad
@pgindex /usr/libexec/@value{PACKAGE}/test-sad

The @manpage{test-sad(8)} C-language program is a conformance and validation test program, in the
OpenSS7 Project style, for the
@manpage{sad(4)} @dfn{STREAMS} driver.

See @manref{test-sad(8)} for more information.

@item @manpage{test-sc(8)} (@file{/usr/libexec/@value{PACKAGE}/test-sc})
@pgindex test-sc
@pgindex /usr/libexec/@value{PACKAGE}/test-sc

The @manpage{test-sc(8)} C-language program is a conformance and validation test program, in the
OpenSS7 Project style, for the
@manpage{sc(4)} @dfn{STREAMS} driver.

See @manref{test-sc(8)} for more information.

@item @manpage{test-streams(8)} (@file{/usr/libexec/@value{PACKAGE}/test-streams})
@pgindex test-streams
@pgindex /usr/libexec/@value{PACKAGE}/test-streams

The @manpage{test-streams(8)} C-language program is a conformance and validation test program, in the
OpenSS7 Project style, for the
@manpage{STREAMS(9)} subsystem and primarily the @manpage{sth(4)} @dfn{Stream head}.

See @manref{test-streams(8)} for more information.

@end table

For the proper way to execute these validation test programs in a conformance and validation test
suite, see @refman{Running Test Suites}.

@c ----------------------------------------------------------------------------
@c ----------------------------------------------------------------------------

@node Development
@chapter Development
@cindex developing

For development using the @cite{@value{PACKAGE_NAME}} package, @xref{Top, About This Manual, About
This Manual, SPG, STREAMS Programmer's Guide}.

@menu
* Development Header Files::
* Static and Shared Libraries::
* Kernel Module Development::
* Manual Pages::
@end menu

@node Development Header Files
@section Header Files

Header files are installed, typically, in the @file{/usr/include/@value{PACKAGE}} subdirectory.  To
use the header files from the package, @samp{-I/usr/include/@value{PACKAGE}} must be included in the
@command{gcc} command line as a compile option.  This is true regardless of whether user space or
kernel space programs are being compiled.

In general, @samp{-I} include directives on the @command{gcc} command line should be ordered in the
reverse order of the dependencies between packages.  So, for example, if the include files from all
add-on packages are required, the order of these directives would be: @samp{-I/usr/include/strss7
-I/usr/include/strsctp -I/usr/include/strinet -I/usr/include/strxnet -I/usr/include/strxns
-I/usr/include/strcompat -I/usr/include/streams}.

Following are the user visible header files provided by the
@command{@value{PACKAGE}-@value{VERSION}} package in directory @file{/usr/include/streams}:

@table @asis

@item @file{strlog.h}
@pgindex strlog.h
@pgindex /usr/include/streams/strlog.h

This is the primary header file for the @manref{strlog(4)} driver.
It is normally only included by user space programs when interacting with the @manpage{log(4)} driver.
See @manref{log(4)} for more information.

@item @file{stropts.h}
@pgindex stropts.h
@pgindex /usr/include/streams/stropts.h

This is the primary user header file for the @dfn{Stream head}.
It is normally only included by user space programs when interacting with the @dfn{Stream head}.
See @manref{sth(4)} for more information.

@item @file{log.h}
@pgindex log.h
@pgindex /usr/include/streams/log.h

This is the primary header file for the @manref{log(4)} driver.
It is normally only included by user space programs when interacting with the @manpage{log(4)} driver.
See @manref{log(4)} for more information.

@item @file{loop.h}
@pgindex loop.h
@pgindex /usr/include/streams/loop.h

This is the primary header file for the @manref{loop(4)} driver.
It is normally only included by user space programs when interacting with the @manpage{loop(4)} driver.
See @manref{loop(4)} for more information.

@item @file{sad.h}
@pgindex sad.h
@pgindex /usr/include/streams/sad.h

This is the primary header file for the @manref{sad(4)} driver.
It is normally only included by user space programs when interacting with the @manpage{sad(4)} driver.
See @manref{sad(4)} for more information.

@item @file{sys/cmn_err.h}
@pgindex sys/cmn_err.h
@pgindex /usr/include/streams/sys/cmn_err.h

This is the system specific kernel header file for the @manref{cmn_err(9)} utility.

@item @file{sys/ddi.h}
@pgindex sys/ddi.h
@pgindex /usr/include/streams/sys/ddi.h

This is the system specific kernel header file for various @dfn{STREAMS} @manref{DDI(9)} utilities.
It is normal only included by kernel space @dfn{STREAMS} modules and drivers.
See @manref{DDI(9)} for more information.

@item @file{sys/debug.h}
@pgindex sys/debug.h
@pgindex /usr/include/streams/sys/debug.h

This is the system specific kernel header file for kernel debugging macros.
It is normal only included by kernel space @dfn{STREAMS} modules and drivers.

@item @file{sys/dki.h}
@pgindex sys/dki.h
@pgindex /usr/include/streams/sys/dki.h

This is the system specific kernel header file for various @dfn{STREAMS} @manref{DKI(9)} utilities.
It is normal only included by kernel space @dfn{STREAMS} modules and drivers.
See @manref{DKI(9)} for more information.

@item @file{sys/kmem.h}
@pgindex sys/kmem.h
@pgindex /usr/include/streams/sys/kmem.h

This is the system specific kernel header file for @manref{kmem_alloc(9)} and related utilities.
It is normal only included by kernel space @dfn{STREAMS} modules and drivers.
See @manref{kmem_alloc(9)} for more information.

@item @file{sys/strconf.h}
@pgindex sys/strconf.h
@pgindex /usr/include/streams/sys/strconf.h

This is the system specific kernel header file for @dfn{STREAMS} driver and module configuration.
It is normal only included by kernel space @dfn{STREAMS} modules and drivers.

@item @file{sys/strdebug.h}
@pgindex sys/strdebug.h
@pgindex /usr/include/streams/sys/strdebug.h

This is the system specific kernel header file for @dfn{STREAMS} driver and module debugging macros.
It is normal only included by kernel space @dfn{STREAMS} modules and drivers.

@item @file{sys/stream.h}
@pgindex sys/stream.h
@pgindex /usr/include/streams/sys/stream.h

This is the system specific kernel header file for @dfn{STREAMS} drivers and modules.
It is normal only included by kernel space @dfn{STREAMS} modules and drivers.
See @manref{STREAMS(9)} for more information.

@item @file{sys/strlog.h}
@pgindex sys/strlog.h
@pgindex /usr/include/streams/sys/strlog.h

This is the system specific header file for the @manref{strlog(4)} and @manref{strlog(9)} facilities.
It is normally only included by kernel space programs when interacting with the @manpage{log(4)} driver.
See @manref{log(4)} for more information.

@item @file{sys/stropts.h}
@pgindex sys/stropts.h
@pgindex /usr/include/streams/sys/stropts.h

This is the system specific user header file for the @dfn{Stream head}.
It is normally only included by user space programs when interacting with the @dfn{Stream head}.
See @manref{sth(4)} for more information.

@item @file{sys/stropts32.h}
@pgindex sys/stropts32.h
@pgindex /usr/include/streams/sys/stropts32.h

This is the system specific user 32/64-bit header file for the @dfn{Stream head}.
It is normally only included by user space programs when interacting with the @dfn{Stream head}.
See @manref{sth(4)} for more information.

@item @file{sys/strsubr.h}
@pgindex sys/strsubr.h
@pgindex /usr/include/streams/sys/strsubr.h

This is the system specific kernel header file for @dfn{STREAMS} private definitions.
It is normal only included by kernel space @dfn{STREAMS} modules and drivers.
See @manref{STREAMS(9)} for more information.

@item @file{sys/log.h}
@pgindex sys/log.h
@pgindex /usr/include/streams/sys/log.h

This is the system specific header file for the @manref{log(4)} driver.
It is normally only included by kernel space programs when interacting with the @manpage{log(4)} driver.
See @manref{log(4)} for more information.

@item @file{sys/loop.h}
@pgindex sys/loop.h
@pgindex /usr/include/streams/sys/loop.h

This is the system specific header file for the @manref{loop(4)} driver.
It is normally only included by kernel space programs when interacting with the @manpage{loop(4)} driver.
See @manref{loop(4)} for more information.

@item @file{sys/sad.h}
@pgindex sys/sad.h
@pgindex /usr/include/streams/sys/sad.h

This is the system specific header file for the @manref{sad(4)} driver.
It is normally only included by kernel space programs when interacting with the @manpage{sad(4)} driver.
See @manref{sad(4)} for more information.

@item @file{sys/sc.h}
@pgindex sys/sc.h
@pgindex /usr/include/streams/sys/sc.h

This is the system specific header file for the @manref{sc(4)} module.
It is normally only included by user or kernel space programs when interacting with the @manpage{sc(4)} driver.
See @manref{sc(4)} for more information.

@item @file{sys/testmod.h}
@pgindex sys/testmod.h
@pgindex /usr/include/streams/sys/testmod.h

This is the system specific header file for the @manref{testmod(4)} module.
It is normally only included by user or kernel space programs when interacting with the @manpage{testmod(4)} driver.
See @manref{testmod(4)} for more information.

@end table

@subsection User Space Programs

Typical include files for interacting with @dfn{STREAMS} from user space include the
@file{stropts.h} header file.  Additional header files for interacting with specific drivers or
modules may also be required.

@subsection Kernel Space Drivers and Modules

Typical include files for writing @dfn{STREAMS} modules and drivers for kernel space include the
@file{sys/cmn_err.h}, @file{sys/kmem.h}, @file{sys/dki.h}, @file{sys/stream.h}, @file{sys/ddi.h},
and @file{sys/strconf.h} header files.  Additional header files for interacting with specific
drivers or modules may also be required.

@node Static and Shared Libraries
@section Libraries

Shared or static versions of the @file{libstreams} library must be linked when using the
@command{@value{PACKAGE}-@value{VERSION}} package.  This library must either be specified on the
@command{gcc} command line as a shared library (e.g. @samp{-lstreams}) or as a static library (e.g.
@samp{/usr/lib/libstreams.a}).

If the shared library is linked, include the following options on the @command{gcc} command line:

@table @asis

@item @samp{-lstreams}
Link to the @file{/usr/lib/libstreams.so} shared library.

@end table

If the static library is linked, include the following options on the @command{gcc} command line:

@table @asis

@item @samp{/usr/lib/libstreams.a}
Link to the @file{/usr/lib/libstreams.a} static library.

@end table

@node Kernel Module Development
@section Kernel Modules

Developing @dfn{STREAMS} kernel modules is similar to user space programs with regard to header
files.  @file{/usr/include/@value{PACKAGE}} should be placed as an include directory to search in
the @command{gcc} command line.  The rules for compiling @cite{Linux} kernel modules should be
followed.  In particular, several important intricacies should be considered:

@itemize @bullet

@item
The @command{gcc} compiler used to compile the kernel modules must be the same version of compiler
that was used to compile the kernel.

@item
The @command{gcc} command line must have the same compile flags that were used to compile the
kernel.

@item
The @command{gcc} command line must define several important kernel defines including
@samp{-DLINUX}, @samp{-D__KERNEL__}, as well as the base name of the module.

@item
The @command{gcc} command line must include several important include files directly on the command
line such as @samp{--include /@-lib/@-modules/@-@value{_kversion}/@-build/@-include/@-linux/@-autoconf.h} and
maybe even @samp{--include
/@-lib/@-modules/@-@value{_kversion}/@-build/@-include/@-linux/@-modversions.h}.@footnote{The kernel version
@samp{@value{_kversion}} is just an example.  For the running kernel, use the output of @samp{uname
-r}.}

@end itemize

@node Manual Pages
@section Manual Pages

The @command{@value{PACKAGE}-@value{VERSION}} package installs a number of manual pages in the
@file{/usr/share/man} directory as follows:

The following manual pages are installed in Section 1 of the manual (in the subdirectory @file{/usr/share/man/man1}):

@multitable @columnfractions .40 .60
@item @manref{strchg(1)} -- @tab change Stream configuration.
@item @manref{strconf(1)} -- @tab query Stream configuration.
@item @manref{strreset(1)} -- @tab reset a Stream.
@end multitable

The following manual pages are installed in Section 2 of the manual (in the subdirectory @file{/usr/share/man/man2}):

@multitable @columnfractions .40 .60
@item @manref{fattach(2)} -- @tab name a @dfn{STREAMS} special file.
@item @manref{fdetach(2)} -- @tab unname a @dfn{STREAMS} special file.
@item @manref{getmsg(2)} -- @tab get next message off a Stream.
@item @manref{getpmsg(2s)} -- @tab get next message off a Stream.
@item @manref{isastream(2)} -- @tab test for a @dfn{STREAMS} special file.
@item @manref{pipe(2s)} -- @tab create a @dfn{STREAMS} pipe.
@item @manref{poll(2s)} -- @tab wait for an event on a @dfn{STREAMS} file descriptor.
@item @manref{putmsg(2)} -- @tab put a message to a @dfn{STREAMS} character device.
@item @manref{putpmsg(2s)} -- @tab put a band message to a @dfn{STREAMS} character device.
@item @manref{read(2s)} -- @tab read from a file descriptor.
@item @manref{readv(2s)} -- @tab read or write a vector.
@item @manref{write(2s)} -- @tab write to a file descriptor.
@item @manref{writev(2s)} -- @tab read or write a vector.
@end multitable

The following manual pages are installed in Section 3 of the manual (in the subdirectory @file{/usr/share/man/man3}):

@multitable @columnfractions .40 .60
@item @manref{streams(3)} -- @tab @dfn{STREAMS} system call library.
@item @manref{libstreams(3)} -- @tab @dfn{STREAMS} system call library.
@item @manref{LiS(3)} -- @tab @dfn{STREAMS} system call library.
@item @manref{pLiS(3)} -- @tab @dfn{STREAMS} system call library.
@item @manref{libLiS(3)} -- @tab @dfn{STREAMS} system call library.
@item @manref{libpLiS(3)} -- @tab @dfn{STREAMS} system call library.
@item @manref{fattach(3)} -- @tab name a @dfn{STREAMS} special file.
@item @manref{fdetach(3)} -- @tab unname a @dfn{STREAMS} special file.
@item @manref{isastream(3)} -- @tab test for a @dfn{STREAMS} special file.
@item @manref{pipe(3)} -- @tab create a @dfn{STREAMS} pipe.
@item @manref{pstrlog(3)} -- @tab print a @dfn{STREAMS} log buffer.
@item @manref{s_pipe(3)} -- @tab create a @dfn{STREAMS} pipe.
@item @manref{strlog(3)} -- @tab print a @dfn{STREAMS} log buffer.
@item @manref{vstrlog(3)} -- @tab print a @dfn{STREAMS} log buffer.
@end multitable

The following manual pages are installed in Section 4 of the manual (in the subdirectory @file{/usr/share/man/man4}):

@multitable @columnfractions .40 .60
@item @manref{bufmod(4)} -- @tab @dfn{STREAMS} buffering null module.
@item @manref{clone(4)} -- @tab the @dfn{STREAMS} clone driver.
@item @manref{connld(4)} -- @tab @dfn{STREAMS} connection line discipline module.
@item @manref{conslog(4)} -- @tab @dfn{STREAMS} log device.
@item @manref{echo(4)} -- @tab echo @dfn{STREAMS} device.
@item @manref{fifo(4s)} -- @tab @dfn{STREAMS}-based FIFO device.
@item @manref{log(4)} -- @tab @dfn{STREAMS} log device.
@item @manref{loop(4)} -- @tab @dfn{STREAMS} loop-around pseudo-device driver.
@item @manref{loop_clone(4)} -- @tab @dfn{STREAMS} loop-around pseudo-device driver.
@item @manref{mux(4)} -- @tab @dfn{STREAMS} multiplexing pseudo-device driver.
@item @manref{nsdev(4)} -- @tab named @dfn{STREAMS} device.
@item @manref{nullmod(4)} -- @tab @dfn{STREAMS} null module.
@item @manref{nuls(4)} -- @tab null @dfn{STREAMS} device.
@item @manref{pipe(4)} -- @tab @dfn{STREAMS} bi-directional pipe device.
@item @manref{pipemod(4)} -- @tab @dfn{STREAMS}-based pipe module.
@item @manref{s_fifo(4)} -- @tab @dfn{STREAMS}-based FIFO device.
@item @manref{sad(4)} -- @tab @dfn{STREAMS} Administrative Driver.
@item @manref{sc(4)} -- @tab @dfn{STREAMS} Configuration module.
@item @manref{sfx(4)} -- @tab @dfn{STREAMS}-based FIFO device.
@item @manref{sloop(4)} -- @tab @dfn{STREAMS} loop-around pseudo-device driver.
@item @manref{spx(4)} -- @tab @dfn{STREAMS} bi-directional pipe device.
@item @manref{sth(4)} -- @tab @dfn{STREAMS} Stream head module.
@item @manref{strlog(4)} -- @tab @dfn{STREAMS} log device.
@item @manref{testmod(4)} -- @tab @dfn{STREAMS} test module.
@end multitable

The following manual pages are installed in Section 5 of the manual (in the subdirectory @file{/usr/share/man/man5}):

@multitable @columnfractions .40 .60
@item @manref{autopush(5)} -- @tab control the autopush module list for a @dfn{STREAMS} device.
@item @manref{specfs(5)} -- @tab @dfn{STREAMS} special device shadow file system.
@item @manref{strapush(5)} -- @tab @dfn{STREAMS} autopush structure.
@item @manref{strioctl(5)} -- @tab @dfn{STREAMS} I/O control data structure.
@item @manref{strsetup.conf(5)} -- @tab configuration file for @dfn{STREAMS} drivers.
@end multitable

The following manual pages are installed in Section 7 of the manual (in the subdirectory @file{/usr/share/man/man7}):

@multitable @columnfractions .40 .60
@item @manref{streamio(7)} -- @tab @dfn{STREAMS} ioctl commands.
@item @manref{I_ANCHOR(7)} -- @tab @dfn{STREAMS} anchor input-output control.
@item @manref{I_ATMARK(7)} -- @tab check if a @dfn{STREAMS} message is marked.
@item @manref{I_CANPUT(7)} -- @tab check if a @dfn{STREAMS} band is writable.
@item @manref{I_CKBAND(7)} -- @tab check if a @dfn{STREAMS} band is readable.
@item @manref{I_EGETSIG(7)} -- @tab get enhanced @dfn{STREAMS} SIGPOLL events.
@item @manref{I_ESETSIG(7)} -- @tab set enhanced @dfn{STREAMS} SIGPOLL events.
@item @manref{I_FATTACH(7)} -- @tab emulate @manpage{fattach(2)} system call.
@item @manref{I_FDETACH(7)} -- @tab emulate @manpage{fdetach(2)} system call.
@item @manref{I_FDINSERT(7)} -- @tab insert a Stream identifier into a @dfn{STREAMS} message and send it downstream.
@item @manref{I_FIND(7)} -- @tab find a @dfn{STREAMS} module on a Stream.
@item @manref{I_FLUSH(7)} -- @tab flush messages from a @dfn{STREAMS} special file.
@item @manref{I_FLUSHBAND(7)} -- @tab flush messages for a band from a @dfn{STREAMS} special file.
@item @manref{I_GERROPT(7)} -- @tab get error options for a @dfn{STREAMS} file.
@item @manref{I_GETBAND(7)} -- @tab get band number of a message on a Stream.
@item @manref{I_GETCLTIME(7)} -- @tab get close time for a @dfn{STREAMS} file.
@item @manref{I_GETPMSG(7)} -- @tab @dfn{STREAMS} @manpage{getpmsg(2s)} system call emulation.
@item @manref{I_GETSIG(7)} -- @tab get SIGPOLL events.
@item @manref{I_GRDOPT(7)} -- @tab get @dfn{STREAMS} read options.
@item @manref{I_GWROPT(7)} -- @tab get @dfn{STREAMS} write options.
@item @manref{I_ISASTREAM(7)} -- @tab emulate @manpage{isastream(2)} system call.
@item @manref{I_LINK(7)} -- @tab link a Stream beneath a @dfn{STREAMS} multiplexing driver.
@item @manref{I_LIST(7)} -- @tab list @dfn{STREAMS} module names on a Stream.
@item @manref{I_LOOK(7)} -- @tab look at topmost @dfn{STREAMS} module on a Stream.
@item @manref{I_NREAD(7)} -- @tab number of unread bytes on a Stream.
@item @manref{I_PEEK(7)} -- @tab peek at @dfn{STREAMS} message on read queue.
@item @manref{I_PIPE(7)} -- @tab obtain a @dfn{STREAMS} based pipe.
@item @manref{I_PLINK(7)} -- @tab persistently link a Stream beneath a @dfn{STREAMS} multiplexing driver.
@item @manref{I_POP(7)} -- @tab pop a @dfn{STREAMS} module from a Stream.
@item @manref{I_PUNLINK(7)} -- @tab unlink a @dfn{STREAMS} persistent link.
@item @manref{I_PUSH(7)} -- @tab push a @dfn{STREAMS} module on a Stream.
@item @manref{I_PUTPMSG(7)} -- @tab @dfn{STREAMS} @manpage{putpmsg(2s)} system call emulation.
@item @manref{I_RECVFD(7)} -- @tab receive a file descriptor on a Stream.
@item @manref{I_SENDFD(7)} -- @tab send a file descriptor on a Stream.
@item @manref{I_SERROPT(7)} -- @tab set error options for a @dfn{STREAMS} file.
@item @manref{I_SETCLTIME(7)} -- @tab set close time for a @dfn{STREAMS} file.
@item @manref{I_SETSIG(7)} -- @tab set SIGPOLL events.
@item @manref{I_SRDOPT(7)} -- @tab set @dfn{STREAMS} read options.
@item @manref{I_STR(7)} -- @tab @dfn{STREAMS} intput-output control.
@item @manref{I_SWROPT(7)} -- @tab set @dfn{STREAMS} write options.
@item @manref{I_UNLINK(7)} -- @tab unlink a Stream from a @dfn{STREAMS} multiplexing driver.
@end multitable

The following manual pages are installed in Section 8 of the manual (in the subdirectory @file{/usr/share/man/man8}):

@multitable @columnfractions .40 .60
@item @manref{autopush(8)} -- @tab control the autopush module list for a @dfn{STREAMS} device.
@item @manref{fattach(8)} -- @tab name a @dfn{STREAMS} file.
@item @manref{fdetach(8)} -- @tab unname a @dfn{STREAMS} file.
@item @manref{insf(8)} -- @tab install special device files.
@item @manref{perftest(8)} -- @tab @dfn{STREAMS} benchmark performance tests on a pipe.
@item @manref{perftestn(8)} -- @tab @dfn{STREAMS} benchmark performance tests on a pipe.
@item @manref{scls(8)} -- @tab produce a list of @dfn{STREAMS} module and driver names.
@item @manref{specfs(8)} -- @tab System V Init Script for the @dfn{STREAMS} Shadow Special Filesystem.
@item @manref{specfs.sh(8)} -- @tab System V Init Script for the @dfn{STREAMS} Shadow Special Filesystem.
@item @manref{strace(8)} -- @tab write @dfn{STREAMS} event trace messages to the standard output.
@item @manref{strclean(8)} -- @tab clean up the @dfn{STREAMS} error logger.
@item @manref{streams(8)} -- @tab System V Init Script for the @dfn{STREAMS} subsystem.
@item @manref{streams_mknod(8)} -- @tab create or remove @dfn{STREAMS} device nodes.
@item @manref{streams.sh(8)} -- @tab System V Init Script for the @dfn{STREAMS} subsystem.
@item @manref{strerr(8)} -- @tab receive error log messages from the @dfn{STREAMS} @manpage{log(4)} driver.
@item @manref{strinfo(8)} -- @tab display information about @dfn{STREAMS} devices.
@item @manref{strload(8)} -- @tab load the @dfn{STREAMS} subsystem.
@item @manref{strsetup(8)} -- @tab @dfn{STREAMS} setup command.
@item @manref{strvf(8)} -- @tab @dfn{STREAMS} verification tool.
@item @manref{test-clone(8)} -- @tab a test suite executable for the @manpage{clone(4)} @dfn{STREAMS} driver.
@item @manref{test-connld(8)} -- @tab a test suite executable for the @manpage{connld(4)} @dfn{STREAMS} module.
@item @manref{test-echo(8)} -- @tab a test suite executable for the @manpage{echo(4)} @dfn{STREAMS} driver.
@item @manref{test-fifo(8)} -- @tab a test suite executable for the @manpage{fifo(4)} @dfn{STREAMS} driver.
@item @manref{test-log(8)} -- @tab a test suite executable for the @manpage{log(4)} @dfn{STREAMS} driver.
@item @manref{test-loop(8)} -- @tab a test suite executable for the @manpage{loop(4)} @dfn{STREAMS} driver.
@item @manref{test-mux(8)} -- @tab a test suite executable for the @manpage{mux(4)} @dfn{STREAMS} driver.
@item @manref{test-nsdev(8)} -- @tab a test suite executable for the @manpage{nsdev(4)} @dfn{STREAMS} driver.
@item @manref{test-nuls(8)} -- @tab a test suite executable for the @manpage{nuls(4)} @dfn{STREAMS} driver.
@item @manref{test-pipe(8)} -- @tab a test suite executable for the @manpage{pipe(4)} @dfn{STREAMS} driver.
@item @manref{test-pipemod(8)} -- @tab a test suite executable for the @manpage{pipemod(4)} @dfn{STREAMS} module.
@item @manref{test-sad(8)} -- @tab a test suite executable for the @manpage{sad(4)} @dfn{STREAMS} driver.
@item @manref{test-sc(8)} -- @tab a test suite executable for the @manpage{sc(4)} @dfn{STREAMS} module.
@item @manref{test-streams(8)} -- @tab a test suite executable for @dfn{STREAMS}.
@end multitable

The following manual pages are installed in Section 9 of the manual (in the subdirectory @file{/usr/share/man/man9}):

@multitable @columnfractions .40 .60
@item @manref{Intro(9)} -- @tab introduction to @dfn{STREAMS} kernel functions.
@item @manref{STREAMS(9)} -- @tab introduction to @dfn{STREAMS} kernel functions.
@item @manref{SPG(9)} -- @tab @cite{Linux Fast-STREAMS} Programmers Guide.
@item @manref{DDI(9)} -- @tab Device Driver interface/Driver Kernel Interface.
@item @manref{LfS(9)} -- @tab introduction to @dfn{STREAMS} kernel functions.
@item @manref{mp-streams(9)} -- @tab multi-processor @dfn{STREAMS} executive.
@item @manref{M_BACKDONE(9)} -- @tab @dfn{STREAMS} backwash done direct I/O message.
@item @manref{M_BACKWASH(9)} -- @tab @dfn{STREAMS} backwash direct I/O message.
@item @manref{M_BREAK(9)} -- @tab @dfn{STREAMS} break message.
@item @manref{M_COPYIN(9)} -- @tab @dfn{STREAMS} copyin message.
@item @manref{M_COPYOUT(9)} -- @tab @dfn{STREAMS} copyout message.
@item @manref{M_CTL(9)} -- @tab @dfn{STREAMS} control message.
@item @manref{M_DATA(9)} -- @tab @dfn{STREAMS} data message.
@item @manref{M_DELAY(9)} -- @tab @dfn{STREAMS} delay message.
@item @manref{M_DONTPLAY(9)} -- @tab @dfn{STREAMS} don't play direct I/O message.
@item @manref{M_ERROR(9)} -- @tab @dfn{STREAMS} error message.
@item @manref{M_EVENT(9)} -- @tab @dfn{STREAMS} event message.
@item @manref{M_FLUSH(9)} -- @tab @dfn{STREAMS} flush message.
@item @manref{M_HANGUP(9)} -- @tab @dfn{STREAMS} hangup message.
@item @manref{M_HPDATA(9)} -- @tab @dfn{STREAMS} high priority data message.
@item @manref{M_IOCACK(9)} -- @tab @dfn{STREAMS} IO control acknowledgement message.
@item @manref{M_IOCDATA(9)} -- @tab @dfn{STREAMS} IO control data message.
@item @manref{M_IOCNAK(9)} -- @tab @dfn{STREAMS} IO control negative acknowledgement message.
@item @manref{M_IOCTL(9)} -- @tab @dfn{STREAMS} IO control message.
@item @manref{M_LETSPLAY(9)} -- @tab @dfn{STREAMS} let's plan direct I/O message.
@item @manref{M_NOTIFY(9)} -- @tab @dfn{STREAMS} notify message.
@item @manref{M_PASSFP(9)} -- @tab @dfn{STREAMS} pass file pointer message.
@item @manref{M_PCCTL(9)} -- @tab @dfn{STREAMS} priority control message.
@item @manref{M_PCEVENT(9)} -- @tab @dfn{STREAMS} priority event message.
@item @manref{M_PCPROTO(9)} -- @tab @dfn{STREAMS} priority protocol message.
@item @manref{M_PCRSE(9)} -- @tab @dfn{STREAMS} priority reserved message.
@item @manref{M_PCSETOPTS(9)} -- @tab @dfn{STREAMS} priority set options message.
@item @manref{M_PCSIG(9)} -- @tab @dfn{STREAMS} priority signal message.
@item @manref{M_PROTO(9)} -- @tab @dfn{STREAMS} protocol message.
@item @manref{M_READ(9)} -- @tab @dfn{STREAMS} read message.
@item @manref{M_RSE(9)} -- @tab @dfn{STREAMS} reserved message.
@item @manref{M_SETOPTS(9)} -- @tab @dfn{STREAMS} set options message.
@item @manref{M_SIG(9)} -- @tab @dfn{STREAMS} signal message.
@item @manref{M_START(9)} -- @tab @dfn{STREAMS} start message.
@item @manref{M_STARTI(9)} -- @tab @dfn{STREAMS} start input message.
@item @manref{M_STOP(9)} -- @tab @dfn{STREAMS} stop message.
@item @manref{M_STOPI(9)} -- @tab @dfn{STREAMS} stop input message.
@item @manref{M_TRAIL(9)} -- @tab @dfn{STREAMS} trail message.
@item @manref{M_UNHANGUP(9)} -- @tab @dfn{STREAMS} unhangup message.
@item @manref{OTHERQ(9)} -- @tab return other queue of a @dfn{STREAMS} queue pair.
@item @manref{QNORM(9)} -- @tab @dfn{STREAMS} data block structure.
@item @manref{QPCTL(9)} -- @tab @dfn{STREAMS} data block structure.
@item @manref{RD(9)} -- @tab return the read queue of a @dfn{STREAMS} queue pair.
@item @manref{SAMESTR(9)} -- @tab test for a @dfn{STREAMS} pipe or FIFO.
@item @manref{WR(9)} -- @tab return the write queue of a @dfn{STREAMS} queue pair.
@item @manref{adjmsg(9)} -- @tab trim bytes from the front or back of a @dfn{STREAMS} message.
@item @manref{allocb(9)} -- @tab allocate a @dfn{STREAMS} message and data block.
@item @manref{alloclk(9)} -- @tab allocate or free a @dfn{STREAMS} link block.
@item @manref{allocq(9)} -- @tab allocate a @dfn{STREAMS} queue pair.
@item @manref{allocstr(9)} -- @tab allocate a @dfn{STREAMS} Stream head.
@item @manref{appq(9)} -- @tab append one @dfn{STREAMS} message after another.
@item @manref{apush_get(9)} -- @tab get the autopush list associated with a @dfn{STREAMS} driver.
@item @manref{apush_set(9)} -- @tab set the autopush list associated with a @dfn{STREAMS} driver.
@item @manref{apush_vml(9)} -- @tab verify a @dfn{STREAMS} module list.
@item @manref{autopush(9)} -- @tab perform autopush operations on a newly opened Stream.
@item @manref{autopush_add(9)} -- @tab add an autopush list entry for a given @dfn{STREAMS} device number.
@item @manref{autopush_del(9)} -- @tab delete an autopush list entry for a given @dfn{STREAMS} device number.
@item @manref{autopush_find(9)} -- @tab find an autopush list entry for a given @dfn{STREAMS} device number.
@item @manref{autopush_search(9)} -- @tab find an autopush list entry for a given @dfn{STREAMS} device name and number.
@item @manref{autopush_vml(9)} -- @tab verify a @dfn{STREAMS} module list.
@item @manref{backq(9)} -- @tab find the upstream or downstream queue.
@item @manref{bcanget(9)} -- @tab test for message arrival on a band on a Stream.
@item @manref{bcangetany(9)} -- @tab check whether messages are in any (non-zero) band.
@item @manref{bcanput(9)} -- @tab test flow control on a @dfn{STREAMS} message queue.
@item @manref{bcanputany(9)} -- @tab check if a message can be put to any (non-zero) band on a queue.
@item @manref{bcanputnext(9)} -- @tab test flow control on the next @dfn{STREAMS} message queue.
@item @manref{bcanputnextany(9)} -- @tab check if a message can be put to any (non-zero) band on the next queue.
@item @manref{bcid_t(9)} -- @tab install a buffer callback.
@item @manref{bcmp(9)} -- @tab compare byte strings.
@item @manref{bcopy(9)} -- @tab copy byte strings.
@item @manref{bufcall(9)} -- @tab install a buffer callback.
@item @manref{bufcall_id_t(9)} -- @tab install a buffer callback.
@item @manref{bzero(9)} -- @tab zero a byte string.
@item @manref{canenable(9)} -- @tab test whether a @dfn{STREAMS} message queue can be scheduled.
@item @manref{canget(9)} -- @tab test for message arrival on a Stream.
@item @manref{canput(9)} -- @tab test flow control on a @dfn{STREAMS} message queue.
@item @manref{canputnext(9)} -- @tab test flow control on the next @dfn{STREAMS} message queue.
@item @manref{cdev_count(9)} -- @tab character device switch table helper functions.
@item @manref{cdev_find(9)} -- @tab character device switch table helper functions.
@item @manref{cdev_match(9)} -- @tab character device switch table helper functions.
@item @manref{cdev_minor(9)} -- @tab character device switch table helper functions.
@item @manref{cdev_str(9)} -- @tab character device switch table helper functions.
@item @manref{cdevsw(9)} -- @tab the @cite{SVR 4} character device switch table structure.
@item @manref{cdevsw_list(9)} -- @tab the @cite{SVR 4} character device switch table structure.
@item @manref{cdevsw_lock(9)} -- @tab the @cite{SVR 4} character device switch table structure.
@item @manref{cdrv_get(9)} -- @tab the @cite{SVR 4} character device switch table structure.
@item @manref{cdrv_put(9)} -- @tab the @cite{SVR 4} character device switch table structure.
@item @manref{cmaj_add(9)} -- @tab major/minor character device node helper functions.
@item @manref{cmaj_del(9)} -- @tab major/minor character device node helper functions.
@item @manref{cmaj_get(9)} -- @tab major/minor character device node helper functions.
@item @manref{cmin_add(9)} -- @tab major/minor character device node helper functions.
@item @manref{cmin_count(9)} -- @tab major/minor character device node helper functions.
@item @manref{cmin_del(9)} -- @tab major/minor character device node helper functions.
@item @manref{cmin_find(9)} -- @tab major/minor character device node helper functions.
@item @manref{cmin_get(9)} -- @tab major/minor character device node helper functions.
@item @manref{cmin_ini(9)} -- @tab major/minor character device node helper functions.
@item @manref{cmin_rel(9)} -- @tab major/minor character device node helper functions.
@item @manref{cmn_err(9)} -- @tab print a kernel command error.
@item @manref{copyb(9)} -- @tab copy a @dfn{STREAMS} message block.
@item @manref{copyin(9)} -- @tab copy user data in from user space to kernel space.
@item @manref{copymsg(9)} -- @tab copy a @dfn{STREAMS} message.
@item @manref{copyout(9)} -- @tab copy user data in from kernel space to user space.
@item @manref{copyreq(9)} -- @tab @dfn{STREAMS} copy request block structure.
@item @manref{copyresp(9)} -- @tab @dfn{STREAMS} copy response block structure.
@item @manref{cred_t(9)} -- @tab credentials structure.
@item @manref{ctlmsg(9)} -- @tab test a @dfn{STREAMS} message type for control.
@item @manref{datab(9)} -- @tab @dfn{STREAMS} data block structure.
@item @manref{datamsg(9)} -- @tab test a @dfn{STREAMS} message type for data.
@item @manref{dblk_t(9)} -- @tab @dfn{STREAMS} data block structure.
@item @manref{delay(9)} -- @tab postpone the calling process for a number of clock ticks.
@item @manref{dev_t(9)} -- @tab @dfn{STREAMS} device type.
@item @manref{devnode(9)} -- @tab @dfn{STREAMS} character device node structure.
@item @manref{do_fattach(9)} -- @tab implement the @manpage{fattach(2)} system call.
@item @manref{do_fdetach(9)} -- @tab implement the @manpage{fdetach(2)} system call.
@item @manref{do_spipe(9)} -- @tab implement the @manpage{pipe(2s)} system call.
@item @manref{drv_getparm(9)} -- @tab driver retrieve kernel parameter.
@item @manref{drv_hztomsec(9)} -- @tab convert kernel tick time between microseconds or milliseconds.
@item @manref{drv_hztousec(9)} -- @tab convert kernel tick time between microseconds or milliseconds.
@item @manref{drv_msectohz(9)} -- @tab convert kernel tick time between microseconds or milliseconds.
@item @manref{drv_priv(9)} -- @tab check if current process is privileged.
@item @manref{drv_usectohz(9)} -- @tab convert kernel tick time between microseconds or milliseconds.
@item @manref{drv_usecwait(9)} -- @tab delay for a number of microseconds.
@item @manref{dupb(9)} -- @tab duplicate a @dfn{STREAMS} message block.
@item @manref{dupmsg(9)} -- @tab duplicate a @dfn{STREAMS} message.
@item @manref{enableok(9)} -- @tab allow a @dfn{STREAMS} message queue to be scheduled.
@item @manref{enableq(9)} -- @tab schedule a @dfn{STREAMS} message queue service procedure.
@item @manref{esballoc(9)} -- @tab allocate a @dfn{STREAMS} message and data block with caller supplied data buffer.
@item @manref{esbbcall(9)} -- @tab install a buffer callback for an extended @dfn{STREAMS} message block.
@item @manref{flushband(9)} -- @tab flushes a band of @dfn{STREAMS} messages from a queue.
@item @manref{flushq(9)} -- @tab flush messages from a @dfn{STERAMS} message queue.
@item @manref{fmod_add(9)} -- @tab file module switch table helper functions.
@item @manref{fmod_count(9)} -- @tab file module switch table helper functions.
@item @manref{fmod_del(9)} -- @tab file module switch table helper functions.
@item @manref{fmod_find(9)} -- @tab file module switch table helper functions.
@item @manref{fmod_get(9)} -- @tab file module switch table helper functions.
@item @manref{fmod_put(9)} -- @tab file module switch table helper functions.
@item @manref{fmod_str(9)} -- @tab file module switch table helper functions.
@item @manref{fmodsw(9)} -- @tab the @cite{SVR 4} @dfn{STREAMS} module switch table.
@item @manref{fmodsw_list(9)} -- @tab the @cite{SVR 4} @dfn{STREAMS} module switch table.
@item @manref{fmodsw_lock(9)} -- @tab the @cite{SVR 4} @dfn{STREAMS} module switch table.
@item @manref{freeb(9)} -- @tab frees a @dfn{STREAMS} message block.
@item @manref{freelk(9)} -- @tab allocate or free a @dfn{STREAMS} link block.
@item @manref{freemsg(9)} -- @tab frees a @dfn{STREAMS} message.
@item @manref{freeq(9)} -- @tab deallocate a @dfn{STREAMS} queue pair.
@item @manref{freestr(9)} -- @tab deallocate a @dfn{STREAMS} Stream head.
@item @manref{freezestr(9)} -- @tab freeze the state of a Stream.
@item @manref{frtn_t(9)} -- @tab allocate a @dfn{STREAMS} message and data block with caller supplied data buffer.
@item @manref{getadmin(9)} -- @tab get the administrative function pointer for a @dfn{STREAMS} module.
@item @manref{getmajor(9)} -- @tab get the internal major device number for a device.
@item @manref{getmid(9)} -- @tab get the @dfn{STREAMS} module id for a name.
@item @manref{getminor(9)} -- @tab get the extended minor device number for a device.
@item @manref{getq(9)} -- @tab get a message from a @dfn{STREAMS} message queue.
@item @manref{insq(9)} -- @tab insert a message into a @dfn{STREAMS} message queue.
@item @manref{iocblk(9)} -- @tab @dfn{STREAMS} input-output control block structure.
@item @manref{isdatablk(9)} -- @tab test a @dfn{STREAMS} data block for data type.
@item @manref{isdatamsg(9)} -- @tab test a @dfn{STREAMS} data block for data type.
@item @manref{kmem_alloc(9)} -- @tab allocate kernel memory.
@item @manref{kmem_alloc_node(9)} -- @tab allocate kernel memory.
@item @manref{kmem_free(9)} -- @tab deallocate kernel memory.
@item @manref{kmem_zalloc(9)} -- @tab allocate and zero kernel memory.
@item @manref{kmem_zalloc_node(9)} -- @tab allocate and zero kernel memory.
@item @manref{linkb(9)} -- @tab link a message block to a @dfn{STREAMS} message.
@item @manref{linkblk(9)} -- @tab @dfn{STREAMS} link block structure.
@item @manref{linkmsg(9)} -- @tab link a message block to a @dfn{STREAMS} message.
@item @manref{major_t(9)} -- @tab get the internal major device number for a device.
@item @manref{makedevice(9)} -- @tab create a device from major and minor device numbers.
@item @manref{max(9)} -- @tab determine the maximum of two integers.
@item @manref{mblk_t(9)} -- @tab @dfn{STREAMS} message block structure.
@item @manref{min(9)} -- @tab determine the minimum of two integers.
@item @manref{minor_t(9)} -- @tab get the extended minor device number for a device.
@item @manref{modID_t(9)} -- @tab get the @dfn{STREAMS} module id for a name.
@item @manref{module_info(9)} -- @tab @dfn{STREAMS} module information structure.
@item @manref{module_stat(9)} -- @tab @dfn{STREAMS} module statistics structure.
@item @manref{module_stat_t(9)} -- @tab @dfn{STREAMS} module statistics structure.
@item @manref{msgb(9)} -- @tab @dfn{STREAMS} message block structure.
@item @manref{msgdsize(9)} -- @tab calculate the size of the data in a @dfn{STREAMS} message.
@item @manref{msgpullup(9)} -- @tab pull up bytes in a @dfn{STREAMS} message.
@item @manref{msgsize(9)} -- @tab calculate the size of the message blocks in a @dfn{STREAMS} message.
@item @manref{noenable(9)} -- @tab disable a @dfn{STREAMS} message queue from being scheduled.
@item @manref{pcmsg(9)} -- @tab test a data block message type for priority control.
@item @manref{pullupmsg(9)} -- @tab pull up the bytes in a @dfn{STREAMS} message.
@item @manref{put(9)} -- @tab invoke the put procedure for a @dfn{STREAMS} driver of module with a @dfn{STREAMS} message.
@item @manref{putbq(9)} -- @tab put a message back on a @dfn{STREAMS} message queue.
@item @manref{putctl(9)} -- @tab put a control message on a @dfn{STREAMS} message queue.
@item @manref{putctl1(9)} -- @tab put a one-byte control message on a @dfn{STREAMS} message queue.
@item @manref{putctl2(9)} -- @tab put a two-byte control message on a @dfn{STREAMS} message queue.
@item @manref{putnext(9)} -- @tab put a message on the downstream @dfn{STREAMS} message queue.
@item @manref{putnextctl(9)} -- @tab put a control message on the next @dfn{STREAMS} message queue.
@item @manref{putnextctl1(9)} -- @tab put a one-byte control message on the next @dfn{STREAMS} message queue.
@item @manref{putnextctl2(9)} -- @tab put a two-byte control message on the next @dfn{STREAMS} message queue.
@item @manref{putq(9)} -- @tab put a message on a @dfn{STREAMS} message queue.
@item @manref{qattach(9)} -- @tab attach a module onto a @dfn{STREAMS} file.
@item @manref{qbackenable(9)} -- @tab perform back enabling on a @dfn{STREAMS} queue.
@item @manref{qband(9)} -- @tab queue band structure.
@item @manref{qband_t(9)} -- @tab queue band structure.
@item @manref{qclose(9)} -- @tab close a @dfn{STREAMS} driver or module.
@item @manref{qcountstrm(9)} -- @tab add all counts on all @dfn{STREAMS} message queues in a Stream.
@item @manref{qdelete(9)} -- @tab delete a queue pair from a Stream.
@item @manref{qdetach(9)} -- @tab detach a module from a @dfn{STREAMS} file.
@item @manref{qenable(9)} -- @tab schedule a @dfn{STREAMS} message queue service procedure.
@item @manref{qfields(9)} -- @tab set attributes of a @dfn{STREAMS} message queue.
@item @manref{qfields_t(9)} -- @tab set attributes of a @dfn{STREAMS} message queue.
@item @manref{qi_putp(9)} -- @tab @dfn{STREAMS} driver or module put procedure.
@item @manref{qi_putp_t(9)} -- @tab @dfn{STREAMS} driver or module put procedure.
@item @manref{qi_qadmin(9)} -- @tab @dfn{STREAMS} driver or module admin routine.
@item @manref{qi_qadmin_t(9)} -- @tab @dfn{STREAMS} driver or module admin routine.
@item @manref{qi_qclose(9)} -- @tab @dfn{STREAMS} driver or module close routine.
@item @manref{qi_qclose_t(9)} -- @tab @dfn{STREAMS} driver or module close routine.
@item @manref{qi_qopen(9)} -- @tab @dfn{STREAMS} driver or module open routine.
@item @manref{qi_qopen_t(9)} -- @tab @dfn{STREAMS} driver or module open routine.
@item @manref{qi_srvp(9)} -- @tab @dfn{STREAMS} driver or module service procedure.
@item @manref{qi_srvp_t(9)} -- @tab @dfn{STREAMS} driver or module service procedure.
@item @manref{qinit(9)} -- @tab @dfn{STREAMS} queue initialization structure.
@item @manref{qinsert(9)} -- @tab insert a queue pair beneath another queue pair in a Stream.
@item @manref{qopen(9)} -- @tab call a @dfn{STREAMS} driver or module open routine.
@item @manref{qprocsoff(9)} -- @tab disable @dfn{STREAMS} message queue processing for multi-processing.
@item @manref{qprocson(9)} -- @tab enable a @dfn{STREAMS} message queue for multi-processing.
@item @manref{qready(9)} -- @tab test if queue procedures are scheduled.
@item @manref{qreply(9)} -- @tab replies to a message from a @dfn{STREAMS} message queue.
@item @manref{qscan(9)} -- @tab place a queue on the scan list.
@item @manref{qsize(9)} -- @tab return the number of messages on a queue.
@item @manref{queue(9)} -- @tab @dfn{STREAMS} message queue structure.
@item @manref{queue_t(9)} -- @tab @dfn{STREAMS} message queue structure.
@item @manref{register_clone(9)} -- @tab register a @manpage{clone(4)} minor.
@item @manref{register_cmajor(9)} -- @tab register external device major number.
@item @manref{register_ioctl32(9)} -- @tab register a 32-bit IO control command.
@item @manref{register_strdev(9)} -- @tab register a @dfn{STREAMS} device.
@item @manref{register_strdrv(9)} -- @tab register a @dfn{STREAMS} driver.
@item @manref{register_strlog(9)} -- @tab register a @dfn{STREAMS} logger.
@item @manref{register_strmod(9)} -- @tab register a @dfn{STREAMS} module.
@item @manref{register_strnod(9)} -- @tab register a @dfn{STREAMS} minor device node.
@item @manref{rmvb(9)} -- @tab remove a message block from a @dfn{STREAMS} message.
@item @manref{rmvq(9)} -- @tab remove a message from a @dfn{STREAMS} message queue.
@item @manref{runqueues(9)} -- @tab run queue service procedures and other asynchronous @dfn{STREAMS} events.
@item @manref{sd_get(9)} -- @tab acquire and release a reference to the Stream head.
@item @manref{sd_put(9)} -- @tab acquire and release a reference to the Stream head.
@item @manref{sdev_add(9)} -- @tab character device switch table helper functions.
@item @manref{sdev_del(9)} -- @tab character device switch table helper functions.
@item @manref{sdev_get(9)} -- @tab character device switch table helper functions.
@item @manref{sdev_ini(9)} -- @tab character device switch table helper functions.
@item @manref{sdev_put(9)} -- @tab character device switch table helper functions.
@item @manref{sdev_rel(9)} -- @tab character device switch table helper functions.
@item @manref{sealloc(9)} -- @tab @dfn{STREAMS} event allocators.
@item @manref{sefree(9)} -- @tab @dfn{STREAMS} event allocators.
@item @manref{setq(9)} -- @tab set sizes and procedures associated with a @dfn{STREAMS} message queue.
@item @manref{setqsched(9)} -- @tab invoke the @dfn{STREAMS} scheduler.
@item @manref{setsq(9)} -- @tab set synchronization queues, sizes and procedures associated with a @dfn{STREAMS} message queue.
@item @manref{skballoc(9)} -- @tab allocate a @dfn{STREAMS} message and data block with a caller supplied socket buffer.
@item @manref{spec_open(9)} -- @tab @dfn{STREAMS} special device shadow file system.
@item @manref{spec_reparent(9)} -- @tab @dfn{STREAMS} special device shadow file system.
@item @manref{specfs_mount(9)} -- @tab @dfn{STREAMS} special device shadow file system.
@item @manref{specfs_umount(9)} -- @tab @dfn{STREAMS} special device shadow file system.
@item @manref{str_close(9)} -- @tab Stream head module procedures.
@item @manref{str_open(9)} -- @tab Stream head module procedures.
@item @manref{streamtab(9)} -- @tab @dfn{STREAMS} module definition structure.
@item @manref{streamtab_t(9)} -- @tab @dfn{STREAMS} module definition structure.
@item @manref{strgetpmsg(9)} -- @tab perform a @manpage{getpmsg(2s)} operation on a Stream head.
@item @manref{strioctl(9)} -- @tab perform a @manpage{ioctl(2s)} operation on a Stream head.
@item @manref{strlog(9)} -- @tab pass a message to the @dfn{STREAMS} logger.
@item @manref{strm_f_ops(9)} -- @tab file operations for Stream heads.
@item @manref{stroptions(9)} -- @tab @dfn{STREAMS} Stream head options structure.
@item @manref{strpoll(9)} -- @tab perform a @manpage{poll(2s)} operation on a Stream head.
@item @manref{strputpmsg(9)} -- @tab perform a @manpage{putpmsg(2s)} operation on a Stream head.
@item @manref{strqget(9)} -- @tab get attributes of a @dfn{STREAMS} message queue.
@item @manref{strqset(9)} -- @tab set attributes of a @dfn{STREAMS} message queue.
@item @manref{strread(9)} -- @tab perform a @manpage{read(2s)} operation on a Stream head.
@item @manref{strrput(9)} -- @tab Stream head module procedures.
@item @manref{strsendpage(9)} -- @tab perform a @manpage{sendfile(2s)} operation on a Stream head.
@item @manref{strthread(9)} -- @tab the @cite{SVR 4} @dfn{STREAMS} scheduler thread structure and array.
@item @manref{strthreads(9)} -- @tab the @cite{SVR 4} @dfn{STREAMS} scheduler thread structure and array.
@item @manref{strwput(9)} -- @tab Stream head module procedures.
@item @manref{strwrite(9)} -- @tab perform a @manpage{write(2s)} operation on a Stream head.
@item @manref{strwsrv(9)} -- @tab Stream head module procedures.
@item @manref{sysctl_str_nstrpush(9)} -- @tab introduction to @dfn{STREAMS} kernel functions.
@item @manref{sysctl_str_strctlsz(9)} -- @tab introduction to @dfn{STREAMS} kernel functions.
@item @manref{sysctl_str_strmsgsz(9)} -- @tab introduction to @dfn{STREAMS} kernel functions.
@item @manref{testb(9)} -- @tab test if a @dfn{STREAMS} message can be allocated.
@item @manref{timeout(9)} -- @tab start a timer.
@item @manref{timeout_id_t(9)} -- @tab start a timer.
@item @manref{timo_fcn_t(9)} -- @tab start a timer.
@item @manref{toid_t(9)} -- @tab start a timer.
@item @manref{unbufcall(9)} -- @tab remove a @dfn{STREAMS} buffer callback.
@item @manref{unfreezestr(9)} -- @tab thaw the state of a Stream queue.
@item @manref{unlinkb(9)} -- @tab unlink a message block from a @dfn{STREAMS} message.
@item @manref{unlinkmsg(9)} -- @tab unlink a message block from a @dfn{STREAMS} message.
@item @manref{unregister_clone(9)} -- @tab unregister a @manpage{clone(4)} minor.
@item @manref{unregister_cmajor(9)} -- @tab unregister external device major number.
@item @manref{unregister_ioctl32(9)} -- @tab unregister a 32-bit IO control command.
@item @manref{unregister_strdev(9)} -- @tab unregister a @dfn{STREAMS} device.
@item @manref{unregister_strdrv(9)} -- @tab unregister a @dfn{STREAMS} driver.
@item @manref{unregister_strmod(9)} -- @tab unregister a @dfn{STREAMS} module.
@item @manref{unregister_strnod(9)} -- @tab unregister a @dfn{STREAMS} minor device node.
@item @manref{untimeout(9)} -- @tab stop a timer.
@item @manref{unweldq(9)} -- @tab unweld two queues.
@item @manref{vcmn_err(9)} -- @tab print a kernel command error.
@item @manref{vstrlog(9)} -- @tab pass a message to the @dfn{STREAMS} logger.
@item @manref{vstrlog_t(9)} -- @tab register a new @dfn{STREAMS} log device.
@item @manref{weld_arg_t(9)} -- @tab weld two (or four) queues together.
@item @manref{weld_fcn_t(9)} -- @tab weld two (or four) queues together.
@item @manref{weldq(9)} -- @tab weld two (or four) queues together.
@item @manref{xmsgsize(9)} -- @tab calculate the size of message blocks in a @dfn{STREAMS} message.
@end multitable

@c ----------------------------------------------------------------------------
@c ----------------------------------------------------------------------------

@node Porting
@chapter Porting
@cindex porting

@menu
* Porting from LiS::
* Porting from SVR 4.2 MP::
* Porting from Solaris::
* Porting from UnixWare::
* Porting from Mentat::
@end menu

@cite{@value{PACKAGE_TITLE}} provides a rich set of @dfn{STREAMS} functions, DDI/DKI functions and
utilities based on @cite{SVR 4.2 MP} for the development of @dfn{STREAMS} modules and drivers.
Although these functions and capabilities provide all of the utilities necessary for the development
of @dfn{STREAMS} modules and drivers, it represents the common set of functions provided by other
@dfn{STREAMS} implementations.

Some other @dfn{STREAMS} implementations provide interfaces, utilities and helper functions specific
to those implementations.  Where @dfn{STREAMS} implementations differ the most is in the manner in
which they configure and register @dfn{STREAMS} drivers and modules for interface to the operating
system, including registration functions, device numbering, creation of minor device nodes,
administration and other mechanisms not specified by the @cite{System V Release 4 Programmer's Guide
-- STREAMS}.

To assist with porting of @dfn{STREAMS} drivers and modules from other @dfn{STREAMS} implementations
and @cite{UNIX} based operating systems to @cite{@value{PACKAGE_TITLE}},
@cite{@value{PACKAGE_TITLE}} provides a separate @cite{@dfn{STREAMS} Compatibility} add-on package,
called @file{strcompat-@value{VERSION_STRCOMPAT}},@footnote{Previously the @cite{@dfn{STREAMS}
Compatibility} modules were part of the @cite{@value{PACKAGE_TITLE}} base package.  They were
separated to an add-on package for a number of reasons that are described in the @cite{OpenSS7
STREAMS Compatibility -- Installation and Reference Manual.}} that provide source level compatibility
with a wide range of mainstream @dfn{STREAMS} implementations and significant groups of
compatibility and helper functions (such as those from @cite{Solaris} and @cite{Mentat}).  These
compatibility packages also provide separate demand loadable kernel modules that provide the
additional compatibility functionality with @cite{@value{PACKAGE_TITLE}}.

Perhaps one of the most important ports to @cite{@value{PACKAGE_TITLE}} is from the deprecated and
deficient @cite{LiS} package to @cite{@value{PACKAGE_TITLE}}.  The @cite{@dfn{STREAMS}
Compatibility} package, @file{strcompat}, also provides a source level compatibility module that
provides source level compatibility to @cite{LiS} to ease porting @cite{LiS} drivers and modules to
the superior @cite{@value{PACKAGE_TITLE}}.

In general, when porting to @cite{@value{PACKAGE_TITLE}} from another @dfn{STREAMS} implementation,
the following items will need the most attention:

@table @emph

@item Header Files
The @dfn{STREAMS} and operating system specific header files that must be included by kernel modules
to implement @dfn{STREAMS} drivers or modules are specific to each @cite{STREAMS} implementation.
Although there are some basic header files to include (@file{sys/stream.h}, @file{sys/strconf.h},
@file{sys/ddi.h}, @cite{sys/cmn_err.h}, @cite{sys/dki.h}, @cite{sys/kmem.h}), the order in which
these headers are included and the additional operating system specific headers are implementation
specific.  See the example drivers and modules for the header files that are necessary for
@cite{@value{PACKAGE_TITLE}} @dfn{STREAMS} modules and drivers.

@item Kernel Module Mechanism
The mechanism for creating, configuring and loading kernel modules is specific to the operating
system implementation.  @cite{@value{PACKAGE_TITLE}} uses the normal @cite{Linux} mechanisms for
kernel modules also for @dfn{STREAMS} drivers and modules.

@item Configuration and Registration
The @dfn{STREAMS} driver or module will need to be converted to use the @cite{@value{PACKAGE_TITLE}}
configuration and registration mechanisms.  See @manref{register_strdev(9)},
@manref{unregister_strdev(9)}, @manref{register_strmod(9)} and @manref{unregister_strmod(9)} for
more specific information on the @cite{@value{PACKAGE_TITLE}} configuration and registration
mechanisms.

@item Non-@dfn{STREAMS} DDI/DKI Facilities
Any of the non-@dfn{STREAMS} DDI/DKI facilities or operating system specific facilities that are
used by the @dfn{STREAMS} driver or module may need to be replaced with the @cite{Linux} equivalent.
Examples of such facilities include basic locks, read-write locks, semaphores and mutexes, atomic
integers, interrupt suppression, bus access and memory mapping functions.

@item Binary Modules
When @dfn{STREAMS} drivers or modules are released as binary objects and source code is not
available, it is still possible to convert the binary module for use with
@cite{@value{PACKAGE_TITLE}}.  The facility to convert binary modules for use with
@cite{@value{PACKAGE_TITLE}} is not, however, part of the base package and is not part of the
@cite{STREAMS Compatibility} package.  A separate add-on package, the @cite{Binary Compatibility
Modules} package, @file{strbcm-@value{VERSION_STRBCM}} was developed explicitly for this
purpose.@footnote{Because binary compatibility is a thorny issue, both from the standpoint of
technical merit and licensing issues, the @file{strbcm} package is only currently available to
subscribers and sponsors of the @cite{OpenSS7 Project}.}

@end table

@node Porting from LiS
@section Porting from LiS
@cindex porting from LiS

Applications programs to not need to be ported, or even recompiled when they use shared libraries.
@cite{@value{PACKAGE_TITLE}} provides @cite{LiS} compatible shared object libraries.  Applications
compiled against static libraries will need to be recompiled unless @cite{@value{PACKAGE_TITLE}} was
configured for @dfn{STREAMS} binary compatibility mode.@footnote{See the @samp{--enable-streams-bcm}
option to @command{configure} in @refman{Configure Options}.}

In general, if no @cite{LiS} specific functions are used (other than @dfn{STREAMS} driver or module
registration functions), porting of @cite{LiS} drivers and modules to @cite{@value{PACKAGE_TITLE}}
is straightforward.  @cite{@value{PACKAGE_TITLE}} provides several @dfn{STREAMS} drivers and modules
that are common to both OpenSS7 @cite{@value{PACKAGE_TITLE}} and @cite{LiS} releases.  These drivers
and modules provide examples of how to write @dfn{STREAMS} drivers or modules that can run under
either @cite{LiS} or @cite{@value{PACKAGE_TITLE}}.  The common modules and drivers are as follows:

@multitable @columnfractions 0.5 0.5
@item @file{src/drivers/echo.c} @tab @manref{echo(4)}
@item @file{src/drivers/mux.c} @tab @manref{mux(4)}
@item @file{src/drivers/nuls.c} @tab @manref{nuls(4)}
@item @file{src/modules/nullmod.c} @tab @manref{nullmod(4)}
@item @file{src/modules/sc.c} @tab @manref{sc(4)}
@item @file{src/modules/testmod.c} @tab @manref{testmod(4)}
@end multitable

When built for @cite{@value{PACKAGE_TITLE}}, @samp{C} preprocessor symbol @samp{LFS} is defined; when
built for @cite{LiS}, @samp{LIS} is defined.

@cite{LiS} provides many simple wrapper functions that are @cite{Linux} kernel functions with
@samp{lis_} prepended to the name.  Aside from licensing issues associated with using these wrapper
functions, in many cases it is possible to simply drop the @samp{lis_} from the function call and
use the @cite{Linux} functions directly.  This is true for most spin locks, read-write locks,
semaphores, mutexes, atomic integers, bus access and memory mapping functions.

When many or specific @cite{LiS} functions calls are necessary, it is better to use the @cite{LiS}
compatibility module present in the @file{strcompat-@value{VERSION_STRCOMPAT}} package.

@node Porting from SVR 4.2 MP
@section Porting from SVR 4.2 MP
@cindex porting from SVR 4.2 MP

When porting from @cite{SVR 4.2 MP} or a @dfn{STREAMS} implementation based closely on @cite{SVR 4.2
MP}, such as @cite{SUPER-UX}, @cite{UXP/V}, @cite{IRIX} or many of the real-time operating system
implementations (e.g. @cite{VxWorks}), it is possible to port directly to
@cite{@value{PACKAGE_TITLE}} without using the @cite{STREAMS Compatibility} package.  Event when
porting from @cite{AIX}, @cite{HP-UX} and @cite{OSF/1} it is possible to avoid using the
compatibility package.

Most pseudo-device drivers and modules should not require any special facilities beyond basic locks
and porting may be straightforward.  Where extensive implementation specific DDI/DKI or operating
system functions are required, it is better to use the @cite{STREAMS Compatibility} package and
modules closest to the specific implementation being ported from.

@node Porting from Solaris
@section Porting from Solaris
@cindex porting from Solaris

When porting from @cite{Solaris} there are both @dfn{STREAMS} facilities and extensive DDI/DKI
facilities that differ greatly from basic @cite{SVR 4.2 MP} @dfn{STREAMS} and DDI/DKI functions.
For porting all but the most trivial of @dfn{STREAMS} drivers and modules written specifically for
@cite{Solaris}, it is better to use the @cite{STREAMS Compatibility} package and the @cite{Solaris}
compatibility module provided by that package.@footnote{The compatibility package also provides a
version of the @file{strsun.h} header file and the helper functions provided there.}

@node Porting from UnixWare
@section Porting from UnixWare
@cindex porting from UnixWare

When porting from @cite{UnixWare} there are extensive operating system facilities that differ
greatly from basic @cite{Linux} facilities.  For the most part these are basic locks, read-write
locks, condition variables, sleep locks, atomic integers, bus access and mapping functions.
Although @cite{Linux} provides equivalents in most of these categories, the @cite{STREAMS
Compatibility} package contains a compatibility module for @cite{UnixWare} that provides source
compatibility with most of these functions.  It is recommended that all but the most trivial of
@cite{UnixWare} drivers and modules use the @cite{STREAMS Compatibility} package when porting.

@node Porting from Mentat
@section Porting from Mentat
@cindex porting from Mentat

When porting a @dfn{STREAMS} driver or module from a @cite{Mentat} implementation (such as
@cite{AIX}, @cite{HP-UX}, @cite{OSF/1}, @cite{Mac OT}) that makes heavy use of the @cite{Mentat}
@samp{mi_} or @samp{mps_} helper functions, it is best to use the OpenSS7 implementations of those
functions available in the @cite{STREAMS Compatibility} package directly.  The @cite{STREAMS
Compatibility} package provides a @cite{Mentat Portable STREAMS} compatibility module that provides
implementations of the @cite{Mentat} functions found in @cite{AIX}, @cite{OSF/1} and @cite{Mac
OT}.@footnote{Note that @cite{Solaris} also provides versions of the @cite{Mentat} functions which
appear in the @cite{Solaris} compatiblity module.}

@ignore
@table @cite
@item --- SVR 4.2 ES/MP
@cite{@value{PACKAGE_TITLE}} provides compatibility functions for source level compatibility with
@cite{SVR 4.2 ES/MP}
and to ease porting of modules and drivers to @cite{@value{PACKAGE_TITLE}}.
Portability considerations are maintained in a separate manual:
@pxref{Porting from SVR 4.2 MP, , , porting, Linux Fast-STREAMS Porting Guide}.

@item --- AIX 5L Version 5.1
@cite{@value{PACKAGE_TITLE}} provides compatibility functions for source level compatibility with
@cite{AIX 5L Version 5.1}
and to ease porting of modules and drivers to @cite{@value{PACKAGE_TITLE}}.
Portability considerations are maintained in a separate manual:
@pxref{Porting from AIX 5L Version 5.1, , , porting, Linux Fast-STREAMS Porting Guide}.

@item --- HP-UX 11.0i v2
@cite{@value{PACKAGE_TITLE}} provides compatibility functions for source level compatibility with
@cite{HP-UX 11.0i v2}
and to ease porting of modules and drivers to @cite{@value{PACKAGE_TITLE}}.
Portability considerations are maintained in a separate manual:
@pxref{Porting from HP-UX 11.0i v2, , , porting, Linux Fast-STREAMS Porting Guide}.

@item --- OSF/1 1.2/Digital UNIX/True 64
@cite{@value{PACKAGE_TITLE}} provides compatibility functions for source level compatibility with
@cite{OSF/1 1.2/Digital UNIX/True 64}
and to ease porting of modules and drivers to @cite{@value{PACKAGE_TITLE}}.
Portability considerations are maintained in a separate manual:
@pxref{Porting from OSF/1 1.2/Digital UNIX, , , porting, Linux Fast-STREAMS Porting Guide}.

@item --- UnixWare 7.1.3 (OpenUnix 8)
@cite{@value{PACKAGE_TITLE}} provides compatibility functions for source level compatibility with
@cite{UnixWare 7.1.3 (OpenUnix 8)}
and to ease porting of modules and drivers to @cite{@value{PACKAGE_TITLE}}.
Portability considerations are maintained in a separate manual:
@pxref{Porting from UnixWare 7.1.3 (OpenUnix 8), , , porting, Linux Fast-STREAMS Porting Guide}.

@item --- Solaris 9/SunOS 5.9
@cite{@value{PACKAGE_TITLE}} provides compatibility functions for source level compatibility with
@cite{Solaris 9/SunOS 5.9}
and to ease porting of modules and drivers to @cite{@value{PACKAGE_TITLE}}.
Portability considerations are maintained in a separate manual:
@pxref{Porting from Solaris 9/SunOS 5.9, , , porting, Linux Fast-STREAMS Porting Guide}.

@item --- SUPER-UX
@cite{@value{PACKAGE_TITLE}} provides compatibility functions for source level compatibility with
@cite{SUPER-UX}
and to ease porting of modules and drivers to @cite{@value{PACKAGE_TITLE}}.
Portability considerations are maintained in a separate manual:
@pxref{Porting from SUPER-UX, , , porting, Linux Fast-STREAMS Porting Guide}.

@item --- UXP/V
@cite{@value{PACKAGE_TITLE}} provides compatibility functions for source level compatibility with
@cite{UXP/V}
and to ease porting of modules and drivers to @cite{@value{PACKAGE_TITLE}}.
Portability considerations are maintained in a separate manual:
@pxref{Porting from UXP/V, , , porting, Linux Fast-STREAMS Porting Guide}.

@item --- LiS-2.16.18
@cite{@value{PACKAGE_TITLE}} provides compatibility functions for source level compatibility with
@cite{LiS-2.16.18} and @cite{LiS-2.18.0},
and to ease porting of modules and drivers to @cite{@value{PACKAGE_TITLE}}.
Portability considerations are maintained in a separate manual:
@pxref{Porting from Linux STREAMS (LiS) 2.16.18, , , porting, Linux Fast-STREAMS Porting Guide}.
@end table

For additional details,
@pxref{Top, , About This Manual, proting, Linux Fast-STREAMS Porting Guide}.
@end ignore

@c ----------------------------------------------------------------------------
@c ----------------------------------------------------------------------------

@node Conformance
@chapter Conformance
@cindex conformance

@menu
* Standards Compliance::
* STREAMS Compatibility::
@end menu

@node Standards Compliance
@section Standards Compliance
@cindex standard compliance

@cite{@value{PACKAGE_TITLE}} was designed and implemented to be compliant with as many standards
impinging on @dfn{STREAMS} as possible.  There are three areas of standards compliance as follows:

@subsection User Interface Compliance

The @dfn{STREAMS} user interface standards are primarily specified by the @cite{IEEE} and
@cite{OpenGroup} standards and take the form of the @cite{POSIX 2003} and @cite{Single UNIX
Specification} standards simultaneously released by the @cite{OpenGroup} in conjunction with
@cite{IEEE}.  The latest @cite{POSIX/IEEE/OpenGroup} standard provide an @cite{XSI} extension that
includes the @dfn{STREAMS} user interface.  For the most part, the @cite{OpenGroup} XSI interface is
completely compatible with the user interface described in the @cite{System V Release 4
Programmer's Manual -- STREAMS}, and where it does not, Stream head options are provided to select
between the default @cite{OpenGroup} XSI behaviour and the traditional @cite{SVR 4} behaviour.

Most of the XSI specifications of the @cite{OpenGroup} describe the behaviour of the Stream head and
the behaviour of specific @dfn{STREAMS} drivers or modules (such as pipes, FIFOs and terminals).
Also described is the @manpage{poll(2s)} behaviour, generation of signals, and @manpage{read(2s)} and
@manpage{write(2s)} behaviour as it applies to @dfn{STREAMS} character special devices.@footnote{One
of the major deficiencies of the deprecated @cite{LiS} implemntation was its inability to conform to
the standards imposed on the user interface and behaviour of the Stream head.}

User interface compliance of the @cite{@value{PACKAGE_TITLE}} is tested with custom validation test
suites that ship with the package.  See @refman{Conformance Test Programs} for more information on
conformance and validation test suites.

@subsection Service Interface Compliance

The @cite{OpenGroup} (now and in previous incarnations) have issued standardized service interface
specifications as part of the Common Application Environment (CAE) specifications.  These service
interface specifications usually concern networking interfaces such as the @cite{Data Link Provider
Interface (DLPI)}, the @cite{Network Provider Interface (NPI)}, the @cite{Transport Provider
Interface (TPI)}, the @cite{X/Open Transport Interface (XTI)} and the @cite{Sockets} API.  Although
these standards impinge upon various networking add-on packages for @cite{@value{PACKAGE_TITLE}},
they do not impinge upon the base @dfn{STREAMS} package documented here.  See the @cite{Installation
and Reference Manual} for the appropriate add-on package.

@subsection Kernel Interface Compliance

The @dfn{STREAMS} kernel interfaces, DDI/DKI and other facilities available to the @dfn{STREAMS}
driver or module writer has not been subjected to formal standardization.  For the most part, the
descriptions that are present in the @cite{System V Programmer's Manual -- STREAMS} provide the most
definitive ipso facto standard for @dfn{STREAMS} implementation.  In addition to this, some
@dfn{STREAMS} implementations have provided some enhancements or restrictions over the @cite{SVR 4}
descriptions.  Perhaps the most extensive embellishments have been provided for the @cite{Solaris}
implementation of @cite{STREAMS}.

@cite{@value{PACKAGE_TITLE}} has been implemented to provide maximum compatibility over a wide range
of @dfn{STREAMS} implementations based on @cite{SVR 4} and provides additional capabilities similar
to those specific embellishments found in implementations such as @cite{Solaris} through an add-on
@cite{STREAMS Compatibility} package.

The most delicate areas of compatibility across @dfn{STREAMS} implementations regard, not the use of
@dfn{STREAMS} or DDI/DKI functions from within the @dfn{STREAMS} environment, but the invocation of
@dfn{STREAMS} functions from outside the @dfn{STREAMS} environment.  In particular, use of private
locks and synchronization in the face of interrupts and external asynchronous callbacks is where
implementations deviate the greatest.  @cite{@value{PACKAGE_TITLE}} attempts to address these
differences by providing a greater level of assurance and wider range of calling contexts for each
of the @dfn{STREAMS} facilities.

Kernel interface compliance of the @cite{@value{PACKAGE_TITLE}} to @cite{SVR 4} specifications is
tested with custom validation test suites, test modules and test drivers that ship with the package.
See @refman{Conformance Test Programs} for more information on conformance and validation test
suites.

@node STREAMS Compatibility
@section STREAMS Compatibility
@cindex compatibility

@cite{@value{PACKAGE_TITLE}} provides a high degree of compatibility with other @dfn{STREAMS}
implementation as listed below.  Through the separate add-on @cite{STREAMS Compatibility} package,
source level compatibility is also provided.

@table @cite

@item --- SVR 3.2
@cite{@value{PACKAGE_TITLE}} provides a degree of operational compatibility with
@cite{SVR 3.2}
to ease portability and common comprehension.  Specific kernel utilities are provided by the
@cite{STREAMS Compatibility} package to provide full source level compatibility with
@cite{SVR 3.2}.

@item --- SVR 4.2 ES/MP
@cite{@value{PACKAGE_TITLE}} provides a high degree of operational compatibility with
@cite{SVR 4.2 ES/MP}
to ease portability and common comprehension.  Specific kernel utilities are provided by the
@cite{STREAMS Compatibility} package to provide full source level compatibility with
@cite{SVR 4.2 ES/MP}.

@item --- Mentat Portable STREAMS
@cite{@value{PACKAGE_TITLE}} provides a high degree of operational compatibility with
@cite{Mentat Portable STREAMS}
to ease portability and common comprehension.  Specific kernel utilities are provided by the
@cite{STREAMS Compatibility} package to provide full source level compatibility with
@cite{Mentat Portable STREAMS}.

@item --- AIX 5L Version 5.1
@cite{@value{PACKAGE_TITLE}} provides a high degree of operational compatibility with
@cite{AIX 5L Version 5.1}
to ease portability and common comprehension.  Specific kernel utilities are provided by the
@cite{STREAMS Compatibility} package to provide full source level compatibility with
@cite{AIX 5L Version 5.1}.

@item --- HP-UX 11.0i v2
@cite{@value{PACKAGE_TITLE}} provides a high degree of operational compatibility with
@cite{HP-UX 11.0i v2}
to ease portability and common comprehension.  Specific kernel utilities are provided by the
@cite{STREAMS Compatibility} package to provide full source level compatibility with
@cite{HP-UX 11.0i v2}.

@item --- OSF/1 1.2/Digital UNIX/True 64
@cite{@value{PACKAGE_TITLE}} provides a high degree of operational compatibility with
@cite{OSF/1 1.2/Digital UNIX}
to ease portability and common comprehension.

@item --- UnixWare 7.1.3 (OpenUnix 8)
@cite{@value{PACKAGE_TITLE}} provides a high degree of operational compatibility with
@cite{UnixWare 7.1.3 (OpenUnix 8)}
to ease portability and common comprehension.  Specific kernel utilities are provided by the
@cite{STREAMS Compatibility} package to provide full source level compatibility with
@cite{UnixWare 7.1.3 (OpenUnix 8)}.

@item --- Solaris 9/SunOS 5.9
@cite{@value{PACKAGE_TITLE}} provides a high degree of operational compatibility with
@cite{Solaris 9/SunOS 5.9}
to ease portability and common comprehension.  Specific kernel utilities are provided by the
@cite{STREAMS Compatibility} package to provide full source level compatibility with
@cite{Solaris 9/SunOS 5.9}.

@item --- IRIX 6.5.17
@cite{@value{PACKAGE_TITLE}} provides a high degree of operational compatibility with
@cite{IRIX 6.5.17}
to ease portability and common comprehension.  Specific kernel utilities are provided by the
@cite{STREAMS Compatibility} package to provide full source level compatibility with
@cite{IRIX 6.5.17}.

@item --- Mac OS 9 Open Transport
@cite{@value{PACKAGE_TITLE}} provides a high degree of operational compatibility with
@cite{Mac OS 9 Open Transport}
to ease portability and common comprehension.  Specific kernel utilities are provided by the
@cite{STREAMS Compatibility} package to provide full source level compatibility with
@cite{Mac OS 9 Open Transport}.

@item --- SUPER-UX
@cite{@value{PACKAGE_TITLE}} provides a high degree of operational compatibility with
@cite{SUPER-UX}
to ease portability and common comprehension.

@item --- UXP/V
@cite{@value{PACKAGE_TITLE}} provides a high degree of operational compatibility with
@cite{UXP/V}
to ease portability and common comprehension.

@item --- LiS-2.16.18 and LiS 2.18.0
@cite{@value{PACKAGE_TITLE}} provides a high degree of operational compatibility with
@cite{LiS 2.16.18} and @cite{LiS 2.18.0}
to ease portability and common comprehension.
to ease portability and common comprehension.  Specific kernel utilities are provided by the
@cite{STREAMS Compatibility} package to provide full source level compatibility with
@cite{LiS 2.16.18} and @cite{LiS 2.18.0}.

@end table

For additional details,
@pxref{Top, , About This Manual, SPG, STREAMS Programmer's Guide}.

@c ----------------------------------------------------------------------------
@c ----------------------------------------------------------------------------

@node Releases
@chapter Releases
@cindex releases

@include releases.texi

@c ----------------------------------------------------------------------------
@c ----------------------------------------------------------------------------

@node Installation
@chapter Installation
@cindex installation

@include install.texi

@c ----------------------------------------------------------------------------
@c ----------------------------------------------------------------------------

@node Troubleshooting
@chapter Troubleshooting
@cindex troubleshooting

@include texi/testsuite.texi

@c ----------------------------------------------------------------------------
@c ----------------------------------------------------------------------------

@node Licenses
@unnumbered Licenses
@cindex licenses

@menu
* GNU General Public License::		The GPL license
* GNU Lesser General Public License::	The LGPL license
* GNU Free Documentation License::	The FDL license
@end menu

@page
@include texi/gpl.texi
@page
@include texi/lesser.texi
@page
@include texi/fdl.texi

@c ----------------------------------------------------------------------------
@c ----------------------------------------------------------------------------

@node Indices
@unnumbered Indices
@cindex indices

@c ----------------------------------------------------------------------------

@menu
* Concept Index::		Index of Concepts
* Type Index::			Index of Data Types
* Function Index::		Index of Functions and Macros
* Variable Index::		Index of Variables and Constants
* File Index::			Index of Files and Programs
* Option Index::		Index of Configuration Options
* Makefile Target Index::	Index of Makefile Targets
* Author Index::		Index of Authors
* Manual Page Index::		Index of Manual Pages Referenced
@end menu

@c ----------------------------------------------------------------------------

@node Concept Index
@unnumberedsec Index of Concepts
@printindex cp

@page
@node Type Index
@unnumberedsec Index of Data Types
@printindex tp

@page
@node Function Index
@unnumberedsec Index of Functions and Macros
@printindex fn

@page
@node Variable Index
@unnumberedsec Index of Variables and Constants
@printindex vr

@page
@node File Index
@unnumberedsec Index of Files and Programs
@printindex pg

@page
@node Option Index
@unnumberedsec Index of Configuration Options
@printindex op

@page
@node Makefile Target Index
@unnumberedsec Index of Makefile Targets
@printindex mk

@page
@node Author Index
@unnumberedsec Index of Authors
@printindex au

@page
@node Manual Page Index
@unnumberedsec Index of Manual Pages Referenced
@printindex mp

@c ----------------------------------------------------------------------------

@page
@shortcontents
@page
@contents
@bye

@c ============================================================================
