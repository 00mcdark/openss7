


Network Working Group                                     Brian Bidulock
INTERNET-DRAFT                                       OpenSS7 Corporation

                                                       February 21, 2004
Expires in January 2004



                 SS7 MTP3-User Adaptation Layer (M3UA)
                          Test Specifications
                               M3UA-TEST

               <draft-bidulock-sigtran-m3ua-test-00.txt>


Status of this Memo

     This document is an Internet-Draft and is subject to all provisions
  of Section 10 of RFC2026.

     Internet-Drafts are working documents of the Internet Engineering
  Task Force (IETF), its areas, and its working groups.  Note that other
  groups may also distribute working documents as Internet-Drafts.

     Internet-Drafts are draft documents valid for a maximum of six
  months and may be updated, replaced, or obsoleted by other documents
  at any time.  It is inappropriate to use Internet-Drafts as reference
  material or to cite them other than as 'work in progress'.

     The list of current Internet-Drafts can be accessed at
  http://www.ietf.org/ietf/1id-abstracts.txt

     The list of Internet-Draft Shadow Directories can be accessed at
  http://www.ietf.org/shadow.html

     To learn the current status of any Internet-Draft, please check the
  Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
  munnari.oz.au (Pacific Rim), ftp.ietf.org (US East Coast), or
  ftp.isi.edu (US West Coast).

Copyright

     Copyright (C) The Internet Society (2003).  All Rights Reserved.

Abstract

     The SS7 MTP3-User Adataptation Layer (M3UA)  [M3UA] specifies a
  protocol for supporting the transport of any SS7 MTP3-User signalling
  (e.g., ISUP and SCCP messages) over IP using the services of the
  Stream Control Transmission Protocol [RFC 2960].  Also, provision is
  made for protocol elements that enable a seamless operation of the
  MTP3-User peers in the SS7 and IP domains. This protocol would be used
  between a Signalling Gateway (SG) and a Media Gateway Controller (MGC)


B. Bidulock                    Version 0.0                        Page 1

Internet-Draft                  M3UA-TEST              February 21, 2004

  or IP-resident Database, or between two IP-based applications.  It is
  assumed that the SG receives SS7 signalling over a standard SS7
  interface using the SS7 Message Transfer Part (MTP) [Q.704, T1.111,
  JT-Q.704] to provide transport.

     This memo specifies M3UA Validation and Compatability tests to test
  M3UA Signalling Gateway (SG) elements interacting with Application
  Server Process (ASP) elements, and between IP Signalling Points (IPSP)
  using the M3UA protocol [M3UA].

1.  Introduction

1.1.  Scope

1.2.  Terminology

1.3.  Abbreviations

1.4.  Conventions

     The keywords MUST, MUST NOT, REQUIRED, SHALL, SHALL NOT, SHOULD,
  SHOULD NOT, RECOMMENDED, NOT RECOMMENDED, MAY, and OPTIONAL, when they
  appear in this document, are to be interpreted as described in RFC
  2119 [RFC 2119].

2.  M3UA Test Environment

     Requirements for the test environment depend upon whether
  Validation testing or Compatability testing is to be supported by the
  test environment, as follows:

2.1.  Validation Testing

     The purpose of Validation Testing is to test a single
  implementation (SG, ASP or IPSP) for positive and negative test cases.
  Tests include generating abnormal message sequences and patterns not
  normally possible with a conforming implementation and, therefore,
  need to be generated by a specialized piece of equipment called the
  Protocol Tester.  Validation Testing validates the Implementation
  Under Test against the behvaior required by standards specifications
  (in this case [M3UA] specifications).

     Validation testing is normally performed on an implementation
  before engaging in Compatability testing.

     For M3UA validation testing, the test environment consists of the
  following components:

   (1)   The Implementation Under Test (IUT).  The IUT is one M3UA SG,
         ASP or IPSP implementation being tested.  The SG IUT might have
         to offer interface capabilities in addition to the interface
         capabilities required in normal operation to permit the SS7 MTP
         Simulator to inject and collect MTP primitives to and from the
         M3UA SG.  The ASP or IPSP IUT might have to offer interface

B. Bidulock                    Version 0.0                        Page 2

Internet-Draft                  M3UA-TEST              February 21, 2004

         capabilities in addition to the interface capabilities required
         in normal operation to permit the SS7 MTP-User Simulator to
         inject and collect MTP primitives to and from the M3UA ASP or
         IPSP.

   (2)   The Protocol Tester (PT).  The PT is a specialized device that
         can form associations with the IUT and pass M3UA and SCTP
         messages to and from the IUT in a controlled fashion as
         required by the Validataion tests.

   (3)   The SS7 MTP/MTP-User Simulator (SIM).  The may be part of the
         IUT, part of the PT or part of the test environment.  It is a
         specialized function that can pass MTP-User primitives to and
         from the IUT.  For M3UA SG IUT validation testing, the function
         provides a simulation of the MTP Level 3.  For M3UA ASP or IPSP
         IUT validation testing, the function provides a simulation of
         the MTP Level 3 User.

   (4)   An IP Network (NET).  A network to which both the PT and IUT
         are attached and across which SCTP associations can be formed.

   (5)   The M3UA/SCCP Monitor (MON).  This is a function that monitors
         the exchange of M3UA and SCTP messages between the PT and IUT
         across the IP network.  This function might be integrated with
         the PT, the IUT, or the test environment.

2.2.  Compatability Testing

     The purpose of Compatability Testing is to test two implementations
  for compatability with each other.  Test cases typically only include
  positive test cases.  Tests do not require the generation of any
  abnormal messages or patterns as with Validation Testing.
  Compatability Testing tests that two implementations can perform the
  required functions in a compatible fashion as dictated by the relevant
  standards (in this case [M3UA] specifications).

     Validation testing is normally performed on an implementation
  before engaging in Compatability Testing.

     For M3UA Compatability testing, the test environment consists of
  the following components:

   (1)   The Implementations Under Test (IUT).  The IUT consist of one
         SG and one ASP implementation, or two IPSP implementations.
         The SG IUT might have to offer interface capabilities in
         addition to the interface capabilities required in normal
         operation to permit the SS7 MTP Simulator to inject and collect
         MTP primitives to and from the M3UA SG.  The ASP or IPSP IUT
         might have to offer interface capabilities in addition to the
         interface capabilities required in normal operation to permit
         the SS7 MTP-User Simulator to inject and collect MTP primitives
         to and from the



B. Bidulock                    Version 0.0                        Page 3

Internet-Draft                  M3UA-TEST              February 21, 2004

   (2)   The SS7 MTP/MTP-User Simulator (SIM).  The may be part of the
         IUT, part of the PT or part of the test environment.  It is a
         specialized function that can pass MTP-User primitives to and
         from the IUT.  For M3UA SG/ASP IUT compatability testing, the
         function provides a simulation of the MTP Level 3 and a
         simulation of the MTP Level 3 User.  For M3UA IPSP IUT
         validation testing, the function need provide only simulation
         of the MTP Level 3 User at each IPSP.

   (3)   An IP Network (NET).  A network to which both the IUT are
         attached and across which SCTP associations can be formed.

   (4)   The M3UA/SCCP Monitor (MON).  This is a function that monitors
         the exchange of M3UA and SCTP messages between IUT across the
         IP network.  This function might be integrated with the IUT, or
         the test environment.

2.3.  Test Specification

     Validation and Compatability tests are specified using the same
  test pattern.  Some tests are applicable to Validation testing, some
  are applicable to Compatability testing, and others are applicable to
  both forms of testing.  For test specifications that are applicable to
  both Validation and Compatability testing, one SP acts either as a PT
  (for Validation) or as the second IUT (for Compatability).

3.  M3UA Test Configurations

     Test configurations for Validation and Compatability testing are
  specified the same.  The only difference between Validation and
  Compatability testing as applied to a specific configuration is that
  the SP at position "A" is always the ASP IUT; at position "B", is
  always the SG IUT.  The SP at the other positions ("C," "D," etc.) are
  either the PT, for Validation testing, or other IUT, for Compatability
  testing.

     Each test case in the test suite are applicable to one
  configuration.  Some configurations are only applicable to SG, ASP or
  IPSP IUT testing.  The configurations necessary to execute the entire
  test suite are as follows:

3.1.  Test Environment #1

3.1.1.  Validation











B. Bidulock                    Version 0.0                        Page 4

Internet-Draft                  M3UA-TEST              February 21, 2004

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |                                              M3UA SGP       |
    |     _________                               _________       |
    |    |         |                             |         |      |
    |    |   SPA   |_____________________________|   SPB   |      |
    |    |   PT    |     |      SCTP             |   IUT   |      |
    |    |_________|     |   Association         |_________|      |
    |      Protocol      |                            |           |
    |       Tester       |                            |           |
    |                    |                       MTP Level 3      |
    |                    |                        Simulator       |
    |                ____|____                                    |
    |               |         |                                   |
    |               |  M3UA   |                                   |
    |               | Monitor |                                   |
    |               |_________|                                   |
    |                                                             |
    |_____________________________________________________________|

             Figure 1.  Environment #1(a) -- SGP Validation


     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                             MTP-User        |
    |                                             Simulator       |
    |                                                 |           |
    |     _________                               ____|____       |
    |    |         |                             |         |      |
    |    |   SPB   |_____________________________|   SPA   |      |
    |    |   PT    |     |      SCTP             |   IUT   |      |
    |    |_________|     |   Association         |_________|      |
    |     Protocol       |                                        |
    |      Tester        |                        M3UA ASP        |
    |                    |                                        |
    |                    |                                        |
    |                ____|____                                    |
    |               |         |                                   |
    |               |  M3UA   |                                   |
    |               | Monitor |                                   |
    |               |_________|                                   |
    |                                                             |
    |_____________________________________________________________|

             Figure 2.  Environment #1(b) -- ASP Validation






B. Bidulock                    Version 0.0                        Page 5

Internet-Draft                  M3UA-TEST              February 21, 2004

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                             MTP-User        |
    |                                             Simulator       |
    |                                                 |           |
    |     _________                               ____|____       |
    |    |         |                             |         |      |
    |    |   SPB   |_____________________________|   SPA   |      |
    |    |   PT    |     |      SCTP             |   IUT   |      |
    |    |_________|     |   Association         |_________|      |
    |     Protocol       |                                        |
    |      Tester        |                        M3UA IPSP       |
    |                    |                                        |
    |                    |                                        |
    |                ____|____                                    |
    |               |         |                                   |
    |               |  M3UA   |                                   |
    |               | Monitor |                                   |
    |               |_________|                                   |
    |                                                             |
    |_____________________________________________________________|

            Figure 3.  Environment #1(c) -- IPSP Validation


3.1.2.  Compatability

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                             MTP-User        |
    |                                             Simulator       |
    |      M3UA SGP                                   |           |
    |     _________                               ____|____       |
    |    |         |                             |         |      |
    |    |   SPB   |_____________________________|   SPA   |      |
    |    |   IUT   |     |      SCTP             |   IUT   |      |
    |    |_________|     |   Association         |_________|      |
    |         |          |                                        |
    |         |          |                        M3UA ASP        |
    |    MTP Level 3     |                                        |
    |     Simulator      |                                        |
    |                ____|____                                    |
    |               |         |                                   |
    |               |  M3UA   |                                   |
    |               | Monitor |                                   |
    |               |_________|                                   |
    |                                                             |
    |_____________________________________________________________|

        Figure 4.  Environment #1(a,b) -- ASP/SGP Compatability



B. Bidulock                    Version 0.0                        Page 6

Internet-Draft                  M3UA-TEST              February 21, 2004

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |     MTP-User                                MTP-User        |
    |     Simulator                               Simulator       |
    |         |                                       |           |
    |     ____|____                               ____|____       |
    |    |         |                             |         |      |
    |    |   SPB   |_____________________________|   SPA   |      |
    |    |   IUT   |     |      SCTP             |   IUT   |      |
    |    |_________|     |   Association         |_________|      |
    |                    |                                        |
    |     M3UA IPSP      |                        M3UA IPSP       |
    |                    |                                        |
    |                    |                                        |
    |                ____|____                                    |
    |               |         |                                   |
    |               |  M3UA   |                                   |
    |               | Monitor |                                   |
    |               |_________|                                   |
    |                                                             |
    |_____________________________________________________________|

           Figure 5.  Environment #1(c) -- IPSP Compatability


3.2.  Test Environment #2

3.2.1.  Validation

























B. Bidulock                    Version 0.0                        Page 7

Internet-Draft                  M3UA-TEST              February 21, 2004

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |                                              SPB IUT        |
    |     _________                               _________       |
    |    |         |                             |         |      |
    |    |   SPA   |_____________________________|  SGP 1  |      |
    |    |   PT    |     |      SCTP          |  |_________|      |
    |    |_________|     |   Association(s)   |   ____|____       |
    |      Protocol      |                    |  |         |      |
    |       Tester       |                    |__|  SGP 2  |      |
    |                    |                    |  |_________|      |
    |                    |                    :   ____|____       |
    |                ____|____                :  |         |      |
    |               |         |               :__|    :    |      |
    |               |  M3UA   |               :  |_________|      |
    |               | Monitor |               :   ____|____       |
    |               |_________|               |  |         |      |
    |                                         |__|  SGP n  |      |
    |                                         |  |_________|      |
    |                                         :   ____|____       |
    |                                         :  |         |      |
    |                                         :__|    :    |      |
    |                                         :  |_________|      |
    |                                         :   ____|____       |
    |                                         :  |         |      |
    |                                         |__| SGP n+k |      |
    |                                            |_________|      |
    |                                                 |           |
    |                                                 |           |
    |                                            MTP Level 3      |
    |                                             Simulator       |
    |                                                             |
    |_____________________________________________________________|

             Figure 6.  Environment #2(a) -- SGP Validation


















B. Bidulock                    Version 0.0                        Page 8

Internet-Draft                  M3UA-TEST              February 21, 2004

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                             MTP User        |
    |                                             Simulator       |
    |                                                 |           |
    |     _________                               ____|____       |
    |    |         |                             |         |      |
    |    |   SPB   |_____________________________|  ASP 1  |      |
    |    |   PT    |     |      SCTP          |  |_________|      |
    |    |_________|     |   Association(s)   |   ____|____       |
    |      Protocol      |                    |  |         |      |
    |       Tester       |                    |__|  ASP 2  |      |
    |                    |                    |  |_________|      |
    |                    |                    :   ____|____       |
    |                ____|____                :  |         |      |
    |               |         |               :__|    :    |      |
    |               |  M3UA   |               :  |_________|      |
    |               | Monitor |               :   ____|____       |
    |               |_________|               |  |         |      |
    |                                         |__|  ASP n  |      |
    |                                         |  |_________|      |
    |                                         :   ____|____       |
    |                                         :  |         |      |
    |                                         :__|    :    |      |
    |                                         :  |_________|      |
    |                                         :   ____|____       |
    |                                         :  |         |      |
    |                                         |__| ASP n+k |      |
    |                                            |_________|      |
    |                                                             |
    |                                              SPA IUT        |
    |                                                             |
    |_____________________________________________________________|

             Figure 7.  Environment #2(b) -- ASP Validation



















B. Bidulock                    Version 0.0                        Page 9

Internet-Draft                  M3UA-TEST              February 21, 2004

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                             MTP User        |
    |                                             Simulator       |
    |                                                 |           |
    |     _________                               ____|____       |
    |    |         |                             |         |      |
    |    |   SPB   |_____________________________| IPSP 1  |      |
    |    |   PT    |     |      SCTP          |  |_________|      |
    |    |_________|     |   Association(s)   |   ____|____       |
    |      Protocol      |                    |  |         |      |
    |       Tester       |                    |__| IPSP 2  |      |
    |                    |                    |  |_________|      |
    |                    |                    :   ____|____       |
    |                ____|____                :  |         |      |
    |               |         |               :__|    :    |      |
    |               |  M3UA   |               :  |_________|      |
    |               | Monitor |               :   ____|____       |
    |               |_________|               |  |         |      |
    |                                         |__| IPSP n  |      |
    |                                         |  |_________|      |
    |                                         :   ____|____       |
    |                                         :  |         |      |
    |                                         :__|    :    |      |
    |                                         :  |_________|      |
    |                                         :   ____|____       |
    |                                         :  |         |      |
    |                                         |__|IPSP n+k |      |
    |                                            |_________|      |
    |                                                             |
    |                                              SPA IUT        |
    |                                                             |
    |_____________________________________________________________|

            Figure 8.  Environment #2(c) -- IPSP Validation


3.2.2.  Compatability
















B. Bidulock                    Version 0.0                       Page 10

Internet-Draft                  M3UA-TEST              February 21, 2004

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |                                             MTP User        |
    |                                             Simulator       |
    |      SPB IUT                                    |           |
    |     _________                               ____|____       |
    |    |         |                             |         |      |
    |    |  SGP 1  |_____________________________|  ASP 1  |      |
    |    |_________|  |      |    SCTP        |  |_________|      |
    |     ____|____   |      | Association(s) |   ____|____       |
    |    |         |  |      |                |  |         |      |
    |    |  SGP 2  |__|      |                |__|  ASP 2  |      |
    |    |_________|  |      |                |  |_________|      |
    |     ____|____   |      |                :   ____|____       |
    |    |         |  |  ____|____            :  |         |      |
    |    |    :    |__| |         |           :__|    :    |      |
    |    |_________|  | |  M3UA   |           :  |_________|      |
    |     ____|____   | | Monitor |           :   ____|____       |
    |    |         |  | |_________|           |  |         |      |
    |    |  SGP n  |__|                       |__|  ASP n  |      |
    |    |_________|  |                       |  |_________|      |
    |     ____|____   |                       :   ____|____       |
    |    |         |  |                       :  |         |      |
    |    |    :    |__|                       :__|    :    |      |
    |    |_________|  |                       :  |_________|      |
    |     ____|____   |                       :   ____|____       |
    |    |         |  |                       :  |         |      |
    |    | SGP n+k |__|                       |__| ASP n+k |      |
    |    |_________|                             |_________|      |
    |         |                                                   |
    |         |                                    SPA IUT        |
    |    MTP Level 3                                              |
    |     Simulator                                               |
    |                                                             |
    |_____________________________________________________________|
       Note: the values "n" and "k" may be different on SPA than
                            they are on SPB.

        Figure 9.  Environment #2(a,b) -- ASP/SGP Compatability














B. Bidulock                    Version 0.0                       Page 11

Internet-Draft                  M3UA-TEST              February 21, 2004

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |     MTP User                                MTP User        |
    |     Simulator                               Simulator       |
    |         |                                       |           |
    |     ____|____                               ____|____       |
    |    |         |                             |         |      |
    |    | IPSP 1  |_____________________________| IPSP 1  |      |
    |    |_________|  |      |    SCTP        |  |_________|      |
    |     ____|____   |      | Association(s) |   ____|____       |
    |    |         |  |      |                |  |         |      |
    |    | IPSP 2  |__|      |                |__| IPSP 2  |      |
    |    |_________|  |      |                |  |_________|      |
    |     ____|____   |      |                :   ____|____       |
    |    |         |  |  ____|____            :  |         |      |
    |    |    :    |__| |         |           :__|    :    |      |
    |    |_________|  | |  M3UA   |           :  |_________|      |
    |     ____|____   | | Monitor |           :   ____|____       |
    |    |         |  | |_________|           |  |         |      |
    |    | IPSP n  |__|                       |__| IPSP n  |      |
    |    |_________|  |                       |  |_________|      |
    |     ____|____   |                       :   ____|____       |
    |    |         |  |                       :  |         |      |
    |    |    :    |__|                       :__|    :    |      |
    |    |_________|  |                       :  |_________|      |
    |     ____|____   |                       :   ____|____       |
    |    |         |  |                       :  |         |      |
    |    |IPSP n+k |__|                       |__|IPSP n+k |      |
    |    |_________|                             |_________|      |
    |                                                             |
    |      SPB IUT                                 SPA IUT        |
    |                                                             |
    |_____________________________________________________________|
       Note: the values "n" and "k" may be different on SPA than
                            they are on SPB.

          Figure 10.  Environment #2(c) -- IPSP Compatability


4.  M3UA Tests

4.1.  Test Cases

4.1.1.  SCTP Associations

4.1.2.  Registration Procedures

4.1.3.  Deregistration Procedures





B. Bidulock                    Version 0.0                       Page 12

Internet-Draft                  M3UA-TEST              February 21, 2004

4.1.4.  ASP Up Procedures

4.1.5.  ASP Down Procedures

4.1.6.  ASP Active Procedures

4.1.7.  ASP Inactive Procedures

4.1.8.  Notification Procedures

4.1.9.  SS7 Signalling Network Management Procedures

4.1.9.1.  Audit Procedures

4.1.10.  MTP Transfer Procedures

4.1.11.  ASP Failure

4.1.12.  Erroneous Messages

4.1.13.  Unexpected Messages

5.  SS7 MTP Level 3 Test Environment

     The test environment for SS7 MTP Level 3 [Q.782] testing is
  described in the General Aspects of SS7 Testing [Q.780].  There are
  two types of testing that are accommodated as follows:

  Validation Testing -- consists of validating a single Implementation
      Under Test (IUT).  This is peformed by connecting the IUT to a
      Protocol Tester (PT) within the test environment.

      Validation testing is more extensive that compatability testing.
      This is because it is possible, with the use of the Protocol
      Tester (PT), to generate abnormal messages and patterns, that
      cannot normally be generated from an Implementation Under Test
      (IUT), to test the IUT response to abormal conditions.

  Compatability Testing -- consists of testing the compatability of one
      Implementation Under Test (IUT) with another.  This is performed
      by connecting the IUT together within the test environment.

      Compatability testing is less extensive than validation testing.
      This is because it is not normally possible to generate abnormal
      test message and patterns with an implementation that conforms to
      validation testing.  However, compatability tests are better at
      testing the interoperability of two implementations.

6.  SS7 MTP Level 3 Test Configurations

     This section details the Validation and Compatability test
  configurations used for testing M3UA SG and ASP for SS7 MTP Level 3
  conformance.


B. Bidulock                    Version 0.0                       Page 13

Internet-Draft                  M3UA-TEST              February 21, 2004

6.1.  Validation Test Configuration

     Validation testing consists of validating a single Implementation
  Under Test (IUT) for SS7 MTP Level 3 conformance.  Several test
  configurations can be used with M3UA Signalling Gateways (SG) and
  Application Service Processes (ASP) as follows[1]:

6.1.1.  SS7 Validation Test Configuration

6.1.1.1.  Configuration A

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

            Figure 11.  SS7 Validation Test Configuration A


6.1.1.2.  Configuration B

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

            Figure 12.  SS7 Validation Test Configuration B


6.1.1.3.  Configuration C

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

            Figure 13.  SS7 Validation Test Configuration C


6.1.1.4.  Configuration D

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

            Figure 14.  SS7 Validation Test Configuration D




B. Bidulock                    Version 0.0                       Page 14

Internet-Draft                  M3UA-TEST              February 21, 2004

     Figure 14 illustrates the Validation Test configuration.  As
  described in the SS7 Test Specifications [Q.780], the SS7 Level 3
  validation test environment consists of the following components:

   (1)   The Protocol Tester (PT) performing validation tests at
         position "B", "C", etc.

   (2)   The Implementation Under Test (IUT) that is being validated at
         position "A".

   (3)   One or more SS7 Signalling Links [Q.703] between the PT at
         position "B", "C", etc., and the IUT at "A".

   (4)   The Simulator of Upper Levels attached to the IUT at position
         "A".

     For this configuration, the interface between the Implementation
  Under Test (IUT) and the Simulator of Upper Levels is that described
  in the SS7 Test Specifications [Q.780] Section 6.3.  This is the
  normal configuration for SS7 MTP Level 3 testing [Q.782] and is not
  modified by this memo.  Normal MTP Level 3 testing SHOULD be performed
  on the M3UA SG before validation or compatability tests in the other
  configurations described in this memo.

6.1.2.  SG Validation Test Configuration

6.1.2.1.  Configuration A

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

             Figure 15.  SG Validation Test Configuration A


  Applicable Test Cases:

   + 8.1 Signalling traffic flow control -- Reception of a TFC (ALL)
   + 8.2 Signalling traffic flow control -- Reception of a UPU (SEP)
   + 8.3 Signalling traffic flow control -- Sending of a UPU (SEP)

6.1.2.2.  Configuration B

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

             Figure 16.  SG Validation Test Configuration B



B. Bidulock                    Version 0.0                       Page 15

Internet-Draft                  M3UA-TEST              February 21, 2004

  Applicable Test Cases:

   + 5. Forced rerouting (Multiple SG only)
   + 6. Controlled rerouting (Multiple SG only)

6.1.2.3.  Configuration C

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

             Figure 17.  SG Validation Test Configuration C


  Applicable Test Cases:

   + 8.2 Signalling traffic flow control -- Sending of TFCs (STP)

6.1.2.4.  Configuration D

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

             Figure 18.  SG Validation Test Configuration D


  Applicable Test Cases:

   + 9.2.1 Signalling route management -- Broadcast of TFPs -- One one
     linkset failure (STP)
   + 9.2.2 Signalling route management -- Broadcast of TFPs -- One on
     multiple failures (STP)
   + 9.5.1 Signalling route management -- Broadcast of TFAs -- On one
     linkset recovery (STP)
   + 9.5.2 Signalling route management -- Broadcast of TFAs -- Various
     reasons (STP)

     Figure 18 illustrates the Validation Test configuration.  As
  described in the SS7 Test Specification [Q.780], the SS7 MTP Level 3
  validation test environment consists of the following components:

   (1)   The Protocol Tester (PT) performing validation tests at
         position "B".

   (2)   The Implementation Under Test (IUT) that is being validated at
         position "A".

   (3)   One or more SS7 Signalling Links [Q.703] between the PT at
         position "B" and the IUT at position "A".

B. Bidulock                    Version 0.0                       Page 16

Internet-Draft                  M3UA-TEST              February 21, 2004

   (4)   A Simulator of Upper Levels attached to the IUT at position
         "A".

     In addition, this memo specifies the interface between the IUT and
  the Simulator of Upper Levels [Q.780] within the test environment.

     The Simulator of Upper Levels SHALL be attached to the IUT at
  position "A" using an M3UA SCTP Association.  The Simulator of Upper
  Levels SHALL inject and collect M3UA messages to and from the IUT
  during the performance of SS7 MTP Level 3 testing [Q.782].  The
  Simulator of Upper Levels SHALL inject and collect the M3UA messages
  as described in Section 8 of this memo.

6.1.3.  SG-ASP Validation Test Configuration

6.1.3.1.  Configuration A

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

           Figure 19.  SG-ASP Validation Test Configuration A


6.1.3.2.  Configuration B

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

           Figure 20.  SG-ASP Validation Test Configuration B


6.1.3.3.  Configuration C

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

           Figure 21.  SG-ASP Validation Test Configuration C


6.1.3.4.  Configuration D






B. Bidulock                    Version 0.0                       Page 17

Internet-Draft                  M3UA-TEST              February 21, 2004

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

           Figure 22.  SG-ASP Validation Test Configuration D


     Figure 22 illustrates a Validation Test configuration that includes
  one or more ASP in the validation tests.  In this case, the Simulator
  of Upper Levels is connected at the ASP rather than directly to the
  SG.  In this configuration, the combination of ASP and SG form the
  IUT.

     For this configuration, the interface between the Simulator of
  Upper Levels and the M3UA ASP is the same as for normal SS7 MTP Level
  3 Testing [Q.782, Q.780].  The test environment SHOULD include
  monitoring of the M3UA SCTP Association to ensure the mapping between
  SS7 MTP Level 3 [Q.704] primitives, SS7 MTP Level 3 Test Specification
  [Q.782] commands, and SS7 MTP3-User Adpatation Layer [M3UA] messages
  as described in Section 8 of this memo.

6.2.  Compatability Test Configurations

     Compatability testing consists of testing two IUT for compatability
  with each other.  Several test configurations can be used with M3UA
  Signalling Gateways (SG) and Application Server Processes (ASP) as
  follows:

6.2.1.  SS7 Compatability Test Configuration

6.2.1.1.  Configuration A

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

           Figure 23.  SS7 Compatability Test Configuration A


6.2.1.2.  Configuration B

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

           Figure 24.  SS7 Compatability Test Configuration B



B. Bidulock                    Version 0.0                       Page 18

Internet-Draft                  M3UA-TEST              February 21, 2004

6.2.1.3.  Configuration C

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

           Figure 25.  SS7 Compatability Test Configuration C


6.2.1.4.  Configuration D

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

           Figure 26.  SS7 Compatability Test Configuration D


     Figure 26 illustrates the Compatability Test configuration.  As
  described in the SS7 Test Specification [Q.780], the SS7 MTP Level 3
  compatability test environment consists of the following components:

   (1)   One Implementation Under Test (IUT) for compatability testing
         at postition "A".

   (2)   Another Implementation Under Test (IUT) for compatability
         testing at postition "B".

   (3)   One ore more SS7 Signalling Links [Q.703] between the IUT at
         position "A" and the IUT at position "B".

   (4)   A Simulator of Upper Levels attached to the IUT at position
         "A".

   (5)   A Simulator of Upper Levels attached to the IUT at position
         "B".

     For this configuration, the interface between each IUT and the
  Simulator of Upper Levels is that described in the SS7 Test
  Specifications [Q.780].  This is the normal configuration for SS7 MTP
  Level 3 testing [Q.782] and is not modified by this memo.  Normal SS7
  MTP Level 3 testing SHOULD be performed on the M3UA SG before
  performing compatability tests in the other configurations described
  in this memo.

6.2.2.  SG Compatability Test Configuration





B. Bidulock                    Version 0.0                       Page 19

Internet-Draft                  M3UA-TEST              February 21, 2004

6.2.2.1.  Configuration A

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

           Figure 27.  SG Compatability Test Configuration A


6.2.2.2.  Configuration B

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

           Figure 28.  SG Compatability Test Configuration B


  Applicable Test Cases:

   + 5. Forced rerouting (Multiple SG only)
   + 6. Controlled rerouting (Multiple SG only)

6.2.2.3.  Configuration C

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

           Figure 29.  SG Compatability Test Configuration C


6.2.2.4.  Configuration D

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

           Figure 30.  SG Compatability Test Configuration D


  Applicable Test Cases:

   + 9.2.1 Signalling route management -- Broadcast of TFPs -- One one
     linkset failure (STP)


B. Bidulock                    Version 0.0                       Page 20

Internet-Draft                  M3UA-TEST              February 21, 2004

   + 9.2.2 Signalling route management -- Broadcast of TFPs -- One on
     multiple failures (STP)
   + 9.5.1 Signalling route management -- Broadcast of TFAs -- On one
     linkset recovery (STP)
   + 9.5.2 Signalling route management -- Broadcast of TFAs -- Various
     reasons (STP)

     Figure 30 illustrates the Compatability Test configuration.  AS
  described in the SS7 Test Specificaiton [Q.780], the SS7 MTP Level 3
  compatability test environment consists of the following components:

   (1)   One Implementation Under Test (IUT) for compatability testing
         at postition "A".

   (2)   Another Implementation Under Test (IUT) for compatability
         testing at postition "B".

   (3)   One ore more SS7 Signalling Links [Q.703] between the IUT at
         position "A" and the IUT at position "B".

   (4)   A Simulator of Upper Levels attached to the IUT at position
         "A".

   (5)   A Simulator of Upper Levels attached to the IUT at position
         "B".

     In addition, this memo specifies the interface between the IUT and
  the Simulator of Upper Levels [Q.780] within the test environment.

     The Simulator of Upper Levels SHALL be attached to the IUT at
  positions "A" and "B" using an M3UA SCTP Association.  The Simulator
  of Upper Levels SHALL inject and collect M3UA messages to and from the
  IUT during the performance of SS7 MTP Level 3 tesitng [Q.782].  The
  Simulator of Upper Levels SHALL inject and collect M3UA messages as
  described in Section 8 of this memo.

6.2.3.  SG-ASP Compatability Test Configuration

6.2.3.1.  Configuration A

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                      (Not Applicable)                       |
    |                                                             |
    |_____________________________________________________________|

         Figure 31.  SG-ASP Compatability Test Configuration A


6.2.3.2.  Configuration B




B. Bidulock                    Version 0.0                       Page 21

Internet-Draft                  M3UA-TEST              February 21, 2004

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

         Figure 32.  SG-ASP Compatability Test Configuration B


6.2.3.3.  Configuration C

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

         Figure 33.  SG-ASP Compatability Test Configuration C


6.2.3.4.  Configuration D

     _____________________________________________________________
    |                                                             |
    | TEST ENVIRONMENT                                            |
    |                                                             |
    |_____________________________________________________________|

         Figure 34.  SG-ASP Compatability Test Configuration D


     Figure 34 illustrates a Compatability Test Configuration that
  includes an ASP in the compatability tests.  In this case the
  Simulator of Upper Levels is connected at the ASp rather than directly
  to the SG.  In this configuration, the combinatio of each ASP and SG
  form the two IUT.

     For this configuration, the interface between the Simulator of
  Upper Levels and the M3UA ASP is the same as for normal SS7 MTP Level
  3 Testing [Q.782, Q.780].  The test environment SHOULD also include
  monitoring of the M3UA SCTP Association and ensure the mapping between
  SS7 MTP Level 3 [Q.704] signals, SS7 MTP Level 3 Test Specification
  [Q.782] commands, and SS7 MTP3-User Adaptation Layer [M3UA] messages
  as described in Section 8 of this memo.

Notes for Section 6

  [1]  Note that there are no SS7 MTP Level 3 Validation or
       Compatability tests for M3UA IPSP.  This is because M3UA IPSP
       are restricted to point-to-point operation within the IP
       domain.  As such, there is no SS7 component to the exchange
       between IPSPs and, thus, no SS7 MTP Level 3 test can be
       formulated.


B. Bidulock                    Version 0.0                       Page 22

Internet-Draft                  M3UA-TEST              February 21, 2004

7.  SS7 MTP Level 3 Tests

8.  SS7 MTP Level 3 Mapping

9.  SS7 MTP Level 3 Test Examples

Security Considerations

     There are no security considerations for this draft.

IANA Considerations

     There are no IANA considerations for this draft.


0.  Revision History

     This section provides historical information on the changes made to
  this draft.  This section will be removed from the document when the
  document is finalized.

0.0.  Version 0.0

    $Log: draft-bidulock-sigtran-m3ua-test-00.txt,v $
    Revision 0.9.2.1  2004-03-16 07:05:39  brian
    - Added older drafts in pdf and txt form.

    Revision 0.8.2.2  2003/07/29 02:32:59  brian
    A few more general updates.

    Revision 0.8.2.1  2003/07/29 00:34:35  brian
    Finalizing latest round of drafts.

    Revision 0.8  2003/07/26 19:12:01  brian
    Added new drafts.























B. Bidulock                    Version 0.0                       Page 23

Internet-Draft                  M3UA-TEST              February 21, 2004


R.  References

R.1.  Normative References

  [M3UA]  Sidebottom, G., Morneault, K. and Pastor-Balbas, J., (eds),
       "Signaling System 7 (SS7) Message Transfer Part 3 (MTP3) - User
       Adaptation Layer (M3UA)," RFC 3332, Internet Engineering Task
       Force - Signalling Transport Working Group (September, 2002).

  [RFC 2960]  Stewart, R., Xie, Q., Morneault, K., Sharp, C.,
       Schwarzbauer, H. J., Taylor, T., Rytina, I., Kalla, H., Zhang, L.
       and Paxson, V., "Stream Control Transmission Protocol (SCTP),"
       RFC 2960, The Internet Society (February 2000).

  [Q.704]  ITU, "Message Transfer Part - Signalling Network Functions
       and Messages," ITU-T Recommendation Q.704, ITU-T
       Telecommunication Standardization Sector of ITU, Geneva (March
       1993).  (Previously "CCITT Recommendation")

  [RFC 2119]  Bradner, S., "Key words for use in RFCs to Indicate
       Requirement Levels," RFC 2119 - BCP 14, The Internet Society
       (March 1997).

  [Q.782]  ITU, "Specifications of Signalling System No. 7 -- Test
       Specification -- MTP Level 3 Test Specification," ITU-T
       Recommendation Q.782, ITU-T Telecommunication Standardization
       Sector of ITU, Geneva (July 1996).  (Previously "CCITT
       Recommendation")

  [Q.780]  ITU, "Signalling System No. 7 Test Specification -- General
       Description," ITU-T Recommendation Q.780, ITU-T Telecommunication
       Standardization Sector of ITU, Geneva (October 1995).
       (Previously "CCITT Recommendation")

  [Q.703]  ITU, "Signalling System No. 7 - Signalling Link," ITU-T
       Recommendation Q.703, ITU-T Telecommunication Standardization
       Sector of ITU, Geneva (March 1993).  (Previously "CCITT
       Recommendation")

R.2.  Informative References

  [T1.111]  ANSI, "Signalling System No. 7 - Message Transfer Part,"
       ANSI T1.111, American National Standards Institue (1992).

  [JT-Q.704]  TTC, "Message Transfer Part - Signalling Network Functions
       and Messages," TTC Standard JT-Q.704, Telecommunication
       Technology Committee (TTC) (April 28, 1992).







B. Bidulock                    Version 0.0                       Page 24

Internet-Draft                  M3UA-TEST              February 21, 2004


Author's Addresses

  Brian Bidulock                                    Tel: +1-780-490-1141
  OpenSS7 Corporation                        Email: bidulock@openss7.org
  1469 Jeffreys Crescent                     URL: http//www.openss7.org/
  Edmonton, AB  T6L 6T1
  Canada




  This draft expires January 2004.










































B. Bidulock                    Version 0.0                       Page 25

Internet-Draft                  M3UA-TEST              February 21, 2004


                        List of Illustrations

  Figure 1. Environment #1(a) -- SGP Validation ...................    5
  Figure 2. Environment #1(b) -- ASP Validation ...................    5
  Figure 3. Environment #1(c) -- IPSP Validation ..................    6
  Figure 4. Environment #1(a,b) -- ASP/SGP Compatability ..........    6
  Figure 5. Environment #1(c) -- IPSP Compatability ...............    7
  Figure 6. Environment #2(a) -- SGP Validation ...................    8
  Figure 7. Environment #2(b) -- ASP Validation ...................    9
  Figure 8. Environment #2(c) -- IPSP Validation ..................   10
  Figure 9. Environment #2(a,b) -- ASP/SGP Compatability ..........   11
  Figure 10. Environment #2(c) -- IPSP Compatability ..............   12
  Figure 11. SS7 Validation Test Configuration A ..................   14
  Figure 12. SS7 Validation Test Configuration B ..................   14
  Figure 13. SS7 Validation Test Configuration C ..................   14
  Figure 14. SS7 Validation Test Configuration D ..................   14
  Figure 15. SG Validation Test Configuration A ...................   15
  Figure 16. SG Validation Test Configuration B ...................   15
  Figure 17. SG Validation Test Configuration C ...................   16
  Figure 18. SG Validation Test Configuration D ...................   16
  Figure 19. SG-ASP Validation Test Configuration A ...............   17
  Figure 20. SG-ASP Validation Test Configuration B ...............   17
  Figure 21. SG-ASP Validation Test Configuration C ...............   17
  Figure 22. SG-ASP Validation Test Configuration D ...............   18
  Figure 23. SS7 Compatability Test Configuration A ...............   18
  Figure 24. SS7 Compatability Test Configuration B ...............   18
  Figure 25. SS7 Compatability Test Configuration C ...............   19
  Figure 26. SS7 Compatability Test Configuration D ...............   19
  Figure 27. SG Compatability Test Configuration A ................   20
  Figure 28. SG Compatability Test Configuration B ................   20
  Figure 29. SG Compatability Test Configuration C ................   20
  Figure 30. SG Compatability Test Configuration D ................   20
  Figure 31. SG-ASP Compatability Test Configuration A ............   21
  Figure 32. SG-ASP Compatability Test Configuration B ............   22
  Figure 33. SG-ASP Compatability Test Configuration C ............   22
  Figure 34. SG-ASP Compatability Test Configuration D ............   22

                          Table of Contents

  Status of this Memo .............................................    1
  Copyright .......................................................    1
  Abstract ........................................................    1
  1 Introduction ..................................................    2
  1.1 Scope .......................................................    2
  1.2 Terminology .................................................    2
  1.3 Abbreviations ...............................................    2
  1.4 Conventions .................................................    2
  2 M3UA Test Environment .........................................    2
  2.1 Validation Testing ..........................................    2
  2.2 Compatability Testing .......................................    3
  2.3 Test Specification ..........................................    4
  3 M3UA Test Configurations ......................................    4
  3.1 Test Environment #1 .........................................    4

B. Bidulock                    Version 0.0                       Page 26

Internet-Draft                  M3UA-TEST              February 21, 2004

  3.1.1 Validation ................................................    4
  3.1.2 Compatability .............................................    6
  3.2 Test Environment #2 .........................................    7
  3.2.1 Validation ................................................    7
  3.2.2 Compatability .............................................   10
  4 M3UA Tests ....................................................   12
  4.1 Test Cases ..................................................   12
  4.1.1 SCTP Associations .........................................   12
  4.1.2 Registration Procedures ...................................   12
  4.1.3 Deregistration Procedures .................................   12
  4.1.4 ASP Up Procedures .........................................   13
  4.1.5 ASP Down Procedures .......................................   13
  4.1.6 ASP Active Procedures .....................................   13
  4.1.7 ASP Inactive Procedures ...................................   13
  4.1.8 Notification Procedures ...................................   13
  4.1.9 SS7 Signalling Network Management Procedures ..............   13
  4.1.10 MTP Transfer Procedures ..................................   13
  4.1.11 ASP Failure ..............................................   13
  4.1.12 Erroneous Messages .......................................   13
  4.1.13 Unexpected Messages ......................................   13
  5 SS7 MTP Level 3 Test Environment ..............................   13
  6 SS7 MTP Level 3 Test Configurations ...........................   13
  6.1 Validation Test Configuration ...............................   14
  6.1.1 SS7 Validation Test Configuration .........................   14
  6.1.2 SG Validation Test Configuration ..........................   15
  6.1.3 SG-ASP Validation Test Configuration ......................   17
  6.2 Compatability Test Configurations ...........................   18
  6.2.1 SS7 Compatability Test Configuration ......................   18
  6.2.2 SG Compatability Test Configuration .......................   19
  6.2.3 SG-ASP Compatability Test Configuration ...................   21
  Notes for Section 6 .............................................   22
  7 SS7 MTP Level 3 Tests .........................................   23
  8 SS7 MTP Level 3 Mapping .......................................   23
  9 SS7 MTP Level 3 Test Examples .................................   23
  Security Considerations .........................................   23
  IANA Considerations .............................................   23
  0 Revision History ..............................................   23
  0.0 Version 0.0 .................................................   23
  R References ....................................................   24
  R.1 Normative References ........................................   24
  R.2 Informative References ......................................   24
  Author's Addresses ..............................................   25
  List of Illustrations ...........................................   26
  Table of Contents ...............................................   26











B. Bidulock                    Version 0.0                       Page 27

Internet-Draft                  M3UA-TEST              February 21, 2004

Full Copyright Statement

  Copyright (C) The Internet Society (2003).  All Rights Reserved.

     This document and translations of it may be copied and furnished to
  others, and derivative works that comment on or otherwise explain it
  or assist in its implementation may be prepared, copied, published and
  distributed, in whole or in part, without restriction of any kind,
  provided that the above copyright notice and this paragraph are
  included on all such copies and derivative works.  However, this
  document itself may not be modified in any way, such as by removing
  the copyright notice or references to the Internet Society or other
  Internet organizations, except as needed for the purpose of developing
  Internet standards in which case the procedure for copyrights defined
  in the Internet Standards process must be followed, or as required to
  translate into languages other than English.

     The limited permission granted above are perpetual and will not be
  revoked by the Internet Society or its successors or assigns.

     This document and the information contained herein is provided on
  an "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
  TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT
  NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN
  WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
  MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

     Funding for the RFC Editor function is currently provided by the
  Internet Society.
























B. Bidulock                    Version 0.0                       Page 28
